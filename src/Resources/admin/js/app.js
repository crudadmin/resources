(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t){var i,a,n=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(e){a=o}}();var l,d=[],u=!1,c=-1;function f(){u&&l&&(u=!1,l.length?d=l.concat(d):c=-1,d.length&&h())}function h(){if(!u){var e=r(f);u=!0;for(var t=d.length;t;){for(l=d,d=[];++c<t;)l&&l[c].run();c=-1,t=d.length}l=null,u=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new p(e,t)),1!==d.length||u||r(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},133:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={name:"gettext-extension",props:["gettext_editor","gettext_table"],data:function(){return{translates:{},showMissing:!1,missing:[],plurals:[],plural_forms:"",query:null,changes:{},limit:20,loaded:!1}},mounted:function(){this.loadTranslations()},computed:{availableTranslated:function(){var e={};for(var t in this.translates)-1!==this.missing.indexOf(t)&&!0!==this.showMissing||(e[t]=this.translates[t]);return e},filtratedTranslates:function(){var e={},t=(this.query+"").toLowerCase(),i=0;for(var a in this.availableTranslated)(0==this.limit||i<this.limit)&&(!this.query||this.hasChange(a)||this.availableTranslated[a].join("").toLowerCase().indexOf(t)>-1||a.toLowerCase().indexOf(t)>-1)&&(e[a]=this.availableTranslated[a],i++);return e},fullCount:function(){return Object.keys(this.availableTranslated).length},resultLength:function(){return Object.keys(this.filtratedTranslates).length},pluralLength:function(){var e=this.plural_forms.match(/nplurals\=(\d+)/);return parseInt(e[1]||2)},getPluralsIntervals:function getPluralsIntervals(){for(var forms=this.plural_forms.split(";")[1].replace("plural=",""),plurals=[],is_double=2==this.pluralLength,i=0;i<this.pluralLength;i++){for(var start=null,end=null,a=1;a<100;a++){var statement=forms.replace(/n/g,a),condition=eval(statement),result=parseInt(condition);if(null===start&&(is_double&&(0==i&&!1===condition||i>0&&!0===condition)||result===i)&&(start=a),null!==start&&null===end&&!is_double&&result!=i){i>0&&(end=a-1);break}}plurals.push([start,start==end?null:end])}return plurals=plurals.map((function(e,t){e=e.filter((function(e){return e}));return t+1==plurals.length&&1==e.length?e[0]+"+":e.join(" - ")})),plurals}},methods:{close:function(){this.$parent.gettext_editor=null},loadTranslations:function(){var e=this.$root.requests.translations.replace(":id",this.gettext_editor.id).replace(":table",this.gettext_table);this.$http.get(e).then((function(e){var t=e.data.messages;this.missing=e.data.missing,this.plurals=e.data.plurals,this.plural_forms=e.data["plural-forms"],this.translates=e.data.messages[Object.keys(t)[0]]||{},this.loaded=!0}))},isPlural:function(e){return this.plurals.indexOf(e)>-1},isMissing:function(e){return this.missing.indexOf(e)>-1},getPluralLength:function(e){return this.isPlural(e)?this.pluralLength:1},getPluralsPlaceholder:function(e,t){return this.isPlural(e)?e.indexOf("%d")>-1?e.replace("%d",this.getPluralsIntervals[t]):this.getPluralsIntervals[t]:""},getValue:function(e,t){return e&&e[t]||""},changeText:function(e,t,i){var a=e.target.value;this.isPlural(t)?(t in this.changes||this.$set(this.changes,t,this.translates[t]),this.changes[t][i]=a):this.$set(this.changes,t,a),this.translates[t][i]=a},saveAndClose:function(){var e=this,t=this.$root.requests.get("update_translations",{id:this.gettext_editor.id,table:this.gettext_table});this.$http.post(t,{changes:JSON.stringify(this.changes)}).then((function(){e.close()}))},hasChange:function(e){return e in this.changes}}}},134:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},135:function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var a,n,s,o,r,l=1,d={},u=!1,c=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},a=function(e){s.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,a=function(e){var t=c.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):a=function(e){setTimeout(p,0,e)}:(o="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),a=function(t){e.postMessage(o+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return d[l]=n,a(l),l++},f.clearImmediate=h}function h(e){delete d[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=d[e];if(t){u=!0;try{!function(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(i,a)}}(t)}finally{h(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(2),i(132))},140:function(e,t,i){"use strict";i.r(t),function(e){var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,a=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(i&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var n=i&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),a))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var i=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?i[t]:i}function r(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),i=t.overflow,a=t.overflowX,n=t.overflowY;return/(auto|scroll|overlay)/.test(i+n+a)?e:l(r(e))}function d(e){return e&&e.referenceNode?e.referenceNode:e}var u=i&&!(!window.MSInputMethodContext||!document.documentMode),c=i&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?u:10===e?c:u||c}function h(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,i=e.offsetParent||null;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var a=i&&i.nodeName;return a&&"BODY"!==a&&"HTML"!==a?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===o(i,"position")?h(i):i:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,a=i?e:t,n=i?t:e,s=document.createRange();s.setStart(a,0),s.setEnd(n,0);var o,r,l=s.commonAncestorContainer;if(e!==l&&t!==l||a.contains(n))return"BODY"===(r=(o=l).nodeName)||"HTML"!==r&&h(o.firstElementChild)!==o?h(l):l;var d=p(e);return d.host?m(d.host,t):m(e,p(t).host)}function g(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var a=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||a)[t]}return e[t]}function v(e,t){var i="x"===t?"Left":"Top",a="Left"===i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"],10)+parseFloat(e["border"+a+"Width"],10)}function b(e,t,i,a){return Math.max(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],f(10)?parseInt(i["offset"+e])+parseInt(a["margin"+("Height"===e?"Top":"Left")])+parseInt(a["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,i=e.documentElement,a=f(10)&&getComputedStyle(i);return{height:b("Height",t,i,a),width:b("Width",t,i,a)}}var y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),x=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function k(e){return C({},e,{right:e.left+e.width,bottom:e.top+e.height})}function $(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var i=g(e,"top"),a=g(e,"left");t.top+=i,t.left+=a,t.bottom+=i,t.right+=a}else t=e.getBoundingClientRect()}catch(e){}var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?_(e.ownerDocument):{},r=s.width||e.clientWidth||n.width,l=s.height||e.clientHeight||n.height,d=e.offsetWidth-r,u=e.offsetHeight-l;if(d||u){var c=o(e);d-=v(c,"x"),u-=v(c,"y"),n.width-=d,n.height-=u}return k(n)}function S(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=f(10),n="HTML"===t.nodeName,s=$(e),r=$(t),d=l(e),u=o(t),c=parseFloat(u.borderTopWidth,10),h=parseFloat(u.borderLeftWidth,10);i&&n&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0));var p=k({top:s.top-r.top-c,left:s.left-r.left-h,width:s.width,height:s.height});if(p.marginTop=0,p.marginLeft=0,!a&&n){var m=parseFloat(u.marginTop,10),v=parseFloat(u.marginLeft,10);p.top-=c-m,p.bottom-=c-m,p.left-=h-v,p.right-=h-v,p.marginTop=m,p.marginLeft=v}return(a&&!i?t.contains(d):t===d&&"BODY"!==d.nodeName)&&(p=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=g(t,"top"),n=g(t,"left"),s=i?-1:1;return e.top+=a*s,e.bottom+=a*s,e.left+=n*s,e.right+=n*s,e}(p,t)),p}function E(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function D(e,t,i,a){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},u=n?E(e):m(e,d(t));if("viewport"===a)s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.ownerDocument.documentElement,a=S(e,i),n=Math.max(i.clientWidth,window.innerWidth||0),s=Math.max(i.clientHeight,window.innerHeight||0),o=t?0:g(i),r=t?0:g(i,"left");return k({top:o-a.top+a.marginTop,left:r-a.left+a.marginLeft,width:n,height:s})}(u,n);else{var c=void 0;"scrollParent"===a?"BODY"===(c=l(r(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===a?e.ownerDocument.documentElement:a;var f=S(c,u,n);if("HTML"!==c.nodeName||function e(t){var i=t.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===o(t,"position"))return!0;var a=r(t);return!!a&&e(a)}(u))s=f;else{var h=_(e.ownerDocument),p=h.height,v=h.width;s.top+=f.top-f.marginTop,s.bottom=p+f.top,s.left+=f.left-f.marginLeft,s.right=v+f.left}}var b="number"==typeof(i=i||0);return s.left+=b?i:i.left||0,s.top+=b?i:i.top||0,s.right-=b?i:i.right||0,s.bottom-=b?i:i.bottom||0,s}function T(e,t,i,a,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=D(i,a,s,n),r={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(r).map((function(e){return C({key:e},r[e],{area:(t=r[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),d=l.filter((function(e){var t=e.width,a=e.height;return t>=i.clientWidth&&a>=i.clientHeight})),u=d.length>0?d[0].key:l[0].key,c=e.split("-")[1];return u+(c?"-"+c:"")}function M(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return S(i,a?E(t):m(t,d(i)),a)}function O(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),i=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),a=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+a,height:e.offsetHeight+i}}function A(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function I(e,t,i){i=i.split("-")[0];var a=O(e),n={width:a.width,height:a.height},s=-1!==["right","left"].indexOf(i),o=s?"top":"left",r=s?"left":"top",l=s?"height":"width",d=s?"width":"height";return n[o]=t[o]+t[l]/2-a[l]/2,n[r]=i===r?t[r]-a[d]:t[A(r)],n}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,i){return(void 0===i?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===i}));var a=R(e,(function(e){return e[t]===i}));return e.indexOf(a)}(e,"name",i))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=e.function||e.fn;e.enabled&&s(i)&&(t.offsets.popper=k(t.offsets.popper),t.offsets.reference=k(t.offsets.reference),t=i(t,e))})),t}function j(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=T(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=I(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=F(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function P(e,t){return e.some((function(e){var i=e.name;return e.enabled&&i===t}))}function N(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),a=0;a<t.length;a++){var n=t[a],s=n?""+n+i:e;if(void 0!==document.body.style[s])return s}return null}function L(){return this.state.isDestroyed=!0,P(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[N("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function q(e){var t=e.ownerDocument;return t?t.defaultView:window}function z(e,t,i,a){i.updateBound=a,q(e).addEventListener("resize",i.updateBound,{passive:!0});var n=l(e);return function e(t,i,a,n){var s="BODY"===t.nodeName,o=s?t.ownerDocument.defaultView:t;o.addEventListener(i,a,{passive:!0}),s||e(l(o.parentNode),i,a,n),n.push(o)}(n,"scroll",i.updateBound,i.scrollParents),i.scrollElement=n,i.eventsEnabled=!0,i}function B(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}function H(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function V(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function G(e,t){Object.keys(t).forEach((function(i){var a="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&V(t[i])&&(a="px"),e.style[i]=t[i]+a}))}var Y=i&&/Firefox/i.test(navigator.userAgent);function U(e,t,i){var a=R(e,(function(e){return e.name===t})),n=!!a&&e.some((function(e){return e.name===i&&e.enabled&&e.order<a.order}));if(!n){var s="`"+t+"`",o="`"+i+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return n}var W=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=W.slice(3);function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=X.indexOf(e),a=X.slice(i+1).concat(X.slice(0,i));return t?a.reverse():a}var Q={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function J(e,t,i,a){var n=[0,0],s=-1!==["right","left"].indexOf(a),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),r=o.indexOf(R(o,(function(e){return-1!==e.search(/,|\s/)})));o[r]&&-1===o[r].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,d=-1!==r?[o.slice(0,r).concat([o[r].split(l)[0]]),[o[r].split(l)[1]].concat(o.slice(r+1))]:[o];return(d=d.map((function(e,a){var n=(1===a?!s:s)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,i,a){var n=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+n[1],o=n[2];if(!s)return e;if(0===o.indexOf("%")){var r=void 0;switch(o){case"%p":r=i;break;case"%":case"%r":default:r=a}return k(r)[t]/100*s}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s}return s}(e,n,t,i)}))}))).forEach((function(e,t){e.forEach((function(i,a){V(i)&&(n[t]+=i*("-"===e[a-1]?-1:1))}))})),n}var Z={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,i=t.split("-")[0],a=t.split("-")[1];if(a){var n=e.offsets,s=n.reference,o=n.popper,r=-1!==["bottom","top"].indexOf(i),l=r?"left":"top",d=r?"width":"height",u={start:x({},l,s[l]),end:x({},l,s[l]+s[d]-o[d])};e.offsets.popper=C({},o,u[a])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var i=t.offset,a=e.placement,n=e.offsets,s=n.popper,o=n.reference,r=a.split("-")[0],l=void 0;return l=V(+i)?[+i,0]:J(i,s,o,r),"left"===r?(s.top+=l[0],s.left-=l[1]):"right"===r?(s.top+=l[0],s.left+=l[1]):"top"===r?(s.left+=l[0],s.top-=l[1]):"bottom"===r&&(s.left+=l[0],s.top+=l[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var i=t.boundariesElement||h(e.instance.popper);e.instance.reference===i&&(i=h(i));var a=N("transform"),n=e.instance.popper.style,s=n.top,o=n.left,r=n[a];n.top="",n.left="",n[a]="";var l=D(e.instance.popper,e.instance.reference,t.padding,i,e.positionFixed);n.top=s,n.left=o,n[a]=r,t.boundaries=l;var d=t.priority,u=e.offsets.popper,c={primary:function(e){var i=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(i=Math.max(u[e],l[e])),x({},e,i)},secondary:function(e){var i="right"===e?"left":"top",a=u[i];return u[e]>l[e]&&!t.escapeWithReference&&(a=Math.min(u[i],l[e]-("right"===e?u.width:u.height))),x({},i,a)}};return d.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=C({},u,c[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,a=t.reference,n=e.placement.split("-")[0],s=Math.floor,o=-1!==["top","bottom"].indexOf(n),r=o?"right":"bottom",l=o?"left":"top",d=o?"width":"height";return i[r]<s(a[l])&&(e.offsets.popper[l]=s(a[l])-i[d]),i[l]>s(a[r])&&(e.offsets.popper[l]=s(a[r])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var i;if(!U(e.instance.modifiers,"arrow","keepTogether"))return e;var a=t.element;if("string"==typeof a){if(!(a=e.instance.popper.querySelector(a)))return e}else if(!e.instance.popper.contains(a))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],s=e.offsets,r=s.popper,l=s.reference,d=-1!==["left","right"].indexOf(n),u=d?"height":"width",c=d?"Top":"Left",f=c.toLowerCase(),h=d?"left":"top",p=d?"bottom":"right",m=O(a)[u];l[p]-m<r[f]&&(e.offsets.popper[f]-=r[f]-(l[p]-m)),l[f]+m>r[p]&&(e.offsets.popper[f]+=l[f]+m-r[p]),e.offsets.popper=k(e.offsets.popper);var g=l[f]+l[u]/2-m/2,v=o(e.instance.popper),b=parseFloat(v["margin"+c],10),_=parseFloat(v["border"+c+"Width"],10),y=g-e.offsets.popper[f]-b-_;return y=Math.max(Math.min(r[u]-m,y),0),e.arrowElement=a,e.offsets.arrow=(x(i={},f,Math.round(y)),x(i,h,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(P(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var i=D(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),a=e.placement.split("-")[0],n=A(a),s=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case Q.FLIP:o=[a,n];break;case Q.CLOCKWISE:o=K(a);break;case Q.COUNTERCLOCKWISE:o=K(a,!0);break;default:o=t.behavior}return o.forEach((function(r,l){if(a!==r||o.length===l+1)return e;a=e.placement.split("-")[0],n=A(a);var d=e.offsets.popper,u=e.offsets.reference,c=Math.floor,f="left"===a&&c(d.right)>c(u.left)||"right"===a&&c(d.left)<c(u.right)||"top"===a&&c(d.bottom)>c(u.top)||"bottom"===a&&c(d.top)<c(u.bottom),h=c(d.left)<c(i.left),p=c(d.right)>c(i.right),m=c(d.top)<c(i.top),g=c(d.bottom)>c(i.bottom),v="left"===a&&h||"right"===a&&p||"top"===a&&m||"bottom"===a&&g,b=-1!==["top","bottom"].indexOf(a),_=!!t.flipVariations&&(b&&"start"===s&&h||b&&"end"===s&&p||!b&&"start"===s&&m||!b&&"end"===s&&g),y=!!t.flipVariationsByContent&&(b&&"start"===s&&p||b&&"end"===s&&h||!b&&"start"===s&&g||!b&&"end"===s&&m),w=_||y;(f||v||w)&&(e.flipped=!0,(f||v)&&(a=o[l+1]),w&&(s=function(e){return"end"===e?"start":"start"===e?"end":e}(s)),e.placement=a+(s?"-"+s:""),e.offsets.popper=C({},e.offsets.popper,I(e.instance.popper,e.offsets.reference,e.placement)),e=F(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],a=e.offsets,n=a.popper,s=a.reference,o=-1!==["left","right"].indexOf(i),r=-1===["top","left"].indexOf(i);return n[o?"left":"top"]=s[i]-(r?n[o?"width":"height"]:0),e.placement=A(t),e.offsets.popper=k(n),e}},hide:{order:800,enabled:!0,fn:function(e){if(!U(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=R(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,a=t.y,n=e.offsets.popper,s=R(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==s?s:t.gpuAcceleration,r=h(e.instance.popper),l=$(r),d={position:n.position},u=function(e,t){var i=e.offsets,a=i.popper,n=i.reference,s=Math.round,o=Math.floor,r=function(e){return e},l=s(n.width),d=s(a.width),u=-1!==["left","right"].indexOf(e.placement),c=-1!==e.placement.indexOf("-"),f=t?u||c||l%2==d%2?s:o:r,h=t?s:r;return{left:f(l%2==1&&d%2==1&&!c&&t?a.left-1:a.left),top:h(a.top),bottom:h(a.bottom),right:f(a.right)}}(e,window.devicePixelRatio<2||!Y),c="bottom"===i?"top":"bottom",f="right"===a?"left":"right",p=N("transform"),m=void 0,g=void 0;if(g="bottom"===c?"HTML"===r.nodeName?-r.clientHeight+u.bottom:-l.height+u.bottom:u.top,m="right"===f?"HTML"===r.nodeName?-r.clientWidth+u.right:-l.width+u.right:u.left,o&&p)d[p]="translate3d("+m+"px, "+g+"px, 0)",d[c]=0,d[f]=0,d.willChange="transform";else{var v="bottom"===c?-1:1,b="right"===f?-1:1;d[c]=g*v,d[f]=m*b,d.willChange=c+", "+f}var _={"x-placement":e.placement};return e.attributes=C({},_,e.attributes),e.styles=C({},d,e.styles),e.arrowStyles=C({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,i;return G(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach((function(e){!1!==i[e]?t.setAttribute(e,i[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&G(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,i,a,n){var s=M(n,t,e,i.positionFixed),o=T(i.placement,s,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",o),G(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},ee=function(){function e(t,i){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(a.update)},this.update=n(this.update.bind(this)),this.options=C({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(C({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){a.options.modifiers[t]=C({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return C({name:e},a.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&s(e.onLoad)&&e.onLoad(a.reference,a.popper,a.options,e,a.state)})),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return w(e,[{key:"update",value:function(){return j.call(this)}},{key:"destroy",value:function(){return L.call(this)}},{key:"enableEventListeners",value:function(){return B.call(this)}},{key:"disableEventListeners",value:function(){return H.call(this)}}]),e}();ee.Utils=("undefined"!=typeof window?window:e).PopperUtils,ee.placements=W,ee.Defaults=Z,t.default=ee}.call(this,i(2))},142:function(e,t,i){var a,n,s;n=[i(3)],void 0===(s="function"==typeof(a=function(e){var t,i,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var o=a.length;o;)e.event.fixHooks[a[--o]]=e.event.mouseHooks;var r=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",r.getLineHeight(this)),e.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),a=i["offsetParent"in e.fn?"offsetParent":"parent"]();return a.length||(a=e("body")),parseInt(a.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(a){var n,o=a||window.event,l=s.call(arguments,1),c=0,f=0,h=0,p=0,m=0;if((a=e.event.fix(o)).type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(f=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(f=-1*h,h=0),c=0===h?f:h,"deltaY"in o&&(c=h=-1*o.deltaY),"deltaX"in o&&(f=o.deltaX,0===h&&(c=-1*f)),0!==h||0!==f){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,f*=g}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,f*=v}if(n=Math.max(Math.abs(h),Math.abs(f)),(!i||n<i)&&(i=n,u(o,n)&&(i/=40)),u(o,n)&&(c/=40,f/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/i),f=Math[f>=1?"floor":"ceil"](f/i),h=Math[h>=1?"floor":"ceil"](h/i),r.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=a.clientX-b.left,m=a.clientY-b.top}return a.deltaX=f,a.deltaY=h,a.deltaFactor=i,a.offsetX=p,a.offsetY=m,a.deltaMode=0,l.unshift(a,c,f,h),t&&clearTimeout(t),t=setTimeout(d,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function d(){i=null}function u(e,t){return r.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})?a.apply(t,n):a)||(e.exports=s)},143:function(e,t,i){var a={"./af":5,"./af.js":5,"./ar":6,"./ar-dz":7,"./ar-dz.js":7,"./ar-kw":8,"./ar-kw.js":8,"./ar-ly":9,"./ar-ly.js":9,"./ar-ma":10,"./ar-ma.js":10,"./ar-sa":11,"./ar-sa.js":11,"./ar-tn":12,"./ar-tn.js":12,"./ar.js":6,"./az":13,"./az.js":13,"./be":14,"./be.js":14,"./bg":15,"./bg.js":15,"./bm":16,"./bm.js":16,"./bn":17,"./bn.js":17,"./bo":18,"./bo.js":18,"./br":19,"./br.js":19,"./bs":20,"./bs.js":20,"./ca":21,"./ca.js":21,"./cs":22,"./cs.js":22,"./cv":23,"./cv.js":23,"./cy":24,"./cy.js":24,"./da":25,"./da.js":25,"./de":26,"./de-at":27,"./de-at.js":27,"./de-ch":28,"./de-ch.js":28,"./de.js":26,"./dv":29,"./dv.js":29,"./el":30,"./el.js":30,"./en-SG":31,"./en-SG.js":31,"./en-au":32,"./en-au.js":32,"./en-ca":33,"./en-ca.js":33,"./en-gb":34,"./en-gb.js":34,"./en-ie":35,"./en-ie.js":35,"./en-il":36,"./en-il.js":36,"./en-nz":37,"./en-nz.js":37,"./eo":38,"./eo.js":38,"./es":39,"./es-do":40,"./es-do.js":40,"./es-us":41,"./es-us.js":41,"./es.js":39,"./et":42,"./et.js":42,"./eu":43,"./eu.js":43,"./fa":44,"./fa.js":44,"./fi":45,"./fi.js":45,"./fo":46,"./fo.js":46,"./fr":47,"./fr-ca":48,"./fr-ca.js":48,"./fr-ch":49,"./fr-ch.js":49,"./fr.js":47,"./fy":50,"./fy.js":50,"./ga":51,"./ga.js":51,"./gd":52,"./gd.js":52,"./gl":53,"./gl.js":53,"./gom-latn":54,"./gom-latn.js":54,"./gu":55,"./gu.js":55,"./he":56,"./he.js":56,"./hi":57,"./hi.js":57,"./hr":58,"./hr.js":58,"./hu":59,"./hu.js":59,"./hy-am":60,"./hy-am.js":60,"./id":61,"./id.js":61,"./is":62,"./is.js":62,"./it":63,"./it-ch":64,"./it-ch.js":64,"./it.js":63,"./ja":65,"./ja.js":65,"./jv":66,"./jv.js":66,"./ka":67,"./ka.js":67,"./kk":68,"./kk.js":68,"./km":69,"./km.js":69,"./kn":70,"./kn.js":70,"./ko":71,"./ko.js":71,"./ku":72,"./ku.js":72,"./ky":73,"./ky.js":73,"./lb":74,"./lb.js":74,"./lo":75,"./lo.js":75,"./lt":76,"./lt.js":76,"./lv":77,"./lv.js":77,"./me":78,"./me.js":78,"./mi":79,"./mi.js":79,"./mk":80,"./mk.js":80,"./ml":81,"./ml.js":81,"./mn":82,"./mn.js":82,"./mr":83,"./mr.js":83,"./ms":84,"./ms-my":85,"./ms-my.js":85,"./ms.js":84,"./mt":86,"./mt.js":86,"./my":87,"./my.js":87,"./nb":88,"./nb.js":88,"./ne":89,"./ne.js":89,"./nl":90,"./nl-be":91,"./nl-be.js":91,"./nl.js":90,"./nn":92,"./nn.js":92,"./pa-in":93,"./pa-in.js":93,"./pl":94,"./pl.js":94,"./pt":95,"./pt-br":96,"./pt-br.js":96,"./pt.js":95,"./ro":97,"./ro.js":97,"./ru":98,"./ru.js":98,"./sd":99,"./sd.js":99,"./se":100,"./se.js":100,"./si":101,"./si.js":101,"./sk":102,"./sk.js":102,"./sl":103,"./sl.js":103,"./sq":104,"./sq.js":104,"./sr":105,"./sr-cyrl":106,"./sr-cyrl.js":106,"./sr.js":105,"./ss":107,"./ss.js":107,"./sv":108,"./sv.js":108,"./sw":109,"./sw.js":109,"./ta":110,"./ta.js":110,"./te":111,"./te.js":111,"./tet":112,"./tet.js":112,"./tg":113,"./tg.js":113,"./th":114,"./th.js":114,"./tl-ph":115,"./tl-ph.js":115,"./tlh":116,"./tlh.js":116,"./tr":117,"./tr.js":117,"./tzl":118,"./tzl.js":118,"./tzm":119,"./tzm-latn":120,"./tzm-latn.js":120,"./tzm.js":119,"./ug-cn":121,"./ug-cn.js":121,"./uk":122,"./uk.js":122,"./ur":123,"./ur.js":123,"./uz":124,"./uz-latn":125,"./uz-latn.js":125,"./uz.js":124,"./vi":126,"./vi.js":126,"./x-pseudo":127,"./x-pseudo.js":127,"./yo":128,"./yo.js":128,"./zh-cn":129,"./zh-cn.js":129,"./zh-hk":130,"./zh-hk.js":130,"./zh-tw":131,"./zh-tw.js":131};function n(e){var t=s(e);return i(t)}function s(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id=143},145:function(e,t){(function(t){e.exports=t}).call(this,{})},147:function(e,t,i){(function(e){var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(n.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new s(n.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(135),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(2))},148:function(e,t){},149:function(e,t,i){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),a.forEach((function(t){n(e,t,i[t])}))}return e}function r(e,t){if(null==e)return{};var i,a,n=function(e,t){if(null==e)return{};var i,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)i=s[a],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)i=s[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.r(t),i.d(t,"MultiDrag",(function(){return _t})),i.d(t,"Sortable",(function(){return qe})),i.d(t,"Swap",(function(){return lt}));function d(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var u=d(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),c=d(/Edge/i),f=d(/firefox/i),h=d(/safari/i)&&!d(/chrome/i)&&!d(/android/i),p=d(/iP(ad|od|hone)/i),m=d(/chrome/i)&&d(/android/i),g={capture:!1,passive:!1};function v(e,t,i){e.addEventListener(t,i,!u&&g)}function b(e,t,i){e.removeEventListener(t,i,!u&&g)}function _(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function y(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,i,a){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&_(e,t):_(e,t))||a&&e===i)return e;if(e===i)break}while(e=y(e))}return null}var x,C=/\s+/g;function k(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(a+(i?" "+t:"")).replace(C," ")}}function $(e,t,i){var a=e&&e.style;if(a){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in a||-1!==t.indexOf("webkit")||(t="-webkit-"+t),a[t]=i+("string"==typeof i?"":"px")}}function S(e,t){var i="";if("string"==typeof e)i=e;else do{var a=$(e,"transform");a&&"none"!==a&&(i=a+" "+i)}while(!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function E(e,t,i){if(e){var a=e.getElementsByTagName(t),n=0,s=a.length;if(i)for(;n<s;n++)i(a[n],n);return a}return[]}function D(){var e=document.scrollingElement;return e||document.documentElement}function T(e,t,i,a,n){if(e.getBoundingClientRect||e===window){var s,o,r,l,d,c,f;if(e!==window&&e!==D()?(o=(s=e.getBoundingClientRect()).top,r=s.left,l=s.bottom,d=s.right,c=s.height,f=s.width):(o=0,r=0,l=window.innerHeight,d=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||i)&&e!==window&&(n=n||e.parentNode,!u))do{if(n&&n.getBoundingClientRect&&("none"!==$(n,"transform")||i&&"static"!==$(n,"position"))){var h=n.getBoundingClientRect();o-=h.top+parseInt($(n,"border-top-width")),r-=h.left+parseInt($(n,"border-left-width")),l=o+s.height,d=r+s.width;break}}while(n=n.parentNode);if(a&&e!==window){var p=S(n||e),m=p&&p.a,g=p&&p.d;p&&(l=(o/=g)+(c/=g),d=(r/=m)+(f/=m))}return{top:o,left:r,bottom:l,right:d,width:f,height:c}}}function M(e,t,i){for(var a=F(e,!0),n=T(e)[t];a;){var s=T(a)[i];if(!("top"===i||"left"===i?n>=s:n<=s))return a;if(a===D())break;a=F(a,!1)}return!1}function O(e,t,i){for(var a=0,n=0,s=e.children;n<s.length;){if("none"!==s[n].style.display&&s[n]!==qe.ghost&&s[n]!==qe.dragged&&w(s[n],i.draggable,e,!1)){if(a===t)return s[n];a++}n++}return null}function A(e,t){for(var i=e.lastElementChild;i&&(i===qe.ghost||"none"===$(i,"display")||t&&!_(i,t));)i=i.previousElementSibling;return i||null}function I(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===qe.clone||t&&!_(e,t)||i++;return i}function R(e){var t=0,i=0,a=D();if(e)do{var n=S(e),s=n.a,o=n.d;t+=e.scrollLeft*s,i+=e.scrollTop*o}while(e!==a&&(e=e.parentNode));return[t,i]}function F(e,t){if(!e||!e.getBoundingClientRect)return D();var i=e,a=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=$(i);if(i.clientWidth<i.scrollWidth&&("auto"==n.overflowX||"scroll"==n.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==n.overflowY||"scroll"==n.overflowY)){if(!i.getBoundingClientRect||i===document.body)return D();if(a||t)return i;a=!0}}}while(i=i.parentNode);return D()}function j(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function P(e,t){return function(){if(!x){var i=arguments,a=this;1===i.length?e.call(a,i[0]):e.apply(a,i),x=setTimeout((function(){x=void 0}),t)}}}function N(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function L(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function q(e,t){$(e,"position","absolute"),$(e,"top",t.top),$(e,"left",t.left),$(e,"width",t.width),$(e,"height",t.height)}function z(e){$(e,"position",""),$(e,"top",""),$(e,"left",""),$(e,"width",""),$(e,"height","")}var B="Sortable"+(new Date).getTime();function H(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==$(e,"display")&&e!==qe.ghost){t.push({target:e,rect:T(e)});var i=o({},t[t.length-1].rect);if(e.thisAnimationDuration){var a=S(e,!0);a&&(i.top-=a.f,i.left-=a.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var a in t)if(t.hasOwnProperty(a)&&t[a]===e[i][a])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var a=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var n=!1,s=0;t.forEach((function(e){var t=0,i=e.target,o=i.fromRect,r=T(i),l=i.prevFromRect,d=i.prevToRect,u=e.rect,c=S(i,!0);c&&(r.top-=c.f,r.left-=c.e),i.toRect=r,i.thisAnimationDuration&&j(l,r)&&!j(o,r)&&(u.top-r.top)/(u.left-r.left)==(o.top-r.top)/(o.left-r.left)&&(t=function(e,t,i,a){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*a.animation}(u,l,d,a.options)),j(r,o)||(i.prevFromRect=o,i.prevToRect=r,t||(t=a.options.animation),a.animate(i,u,r,t)),t&&(n=!0,s=Math.max(s,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),n?e=setTimeout((function(){"function"==typeof i&&i()}),s):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,a){if(a){$(e,"transition",""),$(e,"transform","");var n=S(this.el),s=n&&n.a,o=n&&n.d,r=(t.left-i.left)/(s||1),l=(t.top-i.top)/(o||1);e.animatingX=!!r,e.animatingY=!!l,$(e,"transform","translate3d("+r+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),$(e,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),$(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){$(e,"transition",""),$(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),a)}}}}var V=[],G={initializeByDefault:!0},Y={mount:function(e){for(var t in G)!G.hasOwnProperty(t)||t in e||(e[t]=G[t]);V.push(e)},pluginEvent:function(e,t,i){var a=this;this.eventCanceled=!1,i.cancel=function(){a.eventCanceled=!0};var n=e+"Global";V.forEach((function(a){t[a.pluginName]&&(t[a.pluginName][n]&&t[a.pluginName][n](o({sortable:t},i)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](o({sortable:t},i)))}))},initializePlugins:function(e,t,i,a){for(var n in V.forEach((function(a){var n=a.pluginName;if(e.options[n]||a.initializeByDefault){var o=new a(e,t,e.options);o.sortable=e,o.options=e.options,e[n]=o,s(i,o.defaults)}})),e.options)if(e.options.hasOwnProperty(n)){var o=this.modifyOption(e,n,e.options[n]);void 0!==o&&(e.options[n]=o)}},getEventProperties:function(e,t){var i={};return V.forEach((function(a){"function"==typeof a.eventProperties&&s(i,a.eventProperties.call(t[a.pluginName],e))})),i},modifyOption:function(e,t,i){var a;return V.forEach((function(n){e[n.pluginName]&&n.optionListeners&&"function"==typeof n.optionListeners[t]&&(a=n.optionListeners[t].call(e[n.pluginName],i))})),a}};function U(e){var t=e.sortable,i=e.rootEl,a=e.name,n=e.targetEl,s=e.cloneEl,r=e.toEl,l=e.fromEl,d=e.oldIndex,f=e.newIndex,h=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||i&&i[B]){var b,_=t.options,y="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||u||c?(b=document.createEvent("Event")).initEvent(a,!0,!0):b=new CustomEvent(a,{bubbles:!0,cancelable:!0}),b.to=r||i,b.from=l||i,b.item=n||i,b.clone=s,b.oldIndex=d,b.newIndex=f,b.oldDraggableIndex=h,b.newDraggableIndex=p,b.originalEvent=m,b.pullMode=g?g.lastPutMode:void 0;var w=o({},v,Y.getEventProperties(a,t));for(var x in w)b[x]=w[x];i&&i.dispatchEvent(b),_[y]&&_[y].call(t,b)}}var W=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.evt,n=r(i,["evt"]);Y.pluginEvent.bind(qe)(e,t,o({dragEl:K,parentEl:Q,ghostEl:J,rootEl:Z,nextEl:ee,lastDownEl:te,cloneEl:ie,cloneHidden:ae,dragStarted:ge,putSortable:de,activeSortable:qe.active,originalEvent:a,oldIndex:ne,oldDraggableIndex:oe,newIndex:se,newDraggableIndex:re,hideGhostForTarget:je,unhideGhostForTarget:Pe,cloneNowHidden:function(){ae=!0},cloneNowShown:function(){ae=!1},dispatchSortableEvent:function(e){X({sortable:t,name:e,originalEvent:a})}},n))};function X(e){U(o({putSortable:de,cloneEl:ie,targetEl:K,rootEl:Z,oldIndex:ne,oldDraggableIndex:oe,newIndex:se,newDraggableIndex:re},e))}var K,Q,J,Z,ee,te,ie,ae,ne,se,oe,re,le,de,ue,ce,fe,he,pe,me,ge,ve,be,_e,ye,we=!1,xe=!1,Ce=[],ke=!1,$e=!1,Se=[],Ee=!1,De=[],Te="undefined"!=typeof document,Me=p,Oe=c||u?"cssFloat":"float",Ae=Te&&!m&&!p&&"draggable"in document.createElement("div"),Ie=function(){if(Te){if(u)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Re=function(e,t){var i=$(e),a=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),n=O(e,0,t),s=O(e,1,t),o=n&&$(n),r=s&&$(s),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+T(n).width,d=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+T(s).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&o.float&&"none"!==o.float){var u="left"===o.float?"left":"right";return!s||"both"!==r.clear&&r.clear!==u?"horizontal":"vertical"}return n&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=a&&"none"===i[Oe]||s&&"none"===i[Oe]&&l+d>a)?"vertical":"horizontal"},Fe=function(e){function t(e,i){return function(a,n,s,o){var r=a.options.group.name&&n.options.group.name&&a.options.group.name===n.options.group.name;if(null==e&&(i||r))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(a,n,s,o),i)(a,n,s,o);var l=(i?a:n).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},n=e.group;n&&"object"==a(n)||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},je=function(){!Ie&&J&&$(J,"display","none")},Pe=function(){!Ie&&J&&$(J,"display","")};Te&&document.addEventListener("click",(function(e){if(xe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),xe=!1,!1}),!0);var Ne=function(e){if(K){e=e.touches?e.touches[0]:e;var t=(n=e.clientX,s=e.clientY,Ce.some((function(e){if(!A(e)){var t=T(e),i=e[B].options.emptyInsertThreshold,a=n>=t.left-i&&n<=t.right+i,r=s>=t.top-i&&s<=t.bottom+i;return i&&a&&r?o=e:void 0}})),o);if(t){var i={};for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[B]._onDragOver(i)}}var n,s,o},Le=function(e){K&&K.parentNode[B]._isOutsideThisEl(e.target)};function qe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=s({},t),e[B]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Re(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==qe.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var a in Y.initializePlugins(this,e,i),i)!(a in t)&&(t[a]=i[a]);for(var n in Fe(t),this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&Ae,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Ce.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),s(this,H())}function ze(e,t,i,a,n,s,o,r){var l,d,f=e[B],h=f.options.onMove;return!window.CustomEvent||u||c?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=a,l.related=n||t,l.relatedRect=s||T(t),l.willInsertAfter=r,l.originalEvent=o,e.dispatchEvent(l),h&&(d=h.call(f,l,o)),d}function Be(e){e.draggable=!1}function He(){Ee=!1}function Ve(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,a=0;i--;)a+=t.charCodeAt(i);return a.toString(36)}function Ge(e){return setTimeout(e,0)}function Ye(e){return clearTimeout(e)}qe.prototype={constructor:qe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,K):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,a=this.options,n=a.preventOnFilter,s=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,r=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,d=a.filter;if(function(e){De.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var a=t[i];a.checked&&De.push(a)}}(i),!K&&!(/mousedown|pointerdown/.test(s)&&0!==e.button||a.disabled||l.isContentEditable||(r=w(r,a.draggable,i,!1))&&r.animated||te===r)){if(ne=I(r),oe=I(r,a.draggable),"function"==typeof d){if(d.call(this,e,r,this))return X({sortable:t,rootEl:l,name:"filter",targetEl:r,toEl:i,fromEl:i}),W("filter",t,{evt:e}),void(n&&e.cancelable&&e.preventDefault())}else if(d&&(d=d.split(",").some((function(a){if(a=w(l,a.trim(),i,!1))return X({sortable:t,rootEl:a,name:"filter",targetEl:r,fromEl:i,toEl:i}),W("filter",t,{evt:e}),!0}))))return void(n&&e.cancelable&&e.preventDefault());a.handle&&!w(l,a.handle,i,!1)||this._prepareDragStart(e,o,r)}}},_prepareDragStart:function(e,t,i){var a,n=this,s=n.el,o=n.options,r=s.ownerDocument;if(i&&!K&&i.parentNode===s){var l=T(i);if(Z=s,Q=(K=i).parentNode,ee=K.nextSibling,te=i,le=o.group,qe.dragged=K,ue={target:K,clientX:(t||e).clientX,clientY:(t||e).clientY},pe=ue.clientX-l.left,me=ue.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,K.style["will-change"]="all",a=function(){W("delayEnded",n,{evt:e}),qe.eventCanceled?n._onDrop():(n._disableDelayedDragEvents(),!f&&n.nativeDraggable&&(K.draggable=!0),n._triggerDragStart(e,t),X({sortable:n,name:"choose",originalEvent:e}),k(K,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){E(K,e.trim(),Be)})),v(r,"dragover",Ne),v(r,"mousemove",Ne),v(r,"touchmove",Ne),v(r,"mouseup",n._onDrop),v(r,"touchend",n._onDrop),v(r,"touchcancel",n._onDrop),f&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),W("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(c||u))a();else{if(qe.eventCanceled)return void this._onDrop();v(r,"mouseup",n._disableDelayedDrag),v(r,"touchend",n._disableDelayedDrag),v(r,"touchcancel",n._disableDelayedDrag),v(r,"mousemove",n._delayedDragTouchMoveHandler),v(r,"touchmove",n._delayedDragTouchMoveHandler),o.supportPointer&&v(r,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(a,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&Be(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(K,"dragend",this),v(Z,"dragstart",this._onDragStart));try{document.selection?Ge((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(we=!1,Z&&K){W("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Le);var i=this.options;!e&&k(K,i.dragClass,!1),k(K,i.ghostClass,!0),qe.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ce){this._lastX=ce.clientX,this._lastY=ce.clientY,je();for(var e=document.elementFromPoint(ce.clientX,ce.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ce.clientX,ce.clientY))!==t;)t=e;if(K.parentNode[B]._isOutsideThisEl(e),t)do{if(t[B]){if(t[B]._onDragOver({clientX:ce.clientX,clientY:ce.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Pe()}},_onTouchMove:function(e){if(ue){var t=this.options,i=t.fallbackTolerance,a=t.fallbackOffset,n=e.touches?e.touches[0]:e,s=J&&S(J,!0),o=J&&s&&s.a,r=J&&s&&s.d,l=Me&&ye&&R(ye),d=(n.clientX-ue.clientX+a.x)/(o||1)+(l?l[0]-Se[0]:0)/(o||1),u=(n.clientY-ue.clientY+a.y)/(r||1)+(l?l[1]-Se[1]:0)/(r||1);if(!qe.active&&!we){if(i&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(J){s?(s.e+=d-(fe||0),s.f+=u-(he||0)):s={a:1,b:0,c:0,d:1,e:d,f:u};var c="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");$(J,"webkitTransform",c),$(J,"mozTransform",c),$(J,"msTransform",c),$(J,"transform",c),fe=d,he=u,ce=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:Z,t=T(K,!0,Me,!0,e),i=this.options;if(Me){for(ye=e;"static"===$(ye,"position")&&"none"===$(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=D()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=D(),Se=R(ye)}k(J=K.cloneNode(!0),i.ghostClass,!1),k(J,i.fallbackClass,!0),k(J,i.dragClass,!0),$(J,"transition",""),$(J,"transform",""),$(J,"box-sizing","border-box"),$(J,"margin",0),$(J,"top",t.top),$(J,"left",t.left),$(J,"width",t.width),$(J,"height",t.height),$(J,"opacity","0.8"),$(J,"position",Me?"absolute":"fixed"),$(J,"zIndex","100000"),$(J,"pointerEvents","none"),qe.ghost=J,e.appendChild(J),$(J,"transform-origin",pe/parseInt(J.style.width)*100+"% "+me/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,a=e.dataTransfer,n=i.options;W("dragStart",this,{evt:e}),qe.eventCanceled?this._onDrop():(W("setupClone",this),qe.eventCanceled||((ie=L(K)).draggable=!1,ie.style["will-change"]="",this._hideClone(),k(ie,this.options.chosenClass,!1),qe.clone=ie),i.cloneId=Ge((function(){W("clone",i),qe.eventCanceled||(i.options.removeCloneOnHide||Z.insertBefore(ie,K),i._hideClone(),X({sortable:i,name:"clone"}))})),!t&&k(K,n.dragClass,!0),t?(xe=!0,i._loopId=setInterval(i._emulateDragOver,50)):(b(document,"mouseup",i._onDrop),b(document,"touchend",i._onDrop),b(document,"touchcancel",i._onDrop),a&&(a.effectAllowed="move",n.setData&&n.setData.call(i,a,K)),v(document,"drop",i),$(K,"transform","translateZ(0)")),we=!0,i._dragStartId=Ge(i._dragStarted.bind(i,t,e)),v(document,"selectstart",i),ge=!0,h&&$(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,a,n,s=this.el,r=e.target,l=this.options,d=l.group,u=qe.active,c=le===d,f=l.sort,h=de||u,p=this,m=!1;if(!Ee){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),r=w(r,l.draggable,s,!0),j("dragOver"),qe.eventCanceled)return m;if(K.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return L(!1);if(xe=!1,u&&!l.disabled&&(c?f||(a=!Z.contains(K)):de===this||(this.lastPutMode=le.checkPull(this,u,K,e))&&d.checkPut(this,u,K,e))){if(n="vertical"===this._getDirection(e,r),t=T(K),j("dragOverValid"),qe.eventCanceled)return m;if(a)return Q=Z,P(),this._hideClone(),j("revert"),qe.eventCanceled||(ee?Z.insertBefore(K,ee):Z.appendChild(K)),L(!0);var g=A(s,l.draggable);if(!g||function(e,t,i){var a=T(A(i.el,i.options.draggable));return t?e.clientX>a.right+10||e.clientX<=a.right&&e.clientY>a.bottom&&e.clientX>=a.left:e.clientX>a.right&&e.clientY>a.top||e.clientX<=a.right&&e.clientY>a.bottom+10}(e,n,this)&&!g.animated){if(g===K)return L(!1);if(g&&s===e.target&&(r=g),r&&(i=T(r)),!1!==ze(Z,s,K,t,r,i,e,!!r))return P(),s.appendChild(K),Q=s,q(),L(!0)}else if(r.parentNode===s){i=T(r);var v,b,_,y=K.parentNode!==s,x=!function(e,t,i){var a=i?e.left:e.top,n=i?e.right:e.bottom,s=i?e.width:e.height,o=i?t.left:t.top,r=i?t.right:t.bottom,l=i?t.width:t.height;return a===o||n===r||a+s/2===o+l/2}(K.animated&&K.toRect||t,r.animated&&r.toRect||i,n),C=n?"top":"left",S=M(r,"top","top")||M(K,"top","top"),E=S?S.scrollTop:void 0;if(ve!==r&&(b=i[C],ke=!1,$e=!x&&l.invertSwap||y),0!==(v=function(e,t,i,a,n,s,o,r){var l=a?e.clientY:e.clientX,d=a?i.height:i.width,u=a?i.top:i.left,c=a?i.bottom:i.right,f=!1;if(!o)if(r&&_e<d*n){if(!ke&&(1===be?l>u+d*s/2:l<c-d*s/2)&&(ke=!0),ke)f=!0;else if(1===be?l<u+_e:l>c-_e)return-be}else if(l>u+d*(1-n)/2&&l<c-d*(1-n)/2)return function(e){return I(K)<I(e)?1:-1}(t);if((f=f||o)&&(l<u+d*s/2||l>c-d*s/2))return l>u+d/2?1:-1;return 0}(e,r,i,n,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,$e,ve===r))){var D=I(K);do{D-=v,_=Q.children[D]}while(_&&("none"===$(_,"display")||_===J))}if(0===v||_===r)return L(!1);ve=r,be=v;var O=r.nextElementSibling,R=!1,F=ze(Z,s,K,t,r,i,e,R=1===v);if(!1!==F)return 1!==F&&-1!==F||(R=1===F),Ee=!0,setTimeout(He,30),P(),R&&!O?s.appendChild(K):r.parentNode.insertBefore(K,R?O:r),S&&N(S,0,E-S.scrollTop),Q=K.parentNode,void 0===b||$e||(_e=Math.abs(b-T(r)[C])),q(),L(!0)}if(s.contains(K))return L(!1)}return!1}function j(l,d){W(l,p,o({evt:e,isOwner:c,axis:n?"vertical":"horizontal",revert:a,dragRect:t,targetRect:i,canSort:f,fromSortable:h,target:r,completed:L,onMove:function(i,a){return ze(Z,s,K,t,i,T(i),e,a)},changed:q},d))}function P(){j("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function L(t){return j("dragOverCompleted",{insertion:t}),t&&(c?u._hideClone():u._showClone(p),p!==h&&(k(K,de?de.options.ghostClass:u.options.ghostClass,!1),k(K,l.ghostClass,!0)),de!==p&&p!==qe.active?de=p:p===qe.active&&de&&(de=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll((function(){j("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===K&&!K.animated||r===s&&!r.animated)&&(ve=null),l.dragoverBubble||e.rootEl||r===document||(K.parentNode[B]._isOutsideThisEl(e.target),!t&&Ne(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function q(){se=I(K),re=I(K,l.draggable),X({sortable:p,name:"change",toEl:s,newIndex:se,newDraggableIndex:re,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Ne),b(document,"mousemove",Ne),b(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;se=I(K),re=I(K,i.draggable),W("drop",this,{evt:e}),Q=K&&K.parentNode,se=I(K),re=I(K,i.draggable),qe.eventCanceled?this._nulling():(we=!1,$e=!1,ke=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ye(this.cloneId),Ye(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&$(document.body,"user-select",""),$(K,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(Z===Q||de&&"clone"!==de.lastPutMode)&&ie&&ie.parentNode&&ie.parentNode.removeChild(ie),K&&(this.nativeDraggable&&b(K,"dragend",this),Be(K),K.style["will-change"]="",ge&&!we&&k(K,de?de.options.ghostClass:this.options.ghostClass,!1),k(K,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==Q?(se>=0&&(X({rootEl:Q,name:"add",toEl:Q,fromEl:Z,originalEvent:e}),X({sortable:this,name:"remove",toEl:Q,originalEvent:e}),X({rootEl:Q,name:"sort",toEl:Q,fromEl:Z,originalEvent:e}),X({sortable:this,name:"sort",toEl:Q,originalEvent:e})),de&&de.save()):se!==ne&&se>=0&&(X({sortable:this,name:"update",toEl:Q,originalEvent:e}),X({sortable:this,name:"sort",toEl:Q,originalEvent:e})),qe.active&&(null!=se&&-1!==se||(se=ne,re=oe),X({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){W("nulling",this),Z=K=Q=J=ee=ie=te=ae=ue=ce=ge=se=re=ne=oe=ve=be=de=le=qe.dragged=qe.ghost=qe.clone=qe.active=null,De.forEach((function(e){e.checked=!0})),De.length=fe=he=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":K&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,a=0,n=i.length,s=this.options;a<n;a++)w(e=i[a],s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||Ve(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach((function(e,a){var n=i.children[a];w(n,this.options.draggable,i,!1)&&(t[e]=n)}),this),e.forEach((function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var a=Y.modifyOption(this,e,t);i[e]=void 0!==a?a:t,"group"===e&&Fe(i)},destroy:function(){W("destroy",this);var e=this.el;e[B]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ce.splice(Ce.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ae){if(W("hideClone",this),qe.eventCanceled)return;$(ie,"display","none"),this.options.removeCloneOnHide&&ie.parentNode&&ie.parentNode.removeChild(ie),ae=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ae){if(W("showClone",this),qe.eventCanceled)return;Z.contains(K)&&!this.options.group.revertClone?Z.insertBefore(ie,K):ee?Z.insertBefore(ie,ee):Z.appendChild(ie),this.options.group.revertClone&&this.animate(K,ie),$(ie,"display",""),ae=!1}}else this._hideClone()}},Te&&v(document,"touchmove",(function(e){(qe.active||we)&&e.cancelable&&e.preventDefault()})),qe.utils={on:v,off:b,css:$,find:E,is:function(e,t){return!!w(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:P,closest:w,toggleClass:k,clone:L,index:I,nextTick:Ge,cancelNextTick:Ye,detectDirection:Re,getChild:O},qe.get=function(e){return e[B]},qe.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(qe.utils=o({},qe.utils,e.utils)),Y.mount(e)}))},qe.create=function(e,t){return new qe(e,t)},qe.version="1.10.2";var Ue,We,Xe,Ke,Qe,Je,Ze=[],et=!1;function tt(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function it(){clearInterval(Je)}var at,nt=P((function(e,t,i,a){if(t.scroll){var n,s=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,l=t.scrollSpeed,d=D(),u=!1;We!==i&&(We=i,tt(),Ue=t.scroll,n=t.scrollFn,!0===Ue&&(Ue=F(i,!0)));var c=0,f=Ue;do{var h=f,p=T(h),m=p.top,g=p.bottom,v=p.left,b=p.right,_=p.width,y=p.height,w=void 0,x=void 0,C=h.scrollWidth,k=h.scrollHeight,S=$(h),E=h.scrollLeft,M=h.scrollTop;h===d?(w=_<C&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),x=y<k&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=_<C&&("auto"===S.overflowX||"scroll"===S.overflowX),x=y<k&&("auto"===S.overflowY||"scroll"===S.overflowY));var O=w&&(Math.abs(b-s)<=r&&E+_<C)-(Math.abs(v-s)<=r&&!!E),A=x&&(Math.abs(g-o)<=r&&M+y<k)-(Math.abs(m-o)<=r&&!!M);if(!Ze[c])for(var I=0;I<=c;I++)Ze[I]||(Ze[I]={});Ze[c].vx==O&&Ze[c].vy==A&&Ze[c].el===h||(Ze[c].el=h,Ze[c].vx=O,Ze[c].vy=A,clearInterval(Ze[c].pid),0==O&&0==A||(u=!0,Ze[c].pid=setInterval(function(){a&&0===this.layer&&qe.active._onTouchMove(Qe);var t=Ze[this.layer].vy?Ze[this.layer].vy*l:0,i=Ze[this.layer].vx?Ze[this.layer].vx*l:0;"function"==typeof n&&"continue"!==n.call(qe.dragged.parentNode[B],i,t,e,Qe,Ze[this.layer].el)||N(Ze[this.layer].el,i,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&f!==d&&(f=F(f,!1)));et=u}}),30),st=function(e){var t=e.originalEvent,i=e.putSortable,a=e.dragEl,n=e.activeSortable,s=e.dispatchSortableEvent,o=e.hideGhostForTarget,r=e.unhideGhostForTarget;if(t){var l=i||n;o();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(d.clientX,d.clientY);r(),l&&!l.el.contains(u)&&(s("spill"),this.onSpill({dragEl:a,putSortable:i}))}};function ot(){}function rt(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;at=t},dragOverValid:function(e){var t=e.completed,i=e.target,a=e.onMove,n=e.activeSortable,s=e.changed,o=e.cancel;if(n.options.swap){var r=this.sortable.el,l=this.options;if(i&&i!==r){var d=at;!1!==a(i)?(k(i,l.swapClass,!0),at=i):at=null,d&&d!==at&&k(d,l.swapClass,!1)}s(),t(!0),o()}},drop:function(e){var t=e.activeSortable,i=e.putSortable,a=e.dragEl,n=i||this.sortable,s=this.options;at&&k(at,s.swapClass,!1),at&&(s.swap||i&&i.options.swap)&&a!==at&&(n.captureAnimationState(),n!==t&&t.captureAnimationState(),function(e,t){var i,a,n=e.parentNode,s=t.parentNode;if(!n||!s||n.isEqualNode(t)||s.isEqualNode(e))return;i=I(e),a=I(t),n.isEqualNode(s)&&i<a&&a++;n.insertBefore(t,n.children[i]),s.insertBefore(e,s.children[a])}(a,at),n.animateAll(),n!==t&&t.animateAll())},nulling:function(){at=null}},s(e,{pluginName:"swap",eventProperties:function(){return{swapItem:at}}})}ot.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var a=O(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:st},s(ot,{pluginName:"revertOnSpill"}),rt.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:st},s(rt,{pluginName:"removeOnSpill"});var dt,ut,ct,ft,ht,pt=[],mt=[],gt=!1,vt=!1,bt=!1;function _t(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,i){var a="";pt.length&&ut===e?pt.forEach((function(e,t){a+=(t?", ":"")+e.textContent})):a=i.textContent,t.setData("Text",a)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ct=t},delayEnded:function(){this.isMultiDrag=~pt.indexOf(ct)},setupClone:function(e){var t=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var a=0;a<pt.length;a++)mt.push(L(pt[a])),mt[a].sortableIndex=pt[a].sortableIndex,mt[a].draggable=!1,mt[a].style["will-change"]="",k(mt[a],this.options.selectedClass,!1),pt[a]===ct&&k(mt[a],this.options.chosenClass,!1);t._hideClone(),i()}},clone:function(e){var t=e.sortable,i=e.rootEl,a=e.dispatchSortableEvent,n=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||pt.length&&ut===t&&(yt(!0,i),a("clone"),n()))},showClone:function(e){var t=e.cloneNowShown,i=e.rootEl,a=e.cancel;this.isMultiDrag&&(yt(!1,i),mt.forEach((function(e){$(e,"display","")})),t(),ht=!1,a())},hideClone:function(e){var t=this,i=(e.sortable,e.cloneNowHidden),a=e.cancel;this.isMultiDrag&&(mt.forEach((function(e){$(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),i(),ht=!0,a())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&ut&&ut.multiDrag._deselectMultiDrag(),pt.forEach((function(e){e.sortableIndex=I(e)})),pt=pt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){pt.forEach((function(e){e!==ct&&$(e,"position","absolute")}));var a=T(ct,!1,!0,!0);pt.forEach((function(e){e!==ct&&q(e,a)})),vt=!0,gt=!0}i.animateAll((function(){vt=!1,gt=!1,t.options.animation&&pt.forEach((function(e){z(e)})),t.options.sort&&wt()}))}},dragOver:function(e){var t=e.target,i=e.completed,a=e.cancel;vt&&~pt.indexOf(t)&&(i(!1),a())},revert:function(e){var t=e.fromSortable,i=e.rootEl,a=e.sortable,n=e.dragRect;pt.length>1&&(pt.forEach((function(e){a.addAnimationState({target:e,rect:vt?T(e):n}),z(e),e.fromRect=n,t.removeAnimationState(e)})),vt=!1,function(e,t){pt.forEach((function(i,a){var n=t.children[i.sortableIndex+(e?Number(a):0)];n?t.insertBefore(i,n):t.appendChild(i)}))}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var t=e.sortable,i=e.isOwner,a=e.insertion,n=e.activeSortable,s=e.parentEl,o=e.putSortable,r=this.options;if(a){if(i&&n._hideClone(),gt=!1,r.animation&&pt.length>1&&(vt||!i&&!n.options.sort&&!o)){var l=T(ct,!1,!0,!0);pt.forEach((function(e){e!==ct&&(q(e,l),s.appendChild(e))})),vt=!0}if(!i)if(vt||wt(),pt.length>1){var d=ht;n._showClone(t),n.options.animation&&!ht&&d&&mt.forEach((function(e){n.addAnimationState({target:e,rect:ft}),e.fromRect=ft,e.thisAnimationDuration=null}))}else n._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,i=e.isOwner,a=e.activeSortable;if(pt.forEach((function(e){e.thisAnimationDuration=null})),a.options.animation&&!i&&a.multiDrag.isMultiDrag){ft=s({},t);var n=S(ct,!0);ft.top-=n.f,ft.left-=n.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,wt())},drop:function(e){var t=e.originalEvent,i=e.rootEl,a=e.parentEl,n=e.sortable,s=e.dispatchSortableEvent,o=e.oldIndex,r=e.putSortable,l=r||this.sortable;if(t){var d=this.options,u=a.children;if(!bt)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),k(ct,d.selectedClass,!~pt.indexOf(ct)),~pt.indexOf(ct))pt.splice(pt.indexOf(ct),1),dt=null,U({sortable:n,rootEl:i,name:"deselect",targetEl:ct,originalEvt:t});else{if(pt.push(ct),U({sortable:n,rootEl:i,name:"select",targetEl:ct,originalEvt:t}),t.shiftKey&&dt&&n.el.contains(dt)){var c,f,h=I(dt),p=I(ct);if(~h&&~p&&h!==p)for(p>h?(f=h,c=p):(f=p,c=h+1);f<c;f++)~pt.indexOf(u[f])||(k(u[f],d.selectedClass,!0),pt.push(u[f]),U({sortable:n,rootEl:i,name:"select",targetEl:u[f],originalEvt:t}))}else dt=ct;ut=l}if(bt&&this.isMultiDrag){if((a[B].options.sort||a!==i)&&pt.length>1){var m=T(ct),g=I(ct,":not(."+this.options.selectedClass+")");if(!gt&&d.animation&&(ct.thisAnimationDuration=null),l.captureAnimationState(),!gt&&(d.animation&&(ct.fromRect=m,pt.forEach((function(e){if(e.thisAnimationDuration=null,e!==ct){var t=vt?T(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),wt(),pt.forEach((function(e){u[g]?a.insertBefore(e,u[g]):a.appendChild(e),g++})),o===I(ct))){var v=!1;pt.forEach((function(e){e.sortableIndex===I(e)||(v=!0)})),v&&s("update")}pt.forEach((function(e){z(e)})),l.animateAll()}ut=l}(i===a||r&&"clone"!==r.lastPutMode)&&mt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,mt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||ut!==this.sortable||e&&w(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;pt.length;){var t=pt[0];k(t,this.options.selectedClass,!1),pt.shift(),U({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},s(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[B];t&&t.options.multiDrag&&!~pt.indexOf(e)&&(ut&&ut!==t&&(ut.multiDrag._deselectMultiDrag(),ut=t),k(e,t.options.selectedClass,!0),pt.push(e))},deselect:function(e){var t=e.parentNode[B],i=pt.indexOf(e);t&&t.options.multiDrag&&~i&&(k(e,t.options.selectedClass,!1),pt.splice(i,1))}},eventProperties:function(){var e=this,t=[],i=[];return pt.forEach((function(a){var n;t.push({multiDragElement:a,index:a.sortableIndex}),n=vt&&a!==ct?-1:vt?I(a,":not(."+e.options.selectedClass+")"):I(a),i.push({multiDragElement:a,index:n})})),{items:l(pt),clones:[].concat(mt),oldIndicies:t,newIndicies:i}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function yt(e,t){mt.forEach((function(i,a){var n=t.children[i.sortableIndex+(e?Number(a):0)];n?t.insertBefore(i,n):t.appendChild(i)}))}function wt(){pt.forEach((function(e){e!==ct&&e.parentNode&&e.parentNode.removeChild(e)}))}qe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),it(),tt(),clearTimeout(x),x=void 0},nulling:function(){Qe=We=Ue=et=Je=Xe=Ke=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,a=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(a,n);if(Qe=e,t||c||u||h){nt(e,this.options,s,t);var o=F(s,!0);!et||Je&&a===Xe&&n===Ke||(Je&&it(),Je=setInterval((function(){var s=F(document.elementFromPoint(a,n),!0);s!==o&&(o=s,tt()),nt(e,i.options,s,t)}),10),Xe=a,Ke=n)}else{if(!this.options.bubbleScroll||F(s,!0)===D())return void tt();nt(e,this.options,F(s,!1),!1)}}},s(e,{pluginName:"scroll",initializeByDefault:!0})}),qe.mount(rt,ot),t.default=qe},150:function(e,t,i){i(158),e.exports=i(160)},151:function(e,t,i){window.$=window.jQuery=i(3),i(152),i(139),i(141),i(153),i(154),i(155),i(156),window._=i(1),window.moment=i(0),window.md5=i(144)},152:function(e,t,i){var a,n,s;!function(o){"use strict";n=[i(3)],void 0===(s="function"==typeof(a=function(e){var t={};t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData;var i=!!e.fn.prop;function a(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(i))}function n(t){var i=t.target,a=e(i);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;i=n[0]}var s=this;if(s.clk=i,"image"==i.type)if(void 0!==t.offsetX)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=a.offset();s.clk_x=t.pageX-o.left,s.clk_y=t.pageY-o.top}else s.clk_x=t.pageX-i.offsetLeft,s.clk_y=t.pageY-i.offsetTop;setTimeout((function(){s.clk=s.clk_x=s.clk_y=null}),100)}function s(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(a){if(!this.length)return s("ajaxSubmit: skipping submit process - no element selected"),this;var n,o,r,l=this;"function"==typeof a?a={success:a}:void 0===a&&(a={}),n=a.type||this.attr2("method"),(r=(r="string"==typeof(o=a.url||this.attr2("action"))?e.trim(o):"")||window.location.href||"")&&(r=(r.match(/^([^#]+)/)||[])[1]),a=e.extend(!0,{url:r,success:e.ajaxSettings.success,type:n||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);var d={};if(this.trigger("form-pre-serialize",[this,a,d]),d.veto)return s("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(a.beforeSerialize&&!1===a.beforeSerialize(this,a))return s("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var u=a.traditional;void 0===u&&(u=e.ajaxSettings.traditional);var c,f=[],h=this.formToArray(a.semantic,f);if(a.data&&(a.extraData=a.data,c=e.param(a.data,u)),a.beforeSubmit&&!1===a.beforeSubmit(h,this,a))return s("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[h,this,a,d]),d.veto)return s("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var p=e.param(h,u);c&&(p=p?p+"&"+c:c),"GET"==a.type.toUpperCase()?(a.url+=(a.url.indexOf("?")>=0?"&":"?")+p,a.data=null):a.data=p;var m=[];if(a.resetForm&&m.push((function(){l.resetForm()})),a.clearForm&&m.push((function(){l.clearForm(a.includeHidden)})),!a.dataType&&a.target){var g=a.success||function(){};m.push((function(t){var i=a.replaceTarget?"replaceWith":"html";e(a.target)[i](t).each(g,arguments)}))}else a.success&&m.push(a.success);if(a.success=function(e,t,i){for(var n=a.context||this,s=0,o=m.length;s<o;s++)m[s].apply(n,[e,t,i||l,l])},a.error){var v=a.error;a.error=function(e,t,i){var n=a.context||this;v.apply(n,[e,t,i,l])}}if(a.complete){var b=a.complete;a.complete=function(e,t){var i=a.context||this;b.apply(i,[e,t,l])}}var _=e("input[type=file]:enabled",this).filter((function(){return""!==e(this).val()})).length>0,y="multipart/form-data",w=l.attr("enctype")==y||l.attr("encoding")==y,x=t.fileapi&&t.formdata;s("fileAPI :"+x);var C,k=(_||w)&&!x;!1!==a.iframe&&(a.iframe||k)?a.closeKeepAlive?e.get(a.closeKeepAlive,(function(){C=S(h)})):C=S(h):C=(_||w)&&x?function(t){for(var i=new FormData,s=0;s<t.length;s++)i.append(t[s].name,t[s].value);if(a.extraData){var o=function(t){var i,n,s=e.param(t,a.traditional).split("&"),o=s.length,r=[];for(i=0;i<o;i++)s[i]=s[i].replace(/\+/g," "),n=s[i].split("="),r.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return r}(a.extraData);for(s=0;s<o.length;s++)o[s]&&i.append(o[s][0],o[s][1])}a.data=null;var r=e.extend(!0,{},e.ajaxSettings,a,{contentType:!1,processData:!1,cache:!1,type:n||"POST"});a.uploadProgress&&(r.xhr=function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",(function(e){var t=0,i=e.loaded||e.position,n=e.total;e.lengthComputable&&(t=Math.ceil(i/n*100)),a.uploadProgress(e,i,n,t)}),!1),t});r.data=null;var l=r.beforeSend;return r.beforeSend=function(e,t){a.formData?t.data=a.formData:t.data=i,l&&l.call(this,e,t)},e.ajax(r)}(h):e.ajax(a),l.removeData("jqxhr").data("jqxhr",C);for(var $=0;$<f.length;$++)f[$]=null;return this.trigger("form-submit-notify",[this,a]),this;function S(t){var o,r,d,u,c,h,p,m,g,v,b,_,y=l[0],w=e.Deferred();if(w.abort=function(e){m.abort(e)},t)for(r=0;r<f.length;r++)o=e(f[r]),i?o.prop("disabled",!1):o.removeAttr("disabled");if((d=e.extend(!0,{},e.ajaxSettings,a)).context=d.context||d,c="jqFormIO"+(new Date).getTime(),d.iframeTarget?(v=(h=e(d.iframeTarget)).attr2("name"))?c=v:h.attr2("name",c):(h=e('<iframe name="'+c+'" src="'+d.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=h[0],m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";s("aborting upload... "+i),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(e){}h.attr("src",d.iframeSrc),m.error=i,d.error&&d.error.call(d.context,m,i,t),u&&e.event.trigger("ajaxError",[m,d,i]),d.complete&&d.complete.call(d.context,m,i)}},(u=d.global)&&0==e.active++&&e.event.trigger("ajaxStart"),u&&e.event.trigger("ajaxSend",[m,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,m,d))return d.global&&e.active--,w.reject(),w;if(m.aborted)return w.reject(),w;(g=y.clk)&&(v=g.name)&&!g.disabled&&(d.extraData=d.extraData||{},d.extraData[v]=g.value,"image"==g.type&&(d.extraData[v+".x"]=y.clk_x,d.extraData[v+".y"]=y.clk_y));var x=1,C=2;function k(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){s("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){s("cannot get iframe.contentDocument: "+i),t=e.document}return t}var $=e("meta[name=csrf-token]").attr("content"),S=e("meta[name=csrf-param]").attr("content");function E(){var t=l.attr2("target"),i=l.attr2("action"),a=l.attr("enctype")||l.attr("encoding")||"multipart/form-data";y.setAttribute("target",c),n&&!/post/i.test(n)||y.setAttribute("method","POST"),i!=d.url&&y.setAttribute("action",d.url),d.skipEncodingOverride||n&&!/post/i.test(n)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(_=setTimeout((function(){b=!0,A(x)}),d.timeout));var o=[];try{if(d.extraData)for(var r in d.extraData)d.extraData.hasOwnProperty(r)&&(e.isPlainObject(d.extraData[r])&&d.extraData[r].hasOwnProperty("name")&&d.extraData[r].hasOwnProperty("value")?o.push(e('<input type="hidden" name="'+d.extraData[r].name+'">').val(d.extraData[r].value).appendTo(y)[0]):o.push(e('<input type="hidden" name="'+r+'">').val(d.extraData[r]).appendTo(y)[0]));d.iframeTarget||h.appendTo("body"),p.attachEvent?p.attachEvent("onload",A):p.addEventListener("load",A,!1),setTimeout((function e(){try{var t=k(p).readyState;s("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){s("Server abort: ",e," (",e.name,")"),A(C),_&&clearTimeout(_),_=void 0}}),15);try{y.submit()}catch(e){document.createElement("form").submit.apply(y)}}finally{y.setAttribute("action",i),y.setAttribute("enctype",a),t?y.setAttribute("target",t):l.removeAttr("target"),e(o).remove()}}S&&$&&(d.extraData=d.extraData||{},d.extraData[S]=$),d.forceSync?E():setTimeout(E,10);var D,T,M,O=50;function A(t){if(!m.aborted&&!M){if((T=k(p))||(s("cannot access response document"),t=C),t===x&&m)return m.abort("timeout"),void w.reject(m,"timeout");if(t==C&&m)return m.abort("server abort"),void w.reject(m,"error","server abort");if(T&&T.location.href!=d.iframeSrc||b){p.detachEvent?p.detachEvent("onload",A):p.removeEventListener("load",A,!1);var i,a="success";try{if(b)throw"timeout";var n="xml"==d.dataType||T.XMLDocument||e.isXMLDoc(T);if(s("isXml="+n),!n&&window.opera&&(null===T.body||!T.body.innerHTML)&&--O)return s("requeing onLoad callback, DOM not available"),void setTimeout(A,250);var o=T.body?T.body:T.documentElement;m.responseText=o?o.innerHTML:null,m.responseXML=T.XMLDocument?T.XMLDocument:T,n&&(d.dataType="xml"),m.getResponseHeader=function(e){return{"content-type":d.dataType}[e.toLowerCase()]},o&&(m.status=Number(o.getAttribute("status"))||m.status,m.statusText=o.getAttribute("statusText")||m.statusText);var r=(d.dataType||"").toLowerCase(),l=/(json|script|text)/.test(r);if(l||d.textarea){var c=T.getElementsByTagName("textarea")[0];if(c)m.responseText=c.value,m.status=Number(c.getAttribute("status"))||m.status,m.statusText=c.getAttribute("statusText")||m.statusText;else if(l){var f=T.getElementsByTagName("pre")[0],g=T.getElementsByTagName("body")[0];f?m.responseText=f.textContent?f.textContent:f.innerText:g&&(m.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==r&&!m.responseXML&&m.responseText&&(m.responseXML=I(m.responseText));try{D=F(m,r,d)}catch(e){a="parsererror",m.error=i=e||a}}catch(e){s("error caught: ",e),a="error",m.error=i=e||a}m.aborted&&(s("upload aborted"),a=null),m.status&&(a=m.status>=200&&m.status<300||304===m.status?"success":"error"),"success"===a?(d.success&&d.success.call(d.context,D,"success",m),w.resolve(m.responseText,"success",m),u&&e.event.trigger("ajaxSuccess",[m,d])):a&&(void 0===i&&(i=m.statusText),d.error&&d.error.call(d.context,m,a,i),w.reject(m,"error",i),u&&e.event.trigger("ajaxError",[m,d,i])),u&&e.event.trigger("ajaxComplete",[m,d]),u&&!--e.active&&e.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,m,a),M=!0,d.timeout&&clearTimeout(_),setTimeout((function(){d.iframeTarget?h.attr("src",d.iframeSrc):h.remove(),m.responseXML=null}),100)}}}var I=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},R=e.parseJSON||function(e){return window.eval("("+e+")")},F=function(t,i,a){var n=t.getResponseHeader("content-type")||"",s="xml"===i||!i&&n.indexOf("xml")>=0,o=s?t.responseXML:t.responseText;return s&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,i)),"string"==typeof o&&("json"===i||!i&&n.indexOf("json")>=0?o=R(o):("script"===i||!i&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return w}},e.fn.ajaxForm=function(t){if((t=t||{}).delegation=t.delegation&&e.isFunction(e.fn.on),!t.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(s("DOM not ready, queuing ajaxForm"),e((function(){e(i.s,i.c).ajaxForm(t)})),this):(s("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return t.delegation?(e(document).off("submit.form-plugin",this.selector,a).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,t,a).on("click.form-plugin",this.selector,t,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",t,a).bind("click.form-plugin",t,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(i,a){var n=[];if(0===this.length)return n;var s,o,r,l,d,u,c,f,h=this[0],p=this.attr("id"),m=i?h.getElementsByTagName("*"):h.elements;if(m&&!/MSIE [678]/.test(navigator.userAgent)&&(m=e(m).get()),p&&(s=e(":input[form="+p+"]").get()).length&&(m=(m||[]).concat(s)),!m||!m.length)return n;for(o=0,c=m.length;o<c;o++)if((l=(u=m[o]).name)&&!u.disabled)if(i&&h.clk&&"image"==u.type)h.clk==u&&(n.push({name:l,value:e(u).val(),type:u.type}),n.push({name:l+".x",value:h.clk_x},{name:l+".y",value:h.clk_y}));else if((d=e.fieldValue(u,!0))&&d.constructor==Array)for(a&&a.push(u),r=0,f=d.length;r<f;r++)n.push({name:l,value:d[r]});else if(t.fileapi&&"file"==u.type){a&&a.push(u);var g=u.files;if(g.length)for(r=0;r<g.length;r++)n.push({name:l,value:g[r],type:u.type});else n.push({name:l,value:"",type:u.type})}else null!=d&&(a&&a.push(u),n.push({name:l,value:d,type:u.type,required:u.required}));if(!i&&h.clk){var v=e(h.clk),b=v[0];(l=b.name)&&!b.disabled&&"image"==b.type&&(n.push({name:l,value:v.val()}),n.push({name:l+".x",value:h.clk_x},{name:l+".y",value:h.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each((function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var s=0,o=n.length;s<o;s++)i.push({name:a,value:n[s]});else null!=n&&i.push({name:this.name,value:n})}})),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],a=0,n=this.length;a<n;a++){var s=this[a],o=e.fieldValue(s,t);null==o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(i,o):i.push(o))}return i},e.fieldValue=function(t,i){var a=t.name,n=t.type,s=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!a||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==s&&-1==t.selectedIndex))return null;if("select"==s){var o=t.selectedIndex;if(o<0)return null;for(var r=[],l=t.options,d="select-one"==n,u=d?o+1:l.length,c=d?o:0;c<u;c++){var f=l[c];if(f.selected){var h=f.value;if(h||(h=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),d)return h;r.push(h)}}return r}return e(t).val()},e.fn.clearForm=function(t){return this.each((function(){e("input,select,textarea",this).clearFields(t)}))},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var a=this.type,n=this.tagName.toLowerCase();i.test(a)||"textarea"==n?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")}))},e.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each((function(){this.disabled=!e}))},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each((function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}}))},e.fn.ajaxSubmit.debug=!1})?a.apply(t,n):a)||(e.exports=s)}()},153:function(e,t,i){var a,n,s;n=[i(3)],void 0===(s="function"==typeof(a=function(e){function t(t){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=e.extend({},this.constructor.defaults),this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1},t.prototype.option=function(t){e.extend(this.options,t)},t.prototype.imageCountLabel=function(e,t){return this.options.albumLabel.replace(/%1/g,e).replace(/%2/g,t)},t.prototype.init=function(){this.enable(),this.build()},t.prototype.enable=function(){var t=this;e("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",(function(i){return t.start(e(i.currentTarget)),!1}))},t.prototype.build=function(){var t=this;e('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(e("body")),this.$lightbox=e("#lightbox"),this.$overlay=e("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",(function(){return t.end(),!1})),this.$lightbox.hide().on("click",(function(i){return"lightbox"===e(i.target).attr("id")&&t.end(),!1})),this.$outerContainer.on("click",(function(i){return"lightbox"===e(i.target).attr("id")&&t.end(),!1})),this.$lightbox.find(".lb-prev").on("click",(function(){return 0===t.currentImageIndex?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1})),this.$lightbox.find(".lb-next").on("click",(function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1})),this.$lightbox.find(".lb-loader, .lb-close").on("click",(function(){return t.end(),!1}))},t.prototype.start=function(t){function i(e){a.album.push({link:e.attr("href"),title:e.attr("data-title")||e.attr("title")})}var a=this,n=e(window);n.on("resize",e.proxy(this.sizeOverlay,this)),e("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var s,o=0,r=t.attr("data-lightbox");if(r){s=e(t.prop("tagName")+'[data-lightbox="'+r+'"]');for(var l=0;l<s.length;l=++l)i(e(s[l])),s[l]===t[0]&&(o=l)}else if("lightbox"===t.attr("rel"))i(t);else{s=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var d=0;d<s.length;d=++d)i(e(s[d])),s[d]===t[0]&&(o=d)}var u=n.scrollTop()+this.options.positionFromTop,c=n.scrollLeft();this.$lightbox.css({top:u+"px",left:c+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&e("body").addClass("lb-disable-scrolling"),this.changeImage(o)},t.prototype.changeImage=function(t){var i=this;this.disableKeyboardNav();var a=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),e(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var n=new Image;n.onload=function(){var s,o,r,l,d,u;a.attr("src",i.album[t].link),e(n),a.width(n.width),a.height(n.height),i.options.fitImagesInViewport&&(u=e(window).width(),d=e(window).height(),l=u-i.containerLeftPadding-i.containerRightPadding-20,r=d-i.containerTopPadding-i.containerBottomPadding-120,i.options.maxWidth&&i.options.maxWidth<l&&(l=i.options.maxWidth),i.options.maxHeight&&i.options.maxHeight<l&&(r=i.options.maxHeight),(n.width>l||n.height>r)&&(n.width/l>n.height/r?(o=l,s=parseInt(n.height/(n.width/o),10),a.width(o),a.height(s)):(s=r,o=parseInt(n.width/(n.height/s),10),a.width(o),a.height(s)))),i.sizeContainer(a.width(),a.height())},n.src=this.album[t].link,this.currentImageIndex=t},t.prototype.sizeOverlay=function(){this.$overlay.width(e(document).width()).height(e(document).height())},t.prototype.sizeContainer=function(e,t){function i(){a.$lightbox.find(".lb-dataContainer").width(o),a.$lightbox.find(".lb-prevLink").height(r),a.$lightbox.find(".lb-nextLink").height(r),a.showImage()}var a=this,n=this.$outerContainer.outerWidth(),s=this.$outerContainer.outerHeight(),o=e+this.containerLeftPadding+this.containerRightPadding,r=t+this.containerTopPadding+this.containerBottomPadding;n!==o||s!==r?this.$outerContainer.animate({width:o,height:r},this.options.resizeDuration,"swing",(function(){i()})):i()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var e=!1;try{document.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(e&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),e&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),e&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var t=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",(function(t){void 0!==e(this).attr("target")?window.open(e(this).attr("href"),e(this).attr("target")):location.href=e(this).attr("href")})),this.album.length>1&&this.options.showImageNumberLabel){var i=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(i).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,(function(){return t.sizeOverlay()}))},t.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},t.prototype.keyboardAction=function(e){var t=e.keyCode,i=String.fromCharCode(t).toLowerCase();27===t||i.match(/x|o|c/)?this.end():"p"===i||37===t?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===i||39===t)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&e("body").removeClass("lb-disable-scrolling")},new t})?a.apply(t,n):a)||(e.exports=s)},154:function(e,t,i){(function(){var e,t,i,a,n={}.hasOwnProperty;(a=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,a,n,s,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),o=[],a=0,n=(s=e.childNodes).length;a<n;a++)i=s[a],o.push(this.add_option(i,t,e.disabled));return o},e.prototype.add_option=function(e,t,i){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:!0===i?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,i;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,(function(e){return t[e]||"&amp;"}))):e},e}()).select_to_array=function(e){var t,i,n,s,o;for(i=new a,n=0,s=(o=e.childNodes).length;n<s;n++)t=o[n],i.add_node(t);return i.parsed},t=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout((function(){return t.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout((function(){return t.blur_test()}),100)},e.prototype.results_option_build=function(e){var t,i,a,n,s;for(t="",a=0,n=(s=this.results_data).length;a<n;a++)(i=s[a]).group?t+=this.result_add_group(i):t+=this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li class="'+t.join(" ")+'"'+i+' data-option-array-index="'+e.array_index+'">'+e.search_text+"</li>"):""},e.prototype.result_add_group=function(e){return(e.search_match||e.group_match)&&e.active_options>0?'<li class="group-result">'+e.search_text+"</li>":""},e.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing)return this.winnow_results()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.stringEscaped=function(e){for(var t=[{val:"A",let:"(A|À|Á|Â|Ã|Ä|Å|Ǻ|Ā|Ă|Ą|Ǎ)"},{val:"a",let:"(a|à|á|â|ã|å|ǻ|ā|ă|ą|ǎ|ª)"},{val:"C",let:"(C|Ç|Ć|Ĉ|Ċ|Č)"},{val:"c",let:"(c|ç|ć|ĉ|ċ|č)"},{val:"D",let:"(D|Ð|Ď|Đ)"},{val:"d",let:"(d|ð|ď|đ)"},{val:"E",let:"(E|È|É|Ê|Ë|Ē|Ĕ|Ė|Ę|Ě)"},{val:"e",let:"(e|è|é|ê|ë|ē|ĕ|ė|ę|ě)"},{val:"G",let:"(G|Ĝ|Ğ|Ġ|Ģ)"},{val:"g",let:"(g|ĝ|ğ|ġ|ģ)"},{val:"H",let:"(H|Ĥ|Ħ)"},{val:"h",let:"(h|ĥ|ħ)"},{val:"I",let:"(I|Ì|Í|Î|Ï|Ĩ|Ī|Ĭ|Ǐ|Į|İ)"},{val:"i",let:"(i|ì|í|î|ï|ĩ|ī|ĭ|ǐ|į|ı)"},{val:"J",let:"(J|Ĵ)"},{val:"j",let:"(j|ĵ)"},{val:"K",let:"(K|Ķ)"},{val:"k",let:"(k|ķ)"},{val:"L",let:"(L|Ĺ|Ļ|Ľ|Ŀ|Ł)"},{val:"l",let:"(l|ĺ|ļ|ľ|ŀ|ł)"},{val:"N",let:"(N|Ñ|Ń|Ņ|Ň)"},{val:"n",let:"(n|ñ|ń|ņ|ň|ŉ)"},{val:"O",let:"(O|Ò|Ó|Ô|Õ|Ō|Ŏ|Ǒ|Ő|Ơ|Ø|Ǿ)"},{val:"o",let:"(o|ò|ó|ô|õ|ō|ŏ|ǒ|ő|ơ|ø|ǿ|º)"},{val:"R",let:"(R|Ŕ|Ŗ|Ř)"},{val:"r",let:"(r|ŕ|ŗ|ř)"},{val:"S",let:"(S|Ś|Ŝ|Ş|Š)"},{val:"s",let:"(s|ś|ŝ|ş|š|ſ)"},{val:"T",let:"(T|Ţ|Ť|Ŧ)"},{val:"t",let:"(t|ţ|ť|ŧ)"},{val:"U",let:"(U|Ù|Ú|Û|Ũ|Ū|Ŭ|Ů|Ű|Ų|Ư|Ǔ|Ǖ|Ǘ|Ǚ|Ǜ)"},{val:"u",let:"(u|ù|ú|û|ũ|ū|ŭ|ů|ű|ų|ư|ǔ|ǖ|ǘ|ǚ|ǜ)"},{val:"Y",let:"(Y|Ý|Ÿ|Ŷ)"},{val:"y",let:"(y|ý|ÿ|ŷ)"},{val:"W",let:"(W|Ŵ)"},{val:"w",let:"(w|ŵ)"},{val:"Z",let:"(Z|Ź|Ż|Ž)"},{val:"z",let:"(z|ź|ż|ž)"},{val:"f",let:"(f|ƒ)"}],i=0;i<t.length;i++)e=(e=e.replace(new RegExp(t[i].let,"g"),t[i].val)).replace(new RegExp(t[i].val,"g"),t[i].let);return e},e.prototype.winnow_results=function(){var e,t,i,a,n,s,o,r,l,d,u,c;for(this.no_results_clear(),i=0,n=this.get_search_text(),d=this.results_data,u=n.split(" "),t=n.split(" "),_s=0,_lens=u.length;_s<_lens;_s++)t[_s]=new RegExp(this.stringEscaped(u[_s]),"i");for(r=0,l=d.length;r<l;r++)if((e=d[r]).search_match=!1,a=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(0===(a=this.results_data[e.group_array_index]).active_options&&a.search_match&&(i+=1),a.active_options+=1),!e.group||this.group_search)){for(e.search_text=e.group?e.label:e.html,c=0,_s=0,_lens=t.length;_s<_lens;_s++)e.search_match=this.search_string_match(e.search_text,t[_s]),e.search_match&&!e.group&&(c+=1),c==_lens?i+=1:e.search_match=null;if(e.search_match){if(n.length)for(_s=0,_lens=u.length;_s<_lens;_s++)s=e.search_text.search(t[_s]),o=e.search_text.substr(0,s+u[_s].length)+"</em>"+e.search_text.substr(s+u[_s].length),e.search_text=o.substr(0,s)+"<em>"+o.substr(s);null!=a&&(a.group_match=!0)}else null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)}return this.result_clear_highlight(),i<1&&n.length?(this.update_results_content(""),this.no_results(n)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var i,a,n,s;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))){if((a=e.replace(/\[|\]/g,"").split(" ")).length)for(n=0,s=a.length;n<s;n++)if(i=a[n],t.test(i))return!0;return!1}},e.prototype.choices_count=function(){var e,t,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,e=0,t=(i=this.form_field.options).length;e<t;e++)i[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){if(e.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!!/iP(od|hone)/i.test(window.navigator.userAgent)||(/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent),!0)},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),(e=jQuery).fn.extend({chosen:function(a){return t.browser_is_supported()?this.each((function(t){var n,s;s=(n=e(this)).data("chosen"),"destroy"===a&&s?s.destroy():s||n.data("chosen",new i(this,a))})):this}}),i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return function(e,t){for(var i in t)n.call(t,i)&&(e[i]=t[i]);function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype}(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var t,i;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={class:t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",(function(t){e.container_mousedown(t)})),this.container.bind("mouseup.chosen",(function(t){e.container_mouseup(t)})),this.container.bind("mouseenter.chosen",(function(t){e.mouse_enter(t)})),this.container.bind("mouseleave.chosen",(function(t){e.mouse_leave(t)})),this.search_results.bind("mouseup.chosen",(function(t){e.search_results_mouseup(t)})),this.search_results.bind("mouseover.chosen",(function(t){e.search_results_mouseover(t)})),this.search_results.bind("mouseout.chosen",(function(t){e.search_results_mouseout(t)})),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",(function(t){e.search_results_mousewheel(t)})),this.form_field_jq.bind("chosen:updated.chosen",(function(t){e.results_update_field(t)})),this.form_field_jq.bind("chosen:activate.chosen",(function(t){e.activate_field(t)})),this.form_field_jq.bind("chosen:open.chosen",(function(t){e.container_mousedown(t)})),this.search_field.bind("blur.chosen",(function(t){e.input_blur(t)})),this.search_field.bind("keyup.chosen",(function(t){e.keyup_checker(t)})),this.search_field.bind("keydown.chosen",(function(t){e.keydown_checker(t)})),this.search_field.bind("focus.chosen",(function(t){e.input_focus(t)})),this.is_multiple?this.search_choices.bind("click.chosen",(function(t){e.choices_click(t)})):this.container.bind("click.chosen",(function(e){e.preventDefault()}))},i.prototype.destroy=function(){return e(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!e(t.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},i.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t,i,a;if(null!=(t=-(null!=(i=e.originalEvent)?i.wheelDelta:void 0)||(null!=(a=e.originialEvent)?a.detail:void 0)))return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},i.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return e(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){return this.container.is(e(t.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=a.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,a,n,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=(a=parseInt(this.search_results.css("maxHeight"),10))+(s=this.search_results.scrollTop()),(t=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(t-a>0?t-a:0);if(i<s)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},i.prototype.set_label_behavior=function(){var t=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",(function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}))},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;if((i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first()).length)return this.result_highlight=i,this.result_select(t),this.search_field.focus()},i.prototype.search_results_mouseover=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(t){var i,a,n=this;return i=e("<li />",{class:"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):((a=e("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).bind("click.chosen",(function(e){return n.choice_destroy_link_click(e)})),i.append(a)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.reset_single_select_options=function(){var e,t,i,a,n;for(n=[],e=0,t=(i=this.results_data).length;e<t;e++)(a=i[e]).selected?n.push(a.selected=!1):n.push(void 0);return n},i.prototype.result_select=function(e){var t,i;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(i=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;if(null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},i.prototype.no_results=function(t){var i;return(i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(t),this.search_results.append(i)},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,i,a,n,s,o,r,l;if(this.is_multiple){for(0,o=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",r=0,l=(s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;r<l;r++)n+=(a=s[r])+":"+this.search_field.css(a)+";";return(t=e("<div />",{style:n})).text(this.search_field.val()),e("body").append(t),o=t.width()+25,t.remove(),o>(i=this.container.outerWidth())-10&&(o=i-10),this.search_field.css({width:o+"px"})}},i}(t)}).call(this)},155:function(e,t){(function(){var e,t,i=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},a={}.hasOwnProperty;t=function(){var e;function t(){}return e={invalid_select_element:"ChosenOrder::{{function}}: first argument must be a valid HTML Multiple Select element that has been Chosenified!",invalid_selection_array:"ChosenOrder::{{function}}: second argument must be an Array!",unreachable_chosen_container:'ChosenOrder::{{function}}: could not find the Chosen UI container! To solve the problem, try adding an "id" attribute to your <select> element.',ordering_unselected_option:"ChosenOrder::{{function}}: ignoring option '{{option}}' which is not selected. Set optional parameter \"force\" to 'true' to get the ordered selection forced first."},t.insertAt=function(e,t,i){return i.insertBefore(e,i.children[t].nextSibling)},t.getFlattenedOptionsAndGroups=function(e){var t,i,a,n,s,o,r,l,d;for(t=[],o=0,l=(a=Array.prototype.filter.call(e.childNodes,(function(e){var t;return"OPTION"===(t=e.nodeName.toUpperCase())||"OPTGROUP"===t}))).length;o<l;o++)if(i=a[o],t.push(i),"OPTGROUP"===i.nodeName.toUpperCase())for(r=0,d=(s=Array.prototype.filter.call(i.childNodes,(function(e){return"OPTION"===e.nodeName.toUpperCase()}))).length;r<d;r++)n=s[r],t.push(n);return t},t.isValidMultipleSelectElement=function(e){return null!=e&&"SELECT"===e.nodeName&&e.multiple},t.getChosenUIContainer=function(e){return""!==e.id?document.getElementById(e.id.replace(/-/g,"_")+"_chosen"):this.searchChosenUIContainer(e)},t.isChosenified=function(e){return null!=this.getChosenUIContainer(e)},t.forceSelection=function(e,t){var a,n,s,o;for(s=this.getFlattenedOptionsAndGroups(e),a=0;a<s.length;)o=(n=s[a]).getAttribute("value"),i.call(t,o)>=0?(n.selected=!0,n.setAttribute("selected","")):(n.selected=!1,n.removeAttribute("selected")),a++;return this.triggerEvent(e,"chosen:updated")},t.getSelectionOrder=function(t){var i,a,n,s,o,r,l,d,u;if(null!=this.getDOMElement&&(t=this.getDOMElement(t)),r=[],!this.isValidMultipleSelectElement(t))return console.error(e.invalid_select_element.replace("{{function}}","getSelectionOrder")),r;if(null==(a=this.getChosenUIContainer(t)))return console.error(e.unreachable_chosen_container.replace("{{function}}","getSelectionOrder")),r;for(i=a.querySelectorAll(".search-choice"),o=this.getFlattenedOptionsAndGroups(t),d=0,u=i.length;d<u;d++)null!=(n=i[d].querySelectorAll(".search-choice-close")[0])&&(l=n.getAttribute(this.relAttributeName)),s=o[l],r.push(s.value);return r},t.setSelectionOrder=function(t,i,a){var n,s,o,r,l,d,u,c,f,h,p,m,g,v;if(null!=this.getDOMElement&&(t=this.getDOMElement(t)),this.isValidMultipleSelectElement(t)){if(null!=(s=this.getChosenUIContainer(t))){if(i instanceof Array){for(i=i.map(Function.prototype.call,String.prototype.trim),u=this.getFlattenedOptionsAndGroups(t),null!=a&&!0===a&&this.forceSelection(t,i),v=[],o=h=0,m=i.length;h<m;o=++h){for(l=i[o],c=null,r=p=0,g=u.length;p<g;r=++p)u[r].value===l&&(c=r);n=s.querySelectorAll(".search-choice"),f=this.relAttributeName,null!=(d=Array.prototype.filter.call(n,(function(e){return null!=e.querySelector("a.search-choice-close["+f+'="'+c+'"]')}))[0])?(s.querySelector("ul.chosen-choices"),v.push(this.insertAt(d,o,s.querySelector("ul.chosen-choices")))):console.warn(e.ordering_unselected_option.replace("{{function}}","setSelectionOrder").replace("{{option}}",l))}return v}return console.error(e.invalid_selection_array.replace("{{function}}","setSelectionOrder"))}console.error(e.unreachable_chosen_container.replace("{{function}}","setSelectionOrder"))}else console.error(e.invalid_select_element.replace("{{function}}","setSelectionOrder"))},t}(),(e=jQuery).fn.extend({getSelectionOrder:function(){return n.getSelectionOrder(this)},setSelectionOrder:function(e,t){return n.setSelectionOrder(this,e,t)}});var n=this.ChosenOrder=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return function(e,t){for(var i in t)a.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(i,t),i.relAttributeName="data-option-array-index",i.isjQueryObject=function(e){return"undefined"!=typeof jQuery&&null!==jQuery&&e instanceof jQuery},i.getDOMElement=function(e){return this.isjQueryObject(e)?e.get(0):e},i.searchChosenUIContainer=function(t){return null!=e(t).data("chosen")?e(t).data("chosen").container[0]:e(t).next(".chosen-container.chosen-container-multi").get(0)},i.triggerEvent=function(t,i){return e(t).trigger(i)},i}(t)}).call(this)},156:function(e,t){jQuery.fn.ckEditors=function(){if(this.length<0)return this;$(this).each((function(){var e=this;$(this).hasClass("js_editor")&&!$(this).hasClass("editor_replaced")&&($(this).addClass("editor_replaced"),CKEDITOR.config.height=$(this).attr("data-height")?$(this).attr("data-height"):"250px",CKEDITOR.replace($(this).attr("id")).on("instanceReady",(function(){$(e).removeClass("js_editor")})))}))},jQuery.fn.firstLevelForm=function(e){return $(this).filter((function(){return $(this).parents("form")[0]==e}))}},158:function(e,t,i){"use strict";i.r(t);var a=i(4),n=i(136),s=i(137),o="#$_",r=function(){};r.prototype.get=function(e,t){var i=this[e];if(!t)return i;for(var a in t)i=i.replace(":"+a,null==t[a]?"":t[a]);return i};var l=function(e){var t=new r;for(var i in e)t[i]=e[i];return t};function d(e,t,i,a,n,s,o,r){var l,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),a&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=l):n&&(l=r?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(d.functional){d._injectStyles=l;var u=d.render;d.render=function(e,t){return l.call(t),u(e,t)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,l):[l]}return{exports:e,options:d}}var u=d({props:["user"],computed:{logout:function(){return window.crudadmin.logout},getPermissions:function(){if("admins_groups"in this.user){for(var e=[],t=0;t<this.user.admins_groups.length;t++)e.push(this.user.admins_groups[t].name);if(e.length>0)return e.join(", ")}return this.trans("admin-user")}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"navbar-custom-menu"},[i("ul",{staticClass:"nav navbar-nav"},[i("li",{staticClass:"user user-menu"},[i("a",{staticClass:"user-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[i("img",{staticClass:"user-image",attrs:{src:e.getAvatar,alt:"User Image"}}),e._v(" "),e.user?i("span",[e._v(e._s(e.user.username))]):e._e(),e._v(" "),i("i",{staticClass:"fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu"},[i("li",{staticClass:"user-header"},[i("img",{staticClass:"img-circle",attrs:{src:e.getAvatar,alt:"User Image"}}),e._v(" "),e.user?i("p",[e._v("\n                            "+e._s(e.user.username)+" - "+e._s(e.getPermissions)+"\n                        ")]):e._e()]),e._v(" "),i("li",{staticClass:"user-body"}),e._v(" "),i("li",{staticClass:"user-footer"},[i("div",{staticClass:"pull-right"},[i("a",{staticClass:"btn btn-primary",attrs:{href:e.logout}},[e._v(e._s(e.trans("logout")))])])])])])])])}),[],!1,null,null,null).exports,c=d({name:"sidebar-row",props:["row","parent"],data:function(){return{opened:!1,levels:[],defaultIcon:"fa-link"}},created:function(){var e=[];if(this.parent)for(var t=0;t<this.parent.length;t++)e.push(this.parent[t]);return e.push(this.row),this.levels=e},mounted:function(){this.openTree()},computed:{hasSubmenu:function(){return 0!==this.row.submenu.length},isGroup:function(){return this.row.slug.substr(0,o.length)==o},hasChilds:function(){for(var e in this.row.submenu)return!0;return!1},isActive:function(){return!1!==this.row.active}},methods:{openTree:function(){if(this.row.table==this.$router.history.current.params.model)for(var e=this;"sidebar-row"==e.$options.name;)e.opened=!0,e=e.$parent},toggleMenu:function(){this.opened=!this.opened}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("fragment",[e.isActive&&!e.isGroup?i("router-link",{staticClass:"treeview",attrs:{tag:"li","data-slug":e.row.slug,to:{name:"admin-model",params:{model:e.row.slug}},"exact-active-class":"active","active-class":"active"}},[i("a",{on:{click:e.toggleMenu}},[i("i",{staticClass:"icon",class:["fa",e.faMigrator(e.row.icon||e.defaultIcon)]}),e._v(" "),i("span",[e._v(e._s(e.row.name))]),e._v(" "),e.hasSubmenu?i("i",{staticClass:"fa side-arrow",class:{"fa-angle-down":e.opened,"fa-angle-left":!e.opened}}):e._e()]),e._v(" "),e.hasSubmenu?i("ul",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],staticClass:"treeview-menu"},e._l(e.row.submenu,(function(t,a){return i("sidebar-row",{key:a,attrs:{row:t,parent:e.levels}})})),1):e._e()]):e._e(),e._v(" "),e.isActive&&e.isGroup&&e.hasChilds?i("li",{staticClass:"treeview treeview-list",attrs:{"data-slug":e.row.slug}},[i("a",{on:{click:e.toggleMenu}},[i("i",{staticClass:"fa icon",class:e.faMigrator(e.row.icon||e.defaultIcon)||"fa-folder-open far"}),e._v(" "),i("span",[e._v(e._s(e.row.name))]),e._v(" "),e.hasSubmenu?i("i",{staticClass:"fa side-arrow",class:{"fa-angle-down":e.opened,"fa-angle-left":!e.opened}}):e._e()]),e._v(" "),e.hasSubmenu?i("ul",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],staticClass:"treeview-menu"},e._l(e.row.submenu,(function(t,a){return i("sidebar-row",{key:a,attrs:{row:t,parent:e.levels}})})),1):e._e()]):e._e()],1)}),[],!1,null,null,null),f=d({props:["rows","languages","langid","user","version","author"],components:{SidebarRow:c.exports},watch:{rows:function(e){var t=this;this.$nextTick((function(){t.addActiveTreeClasses()}))}},computed:{year:function(){return moment().format("Y")},groups:function(){var e=this.rows;for(var t in e)!0!==e[t].active&&(!1!==e[t].active&&this.hasActiveModule(e[t].submenu)||delete e[t]);return e}},methods:{addActiveTreeClasses:function(){$('.sidebar li[data-slug="'+this.$router.currentRoute.params.model+'"]').parent().addClass("menu-open").css("display","block").parents(".treeview").addClass("active"),$(".sidebar .treeview-menu a").click((function(){$(this).parent().siblings(".active").removeClass("active").find(".menu-open").slideUp()}))},hasActiveModule:function(e){for(var t in e){if(!0===e[t].active)return!0;if(e[t].submenu&&this.hasActiveModule(e[t].submenu))return!0}return!1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section",{staticClass:"sidebar"},[i("ul",{staticClass:"sidebar-menu"},e._l(e.groups,(function(e,t){return i("sidebar-row",{key:t,attrs:{row:e}})})),1)]),e._v(" "),i("div",{staticClass:"footer-sidebar"},[!1!==e.author?i("p",[e._v("Developed by "),i("a",{attrs:{href:"https://www.marekgogol.sk",target:"_blank"}},[e._v("Marek Gogoľ")])]):e._e(),e._v(" "),i("p",[e._v("© 2016 - "+e._s(e.year)+" "),i("a",{attrs:{href:"https://www.crudadmin.com",target:"_blank"}},[e._v("CrudAdmin")])]),e._v(" "),!1!==e.author?i("br"):e._e(),e._v(" "),i("p",[e._v("Version "),i("a",{attrs:{target:"_blank",href:"https://packagist.org/packages/crudadmin/crudadmin#"+e.version}},[e._v(e._s(e.version))])])])])}),[],!1,null,null,null).exports,h=d({props:["alert"],data:function(){return{registredComponents:[]}},mounted:function(){var e=this;this.$watch("alert.component",(function(t){e.bindAlertComponent(t)})),this.checkAlertEvents()},computed:{canShowAlert:function(){return null!=this.alert.title&&null!=this.alert.message||this.alert.component}},methods:{isRegistredComponent:function(e){if(e&&e.name)return this.registredComponents.indexOf(this.$root.getComponentName(e.name))>-1},getComponentName:function(e){return this.$root.getComponentName(e)},checkAlertEvents:function(){var e=this;$(window).keyup((function(t){!0===e.canShowAlert?e.alert.opened&&(new Date).getTime()-e.alert.opened<300||(13==t.keyCode&&e.closeAlert(e.alert.success||e.alert.close),27==t.keyCode&&e.closeAlert(e.alert.close)):27==t.keyCode&&$(".modal .modal-header .close:visible").click()}))},bindAlertComponent:function(e){var t;if(e)try{(t=this.$root.getComponentObject(e.component)).name=this.$root.getComponentName(e.name),this.$options.components[t.name]=t,this.registredComponents.push(t.name)}catch(e){console.error("Syntax error in component button component.\n",e),this.alert.component=null}},closeAlert:function(e){for(var t in"function"==typeof e&&e.call(this.$parent),this.alert)this.$parent.alert[t]=null}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.canShowAlert?i("div",{staticClass:"message-modal"},[i("div",{staticClass:"modal",class:"modal-"+e.alert.type,style:{display:e.canShowAlert?"block":"none"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[e._v(e._s(e.alert.title))]),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return e.closeAlert(e.alert.close)}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),e._v(" "),i("div",{staticClass:"modal-body"},[e.alert.message?i("p",{domProps:{innerHTML:e._s(e.alert.message)}}):e._e(),e._v(" "),e.isRegistredComponent(e.alert.component)?i(e.getComponentName(e.alert.component.name),{tag:"component",attrs:{model:e.alert.component.model,rows:e.alert.component.rows,row:e.alert.component.row,request:e.alert.component.request,data:e.alert.component.data}}):e._e()],1),e._v(" "),i("div",{staticClass:"modal-footer"},[e.alert.close||"success"==e.alert.type&&!e.alert.close||!e.alert.close&&!e.alert.success?i("button",{staticClass:"btn btn-secondary",class:{"pull-left":e.alert.success},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.closeAlert(e.alert.close)}}},[e._v(e._s(e.trans("close")))]):e._e(),e._v(" "),e.alert.success?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.closeAlert(e.alert.success)}}},[e._v(e._s(e.trans("accept")))]):e._e()])])])])]):e._e()}),[],!1,null,null,null).exports,p=function(e){e.prototype.showTab=function(e){if(-1!==this.hidden_tabs.indexOf(e)){var t=_.cloneDeep(this.hidden_tabs);t.splice(this.hidden_tabs.indexOf(e),1),this.hidden_tabs=t}},e.prototype.hideTab=function(e){-1===this.hidden_tabs.indexOf(e)&&(this.hidden_tabs=_.cloneDeep(this.hidden_tabs).concat(e))},e.prototype.setTabVisibility=function(e,t){!0===t?this.showTab(e):this.hideTab(e)}},m=function(e){e.prototype.hideFromForm=function(e,t){Vue.set(this.fields[e],"hideFromForm",t)},e.prototype.removeFromForm=function(e,t){Vue.set(this.fields[e],"removeFromForm",t)},e.prototype.optionsFilter=function(e,t){this.fields[e].optionsFilter=t},e.prototype.getOptionValue=function(e,t){var i=this.fields[e].options.filter((function(e){return e[0]==t}))[0];return _.isNil(i)?null:i[1]},e.prototype.isMatchedAttributesValues=function(e,t){var i=(e||"").split(","),a=i[0].split("."),n=this.fields[a[0]]||this.fields[a[0]+"_id"],s=n.value;if(i=i.map((function(e){return _.isNil(e)||["","NULL"].indexOf(e)>-1?null:e})),a.length>1){var o=n.options,r=_.find(o,(function(e){return e[0]==s}));if(t){if(r&&i.slice(1).filter((function(e){return e==r[1][a[1]]})).length>0)return!0}else if(r&&r[1][a[1]]===i[2])return!0;return!1}return(_.isNil(s)||""===s)&&(s=null),t?i.slice(1).filter((function(e){return e==s})).length>0:s==i[1]},e.prototype.tryAttribute=function(e,t){var i;return!(!(i=e[t])||!0!==i)||((i=e[t+"If"])?this.isMatchedAttributesValues(i):(i=e[t+"IfIn"])?this.isMatchedAttributesValues(i,!0):(i=e[t+"IfNot"])?!this.isMatchedAttributesValues(i):!!(i=e[t+"IfNotIn"])&&!this.isMatchedAttributesValues(i,!0))}},g=function(e){e.prototype.isInParent=function(){return!0===this.inParent},e.prototype.isSingle=function(){return 1==this.minimum&&1==this.maximum||!0===this.single},e.prototype.formPrefix=function(){return this.isInParent()?"$"+this.table+"_":""},e.prototype.hasAccess=function(e){return!0===this.permissions[e]},e.prototype.getModelProperty=function(e,t){for(var i=e.split("."),a=this,n=0;n<i.length;n++){if(!(i[n]in a))return t||null;a=a[i[n]]}return a},e.prototype.getSettings=function(e,t){return this.getModelProperty("settings."+e,t)}},v=function(){},b=[p,m,g],y=function(e){var t=new v;for(var i in e)t[i]=e[i];for(var i in b)b[i](v);return t};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x=function(e){return{el:"#app",router:e,data:function(){return{csrf_token:null,version:null,version_resources:null,version_assets:null,gettext:null,locale:null,dashboard:null,license_key:null,requests:{},user:null,tree:[],originalModels:{},models:{},localization:{},languages:[],language_id:null,languages_active:!1,alert:{type:null,title:null,message:null,success:null,close:null,component:null,opened:null}}},watch:{language_id:function(e){localStorage.language_id=e}},components:{Sidebar:f,RightNavbar:u,Modal:h},created:function(){this.reloadCSRFToken($('meta[name="csrf-token"]')[0].content),this.bootApp(),jQuery.datetimepicker.setLocale(this.locale)},mounted:function(){this.bootTooltips()},computed:{isTest:function(){return this.version.indexOf("test")>-1}},methods:{setDefaultRoute:function(){if("dashboard"==e.currentRoute.name)for(var t in this.models)if(this.models[t].hasAccess("read")&&!0===this.models[t].getSettings("default",!1))return void e.push({name:"admin-model",params:{model:this.models[t].table}})},bootTooltips:function(){$("body").tooltip({selector:"[data-toggle='tooltip']"}),$("body").click((function(){$('[data-toggle="tooltip"]').tooltip("dispose")}))},reloadCSRFToken:function(e){this.csrf_token=e,Vue.http.options.headers={"X-CSRF-TOKEN":e},$.ajaxSetup({headers:{"X-CSRF-TOKEN":e}})},bootApp:function(){var e=this;window.crudadmin.logged&&this.$http.get(window.crudadmin.baseURL+"/api/layout").then((function(t){var i=t.data;e.version=i.version,e.version_resources=i.version_resources,e.version_assets=i.version_assets,e.gettext=i.gettext,e.locale=i.locale,e.dashboard=i.dashboard,e.license_key=i.license_key,e.requests=l(i.requests),e.user=i.user,e.tree=i.models,e.models=e.flattenModelsWithChilds(i.models),e.originalModels=e.flattenModelsWithChilds(i.models),e.localization=i.localization||{},e.languages=i.languages||[],e.bootLanguages(),e.setDefaultRoute()})).catch((function(t){e.errorResponseLayer(t)}))},getModelsFromGroups:function(e,t){for(var i in e)if(i.substr(0,o.length)==o)for(var a in e[i].submenu)a.substr(0,o.length)==o?t=t.concat(this.getModelsFromGroups(e[i].submenu[a].submenu,t)):t.push(e[i].submenu[a]);else t.push(e[i]);return t},flattenModelsWithChilds:function(e){var t={};for(var i in e=this.getModelsFromGroups(e,[]))"object"==w(e[i])&&(t[e[i].slug]=y(e[i]),Object.keys(e[i].childs).length>0&&(t=_.merge(t,this.flattenModelsWithChilds(e[i].childs))));return t},openAlert:function(e,t,i,a,n,s){return i||(i="success"),"error"==i&&(i="danger"),this.alert.type=i,this.alert.title=e,this.alert.message=t,this.alert.success=a,this.alert.close=n,this.alert.opened=(new Date).getTime(),this.alert.component=s,"activeElement"in document&&document.activeElement.blur(),this.alert},getComponentName:function(e){return e+"Alert"},arrorAlert:function(e){this.openAlert(this.trans("warning"),this.trans("unknown-error"),"danger",null,e||function(){})},bootLanguages:function(){0!=this.languages.length&&("language_id"in localStorage&&$.isNumeric(localStorage.language_id)||(localStorage.language_id=this.languages[0].id),this.language_id=localStorage.language_id)},errorResponseLayer:function(e,t,i){return"responseJSON"in e&&(e.data=e.responseJSON),!e.data&&e.body&&(e.data=e.body),e.data&&e.data.message&&e.data.title&&e.data.type?this.$root.openAlert(e.data.title,e.data.message,e.data.type,null,(function(){401==e.status&&(window.location.href=window.crudadmin.baseURL)})):404==e.status?this.$root.openAlert(this.trans("warning"),this.trans("row-error"),"warning"):401==e.status?this.$root.openAlert(this.trans("warning"),this.trans("auto-logout"),"warning",null,(function(){window.location.reload()})):!i||t!==e.status&&null!==t?e.data.message?this.$root.openAlert("Error "+e.status,e.data.message,"error"):void this.$root.arrorAlert():i(e)},getModelProperty:function(e,t,i){return e?e.getModelProperty(t,i):null},languageOptions:function(e,t,i,a){var n,s,o,r,l=[],d=i&&Object.keys(i).length>0;t&&(n=t.belongsTo||t.belongsToMany)&&(s=n.split(",")[1])&&(r=s.replace(/\\:/g,"").match(new RegExp(/[\:^]([0-9,a-z,A-Z$_]+)+/,"g"))),t&&t.option&&(r=(s=t.option).replace(/\\:/g,"").match(new RegExp(/[\:^]([0-9,a-z,A-Z$_]+)+/,"g")));e:for(var u in e){if(d)for(var c in i)if(e[u][1][c]!=i[c]||null==e[u][1][c])continue e;if(r)for(var f=s.replace(/\\:/g,":"),h=0;h<r.length;h++){var p=r[h].substr(1),m=n?this.models[n.split(",")[0]].fields[p]:t,g="id"==p?e[u][0]:this.getLangValue(e[u][1][p],m);f=f.replace(new RegExp(r[h],"g"),g||0===g?g:"")}else{s&&(o=n?this.models[n.split(",")[0]].fields[s]:t);f="object"==w(e[u][1])&&null!==e[u][1]?this.getLangValue(e[u][1][s],o):e[u][1]}f=null==f?null:f;var v=t.hiddenOptions||t.optionsFilter;if(v&&!1!==a){if("object"==w(v)&&v.indexOf(e[u][0])>-1)continue;if("function"==typeof v&&!1===v(e[u][0],f,e[u][1]))continue}l.push([e[u][0],f])}return l},getLangValue:function(e,t){if(t&&e&&"object"==w(e)&&"locale"in t){if(this.languages[0].slug in e&&(e[this.languages[0].slug]||0==e[this.languages[0].slug]))return e[this.languages[0].slug];for(var i in e)if(e[i]||0==e[i])return e[i];return null}return e},fromPHPFormatToMoment:function(e){var t={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:"o",w:"e",z:"DDD",W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:"",L:"",o:"YYYY",Y:"YYYY",y:"YY",a:"a",A:"A",B:"",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSS",e:"zz",I:"",O:"",P:"",T:"",Z:"",c:"",r:"",U:"X"},i=new RegExp(Object.keys(t).join("|"),"gi");return e.replace(i,(function(e){return e in t?t[e]:e}))},runInlineScripts:function(e){$("<div>"+e+"</div>").find("script").each((function(){if($(this).attr("src")){var e=document.createElement("script");e.src=$(this).attr("src"),e.type="text/javascript",$("body").append(e)}else try{new Function($(this).html()).call(Vue)}catch(e){console.error(e)}})),$("<div>"+e+"</div>").find("style").each((function(){$("body").append($(this)[0].outerHTML)}))},getLangName:function(e){return"object"==w(e.name)?e.name[Object.keys(e.name)[0]]:e.name},eventDataModifier:function(e,t,i){return"sendParentRow"==e&&(t={depth_level:i.$parent.depth_level}),t},canPassEventThrough:function(e,t,i){if(["getParentRow"].indexOf(e)>-1){var a=i.$parent.depth_level||i.$parent.$parent.depth_level;if(void 0!==t.depth_level&&t.depth_level>a)return!1}return!0},getComponentObject:function(e){var t=new Function("return "+e)(),i=this;t.template||(t.template="<div></div>"),t.ready&&!t.mounted&&(t.mounted=t.ready);var a=t.created||function(){},n=t.mounted||function(){},s=t.destroyed||function(){},o=["sendRow","sendParentRow","reloadRows"],r=["getRow","getParentRow","onCreate","onUpdate","onSubmit","changeFormSaveState","selectHistoryRow"],l={};return t.created=function(){var e=this;for(var t in o)!function(t){e.$on(t,l[t]=function(a){eventHub.$emit(t,i.eventDataModifier(t,a,e))})}(o[t]);for(var t in r)!function(t){eventHub.$on(t,l[t]=function(a){i.canPassEventThrough(t,a,e)&&e.$emit(t,a)})}(r[t]);a.call(this)},t.mounted=function(){n.call(this)},t.destroyed=function(){for(var e in r)t=r[e],eventHub.$off(t,l[t]);var t;s.call(this)},t}}}},C={"fa-500px":"fab fa-500px","fa-address-book-o":"far fa-address-book","fa-address-card-o":"far fa-address-card","fa-adn":"fab fa-adn","fa-amazon":"fab fa-amazon","fa-android":"fab fa-android","fa-angellist":"fab fa-angellist","fa-apple":"fab fa-apple","fa-area-chart":"fas fa-chart-area","fa-arrow-circle-o-down":"far fa-arrow-alt-circle-down","fa-arrow-circle-o-left":"far fa-arrow-alt-circle-left","fa-arrow-circle-o-right":"far fa-arrow-alt-circle-right","fa-arrow-circle-o-up":"far fa-arrow-alt-circle-up","fa-arrows":"fas fa-arrows-alt","fa-arrows-alt":"fas fa-expand-arrows-alt","fa-arrows-h":"fas fa-arrows-alt-h","fa-arrows-v":"fas fa-arrows-alt-v","fa-asl-interpreting":"fas fa-american-sign-language-interpreting","fa-automobile":"fas fa-car","fa-bandcamp":"fab fa-bandcamp","fa-bank":"fas fa-university","fa-bar-chart":"far fa-chart-bar","fa-bar-chart-o":"far fa-chart-bar","fa-bathtub":"fas fa-bath","fa-battery":"fas fa-battery-full","fa-battery-0":"fas fa-battery-empty","fa-battery-1":"fas fa-battery-quarter","fa-battery-2":"fas fa-battery-half","fa-battery-3":"fas fa-battery-three-quarters","fa-battery-4":"fas fa-battery-full","fa-behance":"fab fa-behance","fa-behance-square":"fab fa-behance-square","fa-bell-o":"far fa-bell","fa-bell-slash-o":"far fa-bell-slash","fa-bitbucket":"fab fa-bitbucket","fa-bitbucket-square":"fab fa-bitbucket","fa-bitcoin":"fab fa-btc","fa-black-tie":"fab fa-black-tie","fa-bluetooth":"fab fa-bluetooth","fa-bluetooth-b":"fab fa-bluetooth-b","fa-bookmark-o":"far fa-bookmark","fa-btc":"fab fa-btc","fa-building-o":"far fa-building","fa-buysellads":"fab fa-buysellads","fa-cab":"fas fa-taxi","fa-calendar":"fas fa-calendar-alt","fa-calendar-check-o":"far fa-calendar-check","fa-calendar-minus-o":"far fa-calendar-minus","fa-calendar-o":"far fa-calendar","fa-calendar-plus-o":"far fa-calendar-plus","fa-calendar-times-o":"far fa-calendar-times","fa-caret-square-o-down":"far fa-caret-square-down","fa-caret-square-o-left":"far fa-caret-square-left","fa-caret-square-o-right":"far fa-caret-square-right","fa-caret-square-o-up":"far fa-caret-square-up","fa-cc":"far fa-closed-captioning","fa-cc-amex":"fab fa-cc-amex","fa-cc-diners-club":"fab fa-cc-diners-club","fa-cc-discover":"fab fa-cc-discover","fa-cc-jcb":"fab fa-cc-jcb","fa-cc-mastercard":"fab fa-cc-mastercard","fa-cc-paypal":"fab fa-cc-paypal","fa-cc-stripe":"fab fa-cc-stripe","fa-cc-visa":"fab fa-cc-visa","fa-chain":"fas fa-link","fa-chain-broken":"fas fa-unlink","fa-check-circle-o":"far fa-check-circle","fa-check-square-o":"far fa-check-square","fa-chrome":"fab fa-chrome","fa-circle-o":"far fa-circle","fa-circle-o-notch":"fas fa-circle-notch","fa-circle-thin":"far fa-circle","fa-clipboard":"far fa-clipboard","fa-clock-o":"far fa-clock","fa-clone":"far fa-clone","fa-close":"fas fa-times","fa-cloud-download":"fas fa-cloud-download-alt","fa-cloud-upload":"fas fa-cloud-upload-alt","fa-cny":"fas fa-yen-sign","fa-code-fork":"fas fa-code-branch","fa-codepen":"fab fa-codepen","fa-codiepie":"fab fa-codiepie","fa-comment-o":"far fa-comment","fa-commenting":"far fa-comment-dots","fa-commenting-o":"far fa-comment-dots","fa-comments-o":"far fa-comments","fa-compass":"far fa-compass","fa-connectdevelop":"fab fa-connectdevelop","fa-contao":"fab fa-contao","fa-copyright":"far fa-copyright","fa-creative-commons":"fab fa-creative-commons","fa-credit-card":"far fa-credit-card","fa-credit-card-alt":"fas fa-credit-card","fa-css3":"fab fa-css3","fa-cutlery":"fas fa-utensils","fa-dashboard":"fas fa-tachometer-alt","fa-dashcube":"fab fa-dashcube","fa-deafness":"fas fa-deaf","fa-dedent":"fas fa-outdent","fa-delicious":"fab fa-delicious","fa-deviantart":"fab fa-deviantart","fa-diamond":"far fa-gem","fa-digg":"fab fa-digg","fa-dollar":"fas fa-dollar-sign","fa-dot-circle-o":"far fa-dot-circle","fa-dribbble":"fab fa-dribbble","fa-drivers-license":"fas fa-id-card","fa-drivers-license-o":"far fa-id-card","fa-dropbox":"fab fa-dropbox","fa-drupal":"fab fa-drupal","fa-edge":"fab fa-edge","fa-eercast":"fab fa-sellcast","fa-empire":"fab fa-empire","fa-envelope-o":"far fa-envelope","fa-envelope-open-o":"far fa-envelope-open","fa-envira":"fab fa-envira","fa-etsy":"fab fa-etsy","fa-eur":"fas fa-euro-sign","fa-euro":"fas fa-euro-sign","fa-exchange":"fas fa-exchange-alt","fa-expeditedssl":"fab fa-expeditedssl","fa-external-link":"fas fa-external-link-alt","fa-external-link-square":"fas fa-external-link-square-alt","fa-eye":"far fa-eye","fa-eye-slash":"far fa-eye-slash","fa-eyedropper":"fas fa-eye-dropper","fa-fa":"fab fa-font-awesome","fa-facebook":"fab fa-facebook-f","fa-facebook-f":"fab fa-facebook-f","fa-facebook-official":"fab fa-facebook","fa-facebook-square":"fab fa-facebook-square","fa-feed":"fas fa-rss","fa-file-archive-o":"far fa-file-archive","fa-file-audio-o":"far fa-file-audio","fa-file-code-o":"far fa-file-code","fa-file-excel-o":"far fa-file-excel","fa-file-image-o":"far fa-file-image","fa-file-movie-o":"far fa-file-video","fa-file-o":"far fa-file","fa-file-pdf-o":"far fa-file-pdf","fa-file-photo-o":"far fa-file-image","fa-file-picture-o":"far fa-file-image","fa-file-powerpoint-o":"far fa-file-powerpoint","fa-file-sound-o":"far fa-file-audio","fa-file-text":"fas fa-file-alt","fa-file-text-o":"far fa-file-alt","fa-file-video-o":"far fa-file-video","fa-file-word-o":"far fa-file-word","fa-file-zip-o":"far fa-file-archive","fa-files-o":"far fa-copy","fa-firefox":"fab fa-firefox","fa-first-order":"fab fa-first-order","fa-flag-o":"far fa-flag","fa-flash":"fas fa-bolt","fa-flickr":"fab fa-flickr","fa-floppy-o":"far fa-save","fa-folder-o":"far fa-folder","fa-folder-open-o":"far fa-folder-open","fa-font-awesome":"fab fa-font-awesome","fa-fonticons":"fab fa-fonticons","fa-fort-awesome":"fab fa-fort-awesome","fa-forumbee":"fab fa-forumbee","fa-foursquare":"fab fa-foursquare","fa-free-code-camp":"fab fa-free-code-camp","fa-frown-o":"far fa-frown","fa-futbol-o":"far fa-futbol","fa-gbp":"fas fa-pound-sign","fa-ge":"fab fa-empire","fa-gear":"fas fa-cog","fa-gears":"fas fa-cogs","fa-get-pocket":"fab fa-get-pocket","fa-gg":"fab fa-gg","fa-gg-circle":"fab fa-gg-circle","fa-globe":"fa fa-globe-americas","fa-git":"fab fa-git","fa-git-square":"fab fa-git-square","fa-github":"fab fa-github","fa-github-alt":"fab fa-github-alt","fa-github-square":"fab fa-github-square","fa-gitlab":"fab fa-gitlab","fa-gittip":"fab fa-gratipay","fa-glass":"fas fa-glass-martini","fa-glide":"fab fa-glide","fa-glide-g":"fab fa-glide-g","fa-google":"fab fa-google","fa-google-plus":"fab fa-google-plus-g","fa-google-plus-circle":"fab fa-google-plus","fa-google-plus-official":"fab fa-google-plus","fa-google-plus-square":"fab fa-google-plus-square","fa-google-wallet":"fab fa-google-wallet","fa-gratipay":"fab fa-gratipay","fa-grav":"fab fa-grav","fa-group":"fas fa-users","fa-hacker-news":"fab fa-hacker-news","fa-hand-grab-o":"far fa-hand-rock","fa-hand-lizard-o":"far fa-hand-lizard","fa-hand-o-down":"far fa-hand-point-down","fa-hand-o-left":"far fa-hand-point-left","fa-hand-o-right":"far fa-hand-point-right","fa-hand-o-up":"far fa-hand-point-up","fa-hand-paper-o":"far fa-hand-paper","fa-hand-peace-o":"far fa-hand-peace","fa-hand-pointer-o":"far fa-hand-pointer","fa-hand-rock-o":"far fa-hand-rock","fa-hand-scissors-o":"far fa-hand-scissors","fa-hand-spock-o":"far fa-hand-spock","fa-hand-stop-o":"far fa-hand-paper","fa-handshake-o":"far fa-handshake","fa-hard-of-hearing":"fas fa-deaf","fa-hdd-o":"far fa-hdd","fa-header":"fas fa-heading","fa-heart-o":"far fa-heart","fa-hospital-o":"far fa-hospital","fa-hotel":"fas fa-bed","fa-hourglass-1":"fas fa-hourglass-start","fa-hourglass-2":"fas fa-hourglass-half","fa-hourglass-3":"fas fa-hourglass-end","fa-hourglass-o":"far fa-hourglass","fa-houzz":"fab fa-houzz","fa-html5":"fab fa-html5","fa-id-badge":"far fa-id-badge","fa-id-card-o":"far fa-id-card","fa-ils":"fas fa-shekel-sign","fa-image":"far fa-image","fa-imdb":"fab fa-imdb","fa-inr":"fas fa-rupee-sign","fa-instagram":"fab fa-instagram","fa-institution":"fas fa-university","fa-internet-explorer":"fab fa-internet-explorer","fa-intersex":"fas fa-transgender","fa-ioxhost":"fab fa-ioxhost","fa-joomla":"fab fa-joomla","fa-jpy":"fas fa-yen-sign","fa-jsfiddle":"fab fa-jsfiddle","fa-keyboard-o":"far fa-keyboard","fa-krw":"fas fa-won-sign","fa-lastfm":"fab fa-lastfm","fa-lastfm-square":"fab fa-lastfm-square","fa-leanpub":"fab fa-leanpub","fa-legal":"fas fa-gavel","fa-lemon-o":"far fa-lemon","fa-level-down":"fas fa-level-down-alt","fa-level-up":"fas fa-level-up-alt","fa-life-bouy":"far fa-life-ring","fa-life-buoy":"far fa-life-ring","fa-life-ring":"far fa-life-ring","fa-life-saver":"far fa-life-ring","fa-lightbulb-o":"far fa-lightbulb","fa-line-chart":"fas fa-chart-line","fa-linkedin":"fab fa-linkedin-in","fa-linkedin-square":"fab fa-linkedin","fa-linode":"fab fa-linode","fa-linux":"fab fa-linux","fa-list-alt":"far fa-list-alt","fa-long-arrow-down":"fas fa-long-arrow-alt-down","fa-long-arrow-left":"fas fa-long-arrow-alt-left","fa-long-arrow-right":"fas fa-long-arrow-alt-right","fa-long-arrow-up":"fas fa-long-arrow-alt-up","fa-mail-forward":"fas fa-share","fa-mail-reply":"fas fa-reply","fa-mail-reply-all":"fas fa-reply-all","fa-map-marker":"fas fa-map-marker-alt","fa-map-o":"far fa-map","fa-maxcdn":"fab fa-maxcdn","fa-meanpath":"fab fa-font-awesome","fa-medium":"fab fa-medium","fa-meetup":"fab fa-meetup","fa-meh-o":"far fa-meh","fa-minus-square-o":"far fa-minus-square","fa-mixcloud":"fab fa-mixcloud","fa-mobile":"fas fa-mobile-alt","fa-mobile-phone":"fas fa-mobile-alt","fa-modx":"fab fa-modx","fa-money":"far fa-money-bill-alt","fa-moon-o":"far fa-moon","fa-mortar-board":"fas fa-graduation-cap","fa-navicon":"fas fa-bars","fa-newspaper-o":"far fa-newspaper","fa-object-group":"far fa-object-group","fa-object-ungroup":"far fa-object-ungroup","fa-odnoklassniki":"fab fa-odnoklassniki","fa-odnoklassniki-square":"fab fa-odnoklassniki-square","fa-opencart":"fab fa-opencart","fa-openid":"fab fa-openid","fa-opera":"fab fa-opera","fa-optin-monster":"fab fa-optin-monster","fa-pagelines":"fab fa-pagelines","fa-paper-plane-o":"far fa-paper-plane","fa-paste":"far fa-clipboard","fa-pause-circle-o":"far fa-pause-circle","fa-paypal":"fab fa-paypal","fa-pencil":"fas fa-pencil-alt","fa-pencil-square":"fas fa-pen-square","fa-pencil-square-o":"far fa-edit","fa-photo":"far fa-image","fa-picture-o":"far fa-image","fa-pie-chart":"fas fa-chart-pie","fa-pied-piper":"fab fa-pied-piper","fa-pied-piper-alt":"fab fa-pied-piper-alt","fa-pied-piper-pp":"fab fa-pied-piper-pp","fa-pinterest":"fab fa-pinterest","fa-pinterest-p":"fab fa-pinterest-p","fa-pinterest-square":"fab fa-pinterest-square","fa-play-circle-o":"far fa-play-circle","fa-plus-square-o":"far fa-plus-square","fa-product-hunt":"fab fa-product-hunt","fa-qq":"fab fa-qq","fa-question-circle-o":"far fa-question-circle","fa-quora":"fab fa-quora","fa-ra":"fab fa-rebel","fa-ravelry":"fab fa-ravelry","fa-rebel":"fab fa-rebel","fa-reddit":"fab fa-reddit","fa-reddit-alien":"fab fa-reddit-alien","fa-reddit-square":"fab fa-reddit-square","fa-refresh":"fas fa-sync","fa-registered":"far fa-registered","fa-remove":"fas fa-times","fa-renren":"fab fa-renren","fa-reorder":"fas fa-bars","fa-repeat":"fas fa-redo","fa-resistance":"fab fa-rebel","fa-rmb":"fas fa-yen-sign","fa-rotate-left":"fas fa-undo","fa-rotate-right":"fas fa-redo","fa-rouble":"fas fa-ruble-sign","fa-rub":"fas fa-ruble-sign","fa-ruble":"fas fa-ruble-sign","fa-rupee":"fas fa-rupee-sign","fa-s15":"fas fa-bath","fa-safari":"fab fa-safari","fa-scissors":"fas fa-cut","fa-scribd":"fab fa-scribd","fa-sellsy":"fab fa-sellsy","fa-send":"fas fa-paper-plane","fa-send-o":"far fa-paper-plane","fa-share-square-o":"far fa-share-square","fa-shekel":"fas fa-shekel-sign","fa-sheqel":"fas fa-shekel-sign","fa-shield":"fas fa-shield-alt","fa-shirtsinbulk":"fab fa-shirtsinbulk","fa-sign-in":"fas fa-sign-in-alt","fa-sign-out":"fas fa-sign-out-alt","fa-signing":"fas fa-sign-language","fa-simplybuilt":"fab fa-simplybuilt","fa-skyatlas":"fab fa-skyatlas","fa-skype":"fab fa-skype","fa-slack":"fab fa-slack","fa-sliders":"fas fa-sliders-h","fa-slideshare":"fab fa-slideshare","fa-smile-o":"far fa-smile","fa-snapchat":"fab fa-snapchat","fa-snapchat-ghost":"fab fa-snapchat-ghost","fa-snapchat-square":"fab fa-snapchat-square","fa-snowflake-o":"far fa-snowflake","fa-soccer-ball-o":"far fa-futbol","fa-sort-alpha-asc":"fas fa-sort-alpha-down","fa-sort-alpha-desc":"fas fa-sort-alpha-up","fa-sort-amount-asc":"fas fa-sort-amount-down","fa-sort-amount-desc":"fas fa-sort-amount-up","fa-sort-asc":"fas fa-sort-up","fa-sort-desc":"fas fa-sort-down","fa-sort-numeric-asc":"fas fa-sort-numeric-down","fa-sort-numeric-desc":"fas fa-sort-numeric-up","fa-soundcloud":"fab fa-soundcloud","fa-spoon":"fas fa-utensil-spoon","fa-spotify":"fab fa-spotify","fa-square-o":"far fa-square","fa-stack-exchange":"fab fa-stack-exchange","fa-stack-overflow":"fab fa-stack-overflow","fa-star-half-empty":"far fa-star-half","fa-star-half-full":"far fa-star-half","fa-star-half-o":"far fa-star-half","fa-star-o":"far fa-star","fa-steam":"fab fa-steam","fa-steam-square":"fab fa-steam-square","fa-sticky-note-o":"far fa-sticky-note","fa-stop-circle-o":"far fa-stop-circle","fa-stumbleupon":"fab fa-stumbleupon","fa-stumbleupon-circle":"fab fa-stumbleupon-circle","fa-sun-o":"far fa-sun","fa-superpowers":"fab fa-superpowers","fa-support":"far fa-life-ring","fa-tablet":"fas fa-tablet-alt","fa-tachometer":"fas fa-tachometer-alt","fa-telegram":"fab fa-telegram","fa-television":"fas fa-tv","fa-tencent-weibo":"fab fa-tencent-weibo","fa-themeisle":"fab fa-themeisle","fa-thermometer":"fas fa-thermometer-full","fa-thermometer-0":"fas fa-thermometer-empty","fa-thermometer-1":"fas fa-thermometer-quarter","fa-thermometer-2":"fas fa-thermometer-half","fa-thermometer-3":"fas fa-thermometer-three-quarters","fa-thermometer-4":"fas fa-thermometer-full","fa-thumb-tack":"fas fa-thumbtack","fa-thumbs-o-down":"far fa-thumbs-down","fa-thumbs-o-up":"far fa-thumbs-up","fa-ticket":"fas fa-ticket-alt","fa-times-circle-o":"far fa-times-circle","fa-times-rectangle":"fas fa-window-close","fa-times-rectangle-o":"far fa-window-close","fa-toggle-down":"far fa-caret-square-down","fa-toggle-left":"far fa-caret-square-left","fa-toggle-right":"far fa-caret-square-right","fa-toggle-up":"far fa-caret-square-up","fa-trash":"fas fa-trash-alt","fa-trash-o":"far fa-trash-alt","fa-trello":"fab fa-trello","fa-tripadvisor":"fab fa-tripadvisor","fa-try":"fas fa-lira-sign","fa-tumblr":"fab fa-tumblr","fa-tumblr-square":"fab fa-tumblr-square","fa-turkish-lira":"fas fa-lira-sign","fa-twitch":"fab fa-twitch","fa-twitter":"fab fa-twitter","fa-twitter-square":"fab fa-twitter-square","fa-unsorted":"fas fa-sort","fa-usb":"fab fa-usb","fa-usd":"fas fa-dollar-sign","fa-user-circle-o":"far fa-user-circle","fa-user-o":"far fa-user","fa-vcard":"fas fa-address-card","fa-vcard-o":"far fa-address-card","fa-viacoin":"fab fa-viacoin","fa-viadeo":"fab fa-viadeo","fa-viadeo-square":"fab fa-viadeo-square","fa-video-camera":"fas fa-video","fa-vimeo":"fab fa-vimeo-v","fa-vimeo-square":"fab fa-vimeo-square","fa-vine":"fab fa-vine","fa-vk":"fab fa-vk","fa-volume-control-phone":"fas fa-phone-volume","fa-warning":"fas fa-exclamation-triangle","fa-wechat":"fab fa-weixin","fa-weibo":"fab fa-weibo","fa-weixin":"fab fa-weixin","fa-whatsapp":"fab fa-whatsapp","fa-wheelchair-alt":"fab fa-accessible-icon","fa-wikipedia-w":"fab fa-wikipedia-w","fa-window-close-o":"far fa-window-close","fa-window-maximize":"far fa-window-maximize","fa-window-restore":"far fa-window-restore","fa-windows":"fab fa-windows","fa-won":"fas fa-won-sign","fa-wordpress":"fab fa-wordpress","fa-wpbeginner":"fab fa-wpbeginner","fa-wpexplorer":"fab fa-wpexplorer","fa-wpforms":"fab fa-wpforms","fa-xing":"fab fa-xing","fa-xing-square":"fab fa-xing-square","fa-y-combinator":"fab fa-y-combinator","fa-y-combinator-square":"fab fa-hacker-news","fa-yahoo":"fab fa-yahoo","fa-yc":"fab fa-y-combinator","fa-yc-square":"fab fa-hacker-news","fa-yelp":"fab fa-yelp","fa-yen":"fas fa-yen-sign","fa-yoast":"fab fa-yoast","fa-youtube":"fab fa-youtube","fa-youtube-play":"fab fa-youtube","fa-youtube-square":"fab fa-youtube-square"},k=function(e){return e in C?C[e]:e},S={computed:{getAvatar:function(){return this.user&&this.user.avatar?this.user.avatar:this.$http.options.root+"/../"+window.crudadmin.path+"/dist/img/avatar5.png"}},methods:{trans:function(e){return e in this.$root.localization?this.$root.localization[e]:e},faMigrator:function(e){return k(e)},scrollTo:function(e,t){$("html, body").animate({scrollTop:$(e).offset().top-10},500,t)}}},E=d({props:["langid"],mounted:function(){},computed:{user:function(){return this.$root.user},layout:function(){var e=this;return this.$nextTick((function(){e.$root.runInlineScripts(e.$root.dashboard)})),this.$root.dashboard}},methods:{trans:function(e){return this.$root.trans(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._m(0),e._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:e.user,expression:"user"}],staticClass:"crudadmin-wrapper"},[e.layout?e._e():i("div",{staticClass:"box"},[i("div",{staticClass:"box-body"},[i("div",{staticClass:"box-body-wrapper"},[e.user?i("h2",[e._v(e._s(e.trans("welcome"))+" "+e._s(e.user.username))]):e._e()])])]),e._v(" "),i("div",{domProps:{innerHTML:e._s(e.layout)}})])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"content-header"},[t("ol",{staticClass:"breadcrumb"},[t("li",{staticClass:"active"},[t("a",{staticClass:"active"},[this._v("Dashboard")])])])])}],!1,null,null,null).exports,D=i(1),T=i.n(D),M=d({props:["model","field_name","field_key","field","value","required","disabled","readonly"],computed:{isPassword:function(){return"password"==this.field.type}},methods:{changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled||e.readonly},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("input",{staticClass:"form-control",attrs:{autocomplete:e.isPassword?"new-password":"",type:e.isPassword?"password":"text",name:e.field_key,maxlength:e.field.max,placeholder:e.field.placeholder||e.field_name,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.value},on:{keyup:e.changeValue}}),e._v(" "),i("small",[e._v(e._s(e.field.title))])])}),[],!1,null,null,null).exports,O=d({props:["model","field_name","field_key","field","value","required","disabled","readonly"],computed:{isDecimal:function(){return"decimal"==this.field.type}},methods:{changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled||e.readonly},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("input",{staticClass:"form-control",attrs:{type:"number",name:e.field_key,step:e.isDecimal?"0.01":"",placeholder:e.field.placeholder||e.field_name,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.value},on:{keyup:e.changeValue}}),e._v(" "),i("small",[e._v(e._s(e.field.title))])])}),[],!1,null,null,null).exports,A=d({props:["model","field_name","field_key","field","value","required","disabled","depth_level"],mounted:function(){var e=this;this.bindDatepickers(),eventHub.$on("updateField",this.onUpdateEvent=function(t){t.table==e.model.slug&&t.depth_level==e.depth_level&&t.key==e.$parent.field_key&&e.bindDatepickers()})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent)},computed:{isMultipleDatepicker:function(){return 1==this.field.multiple},getMultiDates:function(){var e=this,t=this.field.value||[];return $.isArray(t)||(t=[]),_.cloneDeep(t).filter((function(t){return t.length==("time"==e.field.type?5:10)}))}},methods:{getInput:function(){return $(this.$refs.input)},bindDatepickers:function(){var e=this;this.getInput().datetimepicker({lang:this.$root.locale,format:this.field.date_format,timepicker:"date"!=this.field.type,datepicker:"time"!=this.field.type,scrollInput:!1,timepickerScrollbar:!1,step:this.field.date_step?parseInt(this.field.date_step):30,scrollMonth:!1,scrollYear:!1,inline:this.isMultipleDatepicker,onGenerate:function(t){e.onGenerate(this,t)},onChangeDateTime:this.onChangeDateTime})},onGenerate:function(e,t){if(this.isMultipleDatepicker){e.addClass("multiple-dates");for(var i=this.getMultiDates,a=0;a<i.length;a++){var n="time"==this.field.type?i[a].split(":"):new Date(i[a]),s="time"==this.field.type?'div[data-hour="'+parseInt(n[0])+'"][data-minute="'+parseInt(n[1])+'"]':'td[data-date="'+n.getDate()+'"][data-month="'+n.getMonth()+'"][data-year="'+n.getFullYear()+'"]';e.find(s).addClass("multiple-selected")}}},onChangeDateTime:function(e){if(e)if(this.isMultipleDatepicker){var t=moment(e).format("time"==this.field.type?"HH:mm":"YYYY-MM-DD"),i=this.getMultiDates,a=i.indexOf(t);a>-1?i.splice(a,1):i.push(t),this.changeValue(null,i)}else{t=moment(e).format(this.$root.fromPHPFormatToMoment(this.field.date_format));this.changeValue(null,t)}},getMultiDateValue:function(e){return"time"==this.field.type&&5==e.length&&":"==e[2]?e:moment(e).format("YYYY-MM-DD")},changeValue:function(e,t){this.$parent.changeValue(e,t)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled,"multiple-date":e.isMultipleDatepicker},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+" "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("input",{ref:"input",staticClass:"form-control",attrs:{type:"text",disabled:e.disabled,name:e.isMultipleDatepicker?"":e.field_key,placeholder:e.field.placeholder||e.field_name},domProps:{value:e.value},on:{keyup:e.changeValue}}),e._v(" "),e.isMultipleDatepicker&&0==e.getMultiDates.length?i("input",{attrs:{type:"hidden",name:e.field_key+"[]",value:""}}):e._e(),e._v(" "),e._l(e.getMultiDates,(function(t){return e.isMultipleDatepicker?i("input",{attrs:{type:"hidden",name:e.field_key+"[]"},domProps:{value:e.getMultiDateValue(t)}}):e._e()})),e._v(" "),i("small",[e._v(e._s(e.field.title))])],2)}),[],!1,null,null,null).exports,I=d({props:["model","field_name","field_key","field","value","required","disabled"],methods:{changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled}},[i("label",{staticClass:"checkbox",attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+" "),e.field.placeholder?i("span",[e._v(e._s(e.field.placeholder))]):e._e(),e._v(" "),i("input",{staticClass:"ios-switch green",attrs:{type:"checkbox",value:"1",disabled:e.disabled,name:e.field_key},domProps:{checked:1==e.value},on:{change:e.changeValue}}),e._v(" "),e._m(0)]),e._v(" "),i("small",[e._v(e._s(e.field.title))])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div")])}],!1,null,null,null).exports,R=d({props:["id","model","field_name","field_key","field","value","required","disabled","readonly","depth_level"],mounted:function(){var e=this;$("#"+this.id).ckEditors();this.isEditor&&CKEDITOR.instances[this.id].on("change",(function(t){e.$parent.changeValue(null,t.editor.getData())})),eventHub.$on("updateField",this.onUpdateEvent=function(t){if(t.table==e.model.slug&&t.depth_level==e.depth_level&&t.key==e.$parent.field_key&&e.isEditor){var i=CKEDITOR.instances[e.id];if(i){var a=e.$parent.getLocalizedValue(e.field.value)||"";i.setData(a),i.on("instanceReady",(function(){e.onReadyInstance&&clearTimeout(e.onReadyInstance),e.onReadyInstance=setTimeout((function(){_.trim(i.getData())!=_.trim(a)&&i.setData(a)}),20)}))}}})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent)},computed:{isText:function(){return["text","longtext"].indexOf(this.field.type)>-1},isEditor:function(){return["editor","longeditor"].indexOf(this.field.type)>-1}},methods:{changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled||e.readonly},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v(" "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("textarea",{class:{"form-control":e.isText,js_editor:e.isEditor},attrs:{rows:"5",id:e.id,disabled:e.disabled,readonly:e.readonly,name:e.field_key,maxlength:e.field.max,placeholder:e.field.placeholder||e.field_name},domProps:{value:e.value},on:{keyup:e.changeValue}}),e._v(" "),i("small",[e._v(e._s(e.field.title))])])}),[],!1,null,null,null).exports,F=d({props:["file","field","model","image"],methods:{isExtension:function(e,t){var i=e.split(".").pop().toLowerCase();return t.indexOf(i)>-1},isImage:function(e){return this.isExtension(e,["jpg","jpeg","png","bmp","gif"])},isPdf:function(e){return this.isExtension(e,["pdf"])},isZip:function(e){return this.isExtension(e,["zip","rar","7zip","gzip","7z"])},isDoc:function(e){return this.isExtension(e,["doc","docx","ppt","pptx","xls","txt"])},isOther:function(e){return!(this.isImage(e)||this.isPdf(e)||this.isZip(e)||this.isDoc(e))}},computed:{downloadPath:function(){return this.$root.requests.download+"?model="+encodeURIComponent(this.model.slug)+"&field="+encodeURIComponent(this.field)+"&file="+encodeURIComponent(this.file)},imagePath:function(){return this.$root.$http.options.root+"/../uploads/cache/"+this.model.slug+"/"+this.field+"/admin-thumbnails/"+this.file},path:function(){return this.$root.$http.options.root+"/../uploads/"+this.model.slug+"/"+this.field+"/"+this.file}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isImage(e.file)&&1!=e.image?i("a",{attrs:{href:e.path,"data-lightbox":"gallery",title:""}},[e._v(e._s(e.trans("show-image")))]):e._e(),e._v(" "),e.isImage(e.file)&&1==e.image?i("a",{attrs:{href:e.path,"data-lightbox":"gallery",title:""}},[i("img",{attrs:{src:e.imagePath,alt:""}})]):e._e(),e._v(" "),e.isPdf(e.file)?i("a",{attrs:{href:e.path,target:"_blank",title:""}},[e._v(e._s(e.trans("show"))+" PDF")]):e._e(),e._v(" "),e.isZip(e.file)?i("a",{attrs:{href:e.downloadPath,target:"_blank",title:""}},[e._v(e._s(e.trans("download"))+" ZIP")]):e._e(),e._v(" "),e.isDoc(e.file)?i("a",{attrs:{href:e.downloadPath,target:"_blank",title:""}},[e._v(e._s(e.trans("download-document")))]):e._e(),e._v(" "),e.isOther(e.file)?i("a",{attrs:{href:e.downloadPath,target:"_blank",title:""}},[e._v(e._s(e.trans("download-file")))]):e._e()])}),[],!1,null,null,null).exports,j=d({props:["id","row","model","field_name","field_key","field_key_original","field","value","required","disabled","depth_level"],components:{File:F},data:function(){return{file_will_remove:!1,file_from_server:!0}},mounted:function(){var e=this;this.addMultipleFilesSupport(!0),eventHub.$on("updateField",this.onUpdateEvent=function(t){t.table==e.model.slug&&t.depth_level==e.depth_level&&t.key==e.$parent.field_key&&(e.file_from_server=!0,e.addMultipleFilesSupport())}),eventHub.$on("onSubmit",this.onSubmitEvent=function(t){var i=t.row;t.table==e.model.slug&&t.depth_level==e.depth_level&&(1==e.file_from_server&&null!=i||(e.file_from_server=!!i,e.field.value=i?i[e.field_key]:"",$(e.$refs.fileInput).val("")))})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent),eventHub.$off("onSubmit",this.onSubmitEvent)},computed:{canFileBeDeleted:function(){return(this.value&&!this.isMultipleUpload||!this.file_from_server)&&this.model.getSettings("fields."+this.field_key+".canDelete",!0)},canFileBeDownloaded:function(){return this.value&&!this.hasMultipleFilesValue&&this.file_from_server&&!this.isMultiple&&this.model.getSettings("fields."+this.field_key+".canDownload",!0)},isOpenedRow:function(){return this.row&&"id"in this.row},isMultiple:function(){return!0===this.field.multiple},isMultirows:function(){return this.field.multirows&&!0===this.field.multirows},isMultipleUpload:function(){return this.isMultirows&&!this.isOpenedRow||this.isMultiple},hasMultipleFilesValue:function(){return $.isArray(this.field.value)},hasLocale:function(){return"locale"in this.field},getFiles:function(){var e=this.value;return e?$.isArray(e)?e:[e]:[]}},methods:{changeValue:function(e){this.$parent.changeValue(e)},addMultipleFilesSupport:function(e){var t=this;"file"==this.field.type&&this.isMultiple&&!this.isMultirows&&$(this.$refs.multipleFiles).chosen({disable_search_threshold:10,search_contains:!0}).trigger("chosen:updated"),1==e&&this.$watch("field.value",(function(){t.$nextTick((function(){$(t.$refs.multipleFiles).trigger("chosen:updated")}))}))},removeFile:function(){this.isMultiple||(this.hasLocale?this.field.value[this.langslug]=null:this.field.value=null),this.file_will_remove=!0,this.file_from_server=!0,$("#"+this.getId).val("")},addFile:function(e){this.file_will_remove=!1,this.file_from_server=!1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("div",{staticClass:"file-group"},[i("div",{staticClass:"upload-file-wrapper"},[i("input",{ref:"fileInput",staticClass:"form-control",attrs:{disabled:e.disabled,type:"file",multiple:e.isMultipleUpload,name:e.isMultipleUpload?e.field_key+"[]":e.field_key,placeholder:e.field.placeholder||e.field_name},on:{change:e.addFile}}),e._v(" "),e.value||1!=e.file_will_remove?e._e():i("input",{attrs:{type:"hidden",name:"$remove_"+e.field_key},domProps:{value:1}}),e._v(" "),e.canFileBeDeleted?i("button",{staticClass:"btn btn-danger remove-file",attrs:{type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("delete-file")},on:{click:function(t){return t.preventDefault(),e.removeFile(t)}}},[i("i",{staticClass:"far fa-trash-alt"})]):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isMultiple&&!e.isMultirows&&e.getFiles.length>0,expression:"(isMultiple && !isMultirows) && getFiles.length > 0"}]},[i("select",{ref:"multipleFiles",attrs:{name:e.hasLocale||e.isMultiple&&!e.isMultirows&&e.getFiles.length>0?"$uploaded_"+e.field_key+"[]":"","data-placeholder":" ",multiple:""}},e._l(e.getFiles,(function(t){return i("option",{key:t,attrs:{selected:""}},[e._v(e._s(t))])})),0)]),e._v(" "),i("small",[e._v(e._s(e.field.title))]),e._v(" "),e.canFileBeDownloaded?i("span",[i("file",{attrs:{file:e.value,field:e.field_key_original,model:e.model}})],1):e._e()])])}),[],!1,null,null,null).exports;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=d({props:["id","row","model","field_name","field_key","field","value","required","disabled","readonly","inputlang","langid","depth_level"],data:function(){return{filterBy:null,allowRelation:!1}},watch:{value:function(e){this.$nextTick(this.reloadSelectWithMultipleOrders)},disabled:function(){this.$nextTick(this.reloadSelectWithMultipleOrders)},readonly:function(){this.$nextTick(this.reloadSelectWithMultipleOrders)}},mounted:function(){var e=this;this.$options.components["model-builder"]=Vue.extend(oe),this.onChangeSelect(),this.bindFilters(),eventHub.$on("updateField",this.onUpdateEvent=function(t){t.table==e.model.slug&&t.depth_level==e.depth_level&&t.key==e.$parent.field_key&&e.$nextTick(e.reloadSelectWithMultipleOrders)})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent)},computed:{getModalId:function(){return"form-relation-modal-"+this.id},getRelationModel:function(){if(this.canAddRow){var e=(this.field.belongsTo||this.field.belongsToMany).split(",")[0];return _.cloneDeep(this.$root.models[e])}},getRelationRow:function(){var e=this.getFilterBy;return e&&this.row[e[0]]?{id:this.row[e[0]]}:{}},getRelationModelParent:function(){var e=this.getFilterBy;if(!e||!this.row[e[0]])return!1;var t=this.model.fields[e[0]],i=(t.belongsTo||t.belongsToMany).split(",")[0];return _.cloneDeep(this.$root.models[i])},canAddRow:function(){return!0===this.field.canAdd&&!1!==this.$parent.hasparentmodel&&(!this.getFilterBy||this.filterBy)},getFilterBy:function(){if(!("filterBy"in this.field))return null;var e,t=this.field.filterBy.split(",");return this.model.fields[e=t[0]+"_id"]||this.model.fields[e=t[0]],t[0]=e,t},isMultiple:function(){return this.field.multiple&&!0===this.field.multiple||"belongsToMany"in this.field},fieldOptions:function(){return"object"!=P(this.field.options)?[]:(this.$nextTick(this.reloadSelectWithMultipleOrders),this.$root.languageOptions(this.field.options,this.field,this.getFilter(this.field.options)))},missingValueInSelectOptions:function(){if(!this.row)return[];var e=this.fieldOptions,t=[],i=this.$parent.getLocalizedValue(this.field.$original_value);if(!this.isMultiple){for(a=0;a<e.length;a++)if(e[a][0]==i)return[];return this.filterBy||[null,void 0].indexOf(i)>-1?[]:[i]}if(i)for(var a=0;a<i.length;a++){0!=e.filter(function(e){return e[0]==i[a]}.bind(this)).length||this.filterBy||t.push(i[a])}return t},isRequiredIfHasValues:function(){return"required_with_values"in this.field&&1==this.field.required_with_values&&this.fieldOptions.length>0},hasNoFilterValues:function(){return!this.isStaticFilterColumn&&(this.getFilterBy&&(!this.filterBy||0==this.fieldOptions.length))},isStaticFilterColumn:function(){return this.getFilterBy&&!(this.getFilterBy[0]in this.model.fields)},isParentFilterColumn:function(){return this.getFilterBy&&this.getFilterBy[0].split(".").length>1},getStaticFilterBy:function(){var e=this.getFilterBy[0].split(".");return(2==e.length?this.$parent.getModelBuilder(e[0]):this).row[e[e.length-1]]}},methods:{bindFilters:function(){this.getFilterBy&&!this.isParentFilterColumn&&(this.$watch("model.fields."+this.getFilterBy[0]+".value",(function(e){this.filterBy=null===e?this.$parent.defaultFieldValue(this.model.fields[this.getFilterBy[0]]):e})),this.filterBy=this.$parent.defaultFieldValue(this.model.fields[this.getFilterBy[0]]))},changeValue:function(e,t,i){this.$parent.changeValue(e,t,i)},onChangeSelect:function(){var e=this,t=$(this.$refs.select),i=!1,a=this;t.change((function(e){var t=this;if(i=!0,a.isMultiple)setTimeout((function(){a.changeValue(null,$(t).getSelectionOrder()),a.rebuildSelect()}),50);else{var n=$(this).val();a.changeValue(null,n),a.reloadSetters(n)}})),this.$watch("field.value",(function(t,a){!0!==i&&t&&t!==a&&!_.isEqual(t,a)?e.$nextTick(e.reloadSelectWithMultipleOrders):i=!1}))},hasValue:function(e,t,i){if(1==i&&$.isArray(t)){if(t.indexOf($.isNumeric(e)?parseInt(e):e)>-1)return!0}else if((e||0==e)&&(t||0==t)&&e==t)return!0;return!1},rebuildSelect:function(){if(this.isMultiple){var e=$(this.$refs.select),t=e.prev(),i=e.getSelectionOrder();t.is("select")||(t=e.before('<select name="'+this.field_key+'[]" multiple="multiple" style="display: none"></select>').prev()),t.find("option").remove();for(var a=0;a<i.length;a++)t.append($("<option></option>").attr("selected",!0).attr("value",i[a]).text(i[a]))}},reloadSelectWithMultipleOrders:function(){var e=$(this.$refs.select).chosen({disable_search_threshold:10,search_contains:!0}).trigger("chosen:updated");if(this.isMultiple){if(this.field.value)try{e.setSelectionOrder(this.field.value)}catch(e){}this.rebuildSelect()}},getFilter:function(e){var t={};return e&&e[0]&&"object"==P(e[0][1])&&null!==e[0][1]&&"language_id"in e[0][1]==1&&(t.language_id=this.row.language_id||(this.inputlang?this.inputlang.id:null)||this.langid),this.getFilterBy&&(t[this.getFilterBy[1]]=this.isStaticFilterColumn?this.getStaticFilterBy:this.filterBy),t},pushOption:function(e,t){if("store"==t){var i=this.getFilterBy;i&&this.row[i[0]]&&(e[i[1]]=this.row[i[0]]),this.field.options.unshift([e.id,e]),this.isMultiple?(this.field.value?this.field.value.push(e.id):this.field.value=[e.id],this.changeValue(null,this.field.value,!1)):this.changeValue(null,e.id)}else if("update"==t){for(var a=0;a<this.field.options.length;a++)if(this.field.options[a][0]==e.id)for(var n in e)this.field.options[a][1][n]=e[n]}else if("delete"==t)for(var n in this.isMultiple?$.isArray(this.field.value)&&(this.field.value.splice(this.field.value.indexOf(e),1),this.changeValue(null,this.field.value,!1)):this.field.value==e&&this.changeValue(null,null),this.field.options)if(this.field.options[n][0]==e){this.field.options.splice(n,1);break}},reloadSetters:function(e){for(var t in this.model.fields){var i=this.model.fields[t],a=this.getFillBy(i);if(a&&a[0]&&(a[0]==this.field_key||a[0]+"_id"==this.field_key)){var n=this.field.options||[];for(var s in n)if(n[s][0]==e){this.$set(this.row,t,n[s][1][a[1]||t]);break}}}},getFillBy:function(e){if(!("fillBy"in e))return null;var t,i=e.fillBy.replace(",",".").split(".");return this.model.fields[t=i[0]+"_id"]||this.model.fields[t=i[0]],i[0]=t,i}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.required||!e.hasNoFilterValues,expression:"required || !hasNoFilterValues"}],staticClass:"form-group",class:{disabled:e.disabled||e.readonly||e.hasNoFilterValues},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field.name)+"\n        "),e.required||e.isRequiredIfHasValues?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("div",{class:{"can-add-select":e.canAddRow}},[e.readonly?i("select",{staticClass:"d-none",attrs:{name:e.isMultiple?"":e.field_key}},[e.isMultiple?e._e():i("option",{attrs:{value:""}}),e._v(" "),e._l(e.missingValueInSelectOptions,(function(t){return i("option",{domProps:{value:t,selected:e.hasValue(t,e.value,e.isMultiple)}})})),e._v(" "),e._l(e.fieldOptions,(function(t){return i("option",{domProps:{selected:e.hasValue(t[0],e.value,e.isMultiple),value:t[0]}},[e._v(e._s(t[0]))])}))],2):e._e(),e._v(" "),i("select",{ref:"select",staticClass:"form-control",attrs:{disabled:e.disabled||e.readonly,name:e.isMultiple?"":e.field_key,"data-placeholder":e.field.placeholder?e.field.placeholder:e.trans("select-option-multi"),multiple:e.isMultiple}},[e.isMultiple?e._e():i("option",{attrs:{value:""}},[e._v(e._s(e.trans("select-option")))]),e._v(" "),e._l(e.missingValueInSelectOptions,(function(t){return i("option",{domProps:{value:t,selected:e.hasValue(t,e.value,e.isMultiple)}},[e._v(e._s(t))])})),e._v(" "),e._l(e.fieldOptions,(function(t){return i("option",{domProps:{selected:e.hasValue(t[0],e.value,e.isMultiple),value:t[0]}},[e._v(e._s(null==t[1]?e.trans("number")+" "+t[0]:t[1]))])}))],2),e._v(" "),e.canAddRow?i("button",{staticClass:"btn-success",attrs:{"data-add-relation-row":"",type:"button","data-target":"#"+e.getModalId,"data-toggle":"modal"},on:{click:function(t){e.allowRelation=!0}}},[i("i",{staticClass:"fa fa-plus"})]):e._e()]),e._v(" "),i("small",[e._v(e._s(e.field.title))]),e._v(" "),e.isRequiredIfHasValues?i("input",{attrs:{type:"hidden",name:"$required_"+e.field_key,value:"1"}}):e._e(),e._v(" "),e.canAddRow&&e.allowRelation?i("div",{staticClass:"modal fade",attrs:{id:e.getModalId,tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[e._m(0),e._v(" "),i("div",{staticClass:"modal-body"},[i("model-builder",{attrs:{langid:e.langid,hasparentmodel:e.getRelationModelParent,parentrow:e.getRelationRow,model_builder:e.getRelationModel}})],1)])])]):e._e()])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),t("h4",{staticClass:"modal-title"},[this._v(" ")])])}],!1,null,null,null).exports,L=d({props:["model","field_name","field_key","field","value","required","disabled"],computed:{isPassword:function(){return"password"==this.field.type}},methods:{hasValue:function(e,t,i){return(e||0==e)&&t&&e==t},changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group radio-group",attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),e.required?e._e():i("div",{staticClass:"radio"},[i("label",[i("input",{attrs:{type:"radio",name:e.field_key,value:""}}),e._v("\n            "+e._s(e.trans("no-option"))+"\n        ")])]),e._v(" "),e._l(e.field.options,(function(t){return i("div",{staticClass:"radio"},[i("label",[i("input",{attrs:{type:"radio",name:e.field_key},domProps:{checked:e.hasValue(t[0],e.value),value:t[0]},on:{change:e.changeValue}}),e._v("\n\n            "+e._s(t[1])+"\n        ")])])})),e._v(" "),i("small",[e._v(e._s(e.field.title))])],2)}),[],!1,null,null,null);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var z=d({name:"form-input-builder",props:["model","field","field_key","index","row","confirmation","history","langid","inputlang","hasparentmodel","langslug","depth_level"],components:{StringField:M,NumberField:O,DateTimeField:A,CheckboxField:I,TextField:R,FileField:j,SelectField:N,RadioField:L.exports},created:function(){this.registerComponents()},mounted:function(){this.syncFieldsValueWithRow()},methods:{parseArrayValue:function(e){if($.isArray(e))for(var t in e)$.isNumeric(e[t])&&(e[t]=parseInt(e[t]));return e},getLocalizedValue:function(e,t){return this.hasLocale?e&&this.langslug in e?e[this.langslug]:t||null:e||null},resetEmptyValue:function(e){return void 0===e||_.isNaN(e)?null:e},syncFieldsValueWithRow:function(){var e=this;this.$watch("row."+this.field_key,(function(t){e.field.value=e.resetEmptyValue(t)})),this.$watch("field.value",(function(t){e.row[e.field_key]=e.resetEmptyValue(t)}))},registerComponents:function(){if("component"in this.field){for(var e=this.field.component.split(","),t=null,i=0;i<e.length;i++){var a,n=e[i].toLowerCase(),s=this.model.components[n];try{a=this.$root.getComponentObject(s)}catch(e){console.error("Syntax error in component "+t[i]+".Vue\n",e);continue}t?("components"in t||(t.components={}),t.components[e[i]]=a):t=a}t&&Vue.component(this.componentName,t)}},isEmptyValue:function(e){return _.isNil(e)||""===e},defaultFieldValue:function(e){var t=e?this.isEmptyValue(e.value)?e.defaultByOption||e.default:e.value:null;if(this.isEmptyValue(t)||-1===["number","string","boolean"].indexOf(q(t))&&!this.isMultipleField(e))return"";if(e.default&&this.isDatepickerField(e)&&"CURRENT_TIMESTAMP"==e.default.toUpperCase()&&(t=moment().format(this.$root.fromPHPFormatToMoment(e.date_format))),e.default&&this.isEmptyValue(e.value)){var i=e.default.split(".");if(2==i.length){var a=this.getModelBuilder(i[0]);a&&i[1]in a.row&&(t=a.row[i[1]])}}if(e.defaultByOption&&this.isSelect&&this.isEmptyValue(e.value)){var n,s=e.defaultByOption.split(",");1==s.length?n=_.find(e.options,{1:optionValue[0]}):s.length>1&&(n=e.options.filter((function(e){return e[1][s[0]]==s[1]}))[0]),t=n?n[0]:""}return this.isCheckbox&&(t=1==t),this.isEmptyValue(t)?"":(_.isNil(this.field.value)&&this.changeValue(null,t),t)},changeValue:function(e,t,i){if(!this.isConfirmation){t=e?e.target.value:t;if("checkbox"==this.field.type&&(t=e?e.target.checked:t),this.hasLocale){var a="object"===q(this.field.value)&&this.field.value||{};a[this.langslug]=t,t=a}1!=i&&(this.field.value=t);({})[this.field_key]=t,this.$set(this.row,this.field_key,t)}},getModelBuilder:function(e,t){var i=this.$parent;for(t="$parent"===e?this.model.slug:null,e="$parent"===e?null:e;i&&("model-builder"!=i.$options.name||e&&i.model.slug!=e||t&&i.model.slug===t);)i=i.$parent;return!e||i&&i.model.slug==e?i:(console.error('Model with table name "'+e+'" does not exists in parents tree of models'),null)},isMultipleField:function(e){return e.multiple&&!0===e.multiple||"belongsToMany"in e},isDatepickerField:function(e){return["date","datetime","time"].indexOf(e.type)>-1},fixBoolValue:function(e){return!0===e?"1":!1===e?"0":e}},computed:{isOpenedRow:function(){return this.row&&"id"in this.row},getId:function(){var e=this.getModelBuilder();return parent=e.getParentTableName(1==this.model.withoutParent),"id-"+this.model.slug+this.field_key+"-"+this.depth_level+"-"+parent+"-"+this.index+"-"+this.langslug},getFieldKey:function(){return this.model.slug+"-"+this.field_key},getFieldName:function(){var e=this.field_key;return this.hasLocale&&(e=this.field_key+"["+this.langslug+"]"),this.model.formPrefix()+e},getName:function(){return this.isConfirmation?this.field.name+" ("+this.trans("confirmation")+")":this.field.name},isString:function(){return"string"==this.field.type},isNumber:function(){return["integer","decimal"].indexOf(this.field.type)>-1},isText:function(){return"text"==this.field.type||"longtext"==this.field.type},isEditor:function(){return"editor"==this.field.type||"longeditor"==this.field.type},isFile:function(){return"file"==this.field.type},isPassword:function(){return"password"==this.field.type},isSelect:function(){return this&&"select"==this.field.type},isRadio:function(){return"radio"==this.field.type},isConfirmation:function(){return 1==this.confirmation},isDatepicker:function(){return this.isDatepickerField(this.field)},isCheckbox:function(){return"checkbox"==this.field.type},isDisabled:function(){return this.model.tryAttribute(this.field,"disabled")},isReadonly:function(){return this.model.tryAttribute(this.field,"readonly")},isMultiple:function(){return this.isMultipleField(this.field)},hasComponent:function(){return"component"in this.field&&this.field.component},componentName:function(){if(this.hasComponent)return this.field.component.split(",")[0].toLowerCase()},getValueOrDefault:function(){if(this.isConfirmation)return"";var e=this.parseArrayValue(this.field.value);return this.isMultipleDatepicker?JSON.stringify(e||[]):this.hasLocale?this.getLocalizedValue(e,this.defaultFieldValue(this.field)):this.isOpenedRow?e:this.defaultFieldValue(this.field)},isRequired:function(){if(this.isOpenedRow&&"password"==this.field.type)return!1;if("required"in this.field&&1==this.field.required)return!0;if(this.field.required_if){var e=this.field.required_if.split(",");if((t=this.fixBoolValue(this.row[e[0]]))&&e.slice(1).indexOf(t)>-1)return!0}if(this.field.required_unless){var t;e=this.field.required_unless.split(",");if((t=this.fixBoolValue(this.row[e[0]]))&&-1==e.slice(1).indexOf(t))return!0}if(this.field.required_without){e=this.field.required_without.split(",");for(var i=0;i<e.length;i++)if(!this.row[e[i]])return!0}if(this.field.required_with)for(e=this.field.required_with.split(","),i=0;i<e.length;i++)if(this.row[e[i]])return!0;return!1},hasLocale:function(){return"locale"in this.field},isChangedFromHistory:function(){return!!this.history&&this.history.fields.indexOf(this.field_key)>-1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field-wrapper",class:{"is-changed-from-history":e.isChangedFromHistory},attrs:{"data-field":e.field_key,"data-model":e.model.slug,"data-lang":e.langslug,"data-history-changed":e.isChangedFromHistory}},[e.hasComponent||!e.isString&&!e.isPassword?e._e():i("string-field",{attrs:{model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}),e._v(" "),!e.hasComponent&&e.isNumber?i("number-field",{attrs:{model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),!e.hasComponent&&e.isDatepicker?i("date-time-field",{attrs:{model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),!e.hasComponent&&e.isCheckbox?i("checkbox-field",{attrs:{model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),e.hasComponent||!e.isText&&!e.isEditor?e._e():i("text-field",{attrs:{id:e.getId,model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}),e._v(" "),!e.hasComponent&&e.isFile?i("file-field",{attrs:{id:e.getId,row:e.row,model:e.model,field_name:e.getName,field_key:e.getFieldName,field_key_original:e.field_key,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),!e.hasComponent&&e.isSelect?i("select-field",{attrs:{id:e.getId,row:e.row,model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,inputlang:e.inputlang,langid:e.langid,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),!e.hasComponent&&e.isRadio?i("radio-field",{attrs:{id:e.getId,model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,inputlang:e.inputlang,langid:e.langid,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),1!=e.field.confirmed||e.isConfirmation?e._e():i("form-input-builder",{attrs:{model:e.model,history:e.history,field:e.field,index:e.index,field_key:e.field_key+"_confirmation",row:e.row,depth_level:e.depth_level,confirmation:!0}}),e._v(" "),e.hasComponent?i(e.componentName,{tag:"component",attrs:{model:e.model,field:e.field,history_changed:e.isChangedFromHistory,row:e.row,field_key:e.getFieldName,field_key_original:e.field_key,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly}}):e._e()],1)}),[],!1,null,null,null),B=d({name:"form-group",props:["model","row","history","group","langid","inputlang","hasparentmodel","depth_level"],components:{FormInputBuilder:z.exports,FormTabsBuilder:V},created:function(){this.$options.components["form-tabs-builder"]=Vue.extend(V)},computed:{tabsFields:function(){var e=this;return this.group.fields.filter((function(t){return e.isTab(t)}))},visibleFields:function(){var e=this;return this.group.fields.filter((function(t){var i=e.model.fields[t];return"string"!=typeof t||!(i.invisible&&1==i.invisible||e.canRemoveAttribute(i)||!e.canShowField(i))}))},isOpenedRow:function(){return this.row&&"id"in this.row}},methods:{canRemoveAttribute:function(e){return this.model.tryAttribute(e,"removeField")||this.model.tryAttribute(e,"removeFromForm")},canHideAttribute:function(e){return this.model.tryAttribute(e,"hideField")||this.model.tryAttribute(e,"hideFromForm")},canRenderField:function(e){return!("invisible"in e&&1==e.invisible||this.canRemoveAttribute(e))},canShowField:function(e){return!this.canHideAttribute(e)&&(!!(!0!==e.ifExists&&!0!==e.hideOnCreate||this.isOpenedRow)&&(!0!==e.ifDoesntExists&&!0!==e.hideOnUpdate||!this.isOpenedRow))},getGroupClass:function(e){var t=(e.width+"").split("-");return"half"==t[0]?t[0]=6:"full"==t[0]?t[0]=12:"third"==t[0]&&(t[0]=4),2==t.length&&"inline"==t[1]?"col-"+t[0]+" fields-group--inline":$.isNumeric(t[0])?"col-"+t[0]:"col-12"},canShowGroupName:function(e){return e.name},isField:function(e){return this.$parent.isField(e)},isGroup:function(e){return this.$parent.isGroup(e)},isTab:function(e){return this.$parent.isTab(e)},hasTabs:function(e){return this.$parent.hasTabs(e)},getFieldLangs:function(e){return e&&"locale"in e?_.map(this.$root.languages,"slug"):1},canShowLanguageField:function(e,t,i){return!("locale"in e)||i.slug==t}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fields-group",class:e.getGroupClass(e.group),attrs:{"group-id":e.group.id,"data-fields":e.visibleFields.length}},[i("div",{class:{card:e.canShowGroupName(e.group),"fields-group__wrapper":e.canShowGroupName(e.group)||1}},[e.canShowGroupName(e.group)?i("h4",{staticClass:"card-header"},[e.group.icon?i("i",{staticClass:"card-header--icon-left",class:["fa",e.faMigrator(e.group.icon)]}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.group.name)}})]):e._e(),e._v(" "),i("div",{class:{"card-body":e.canShowGroupName(e.group)}},[i("div",{staticClass:"row"},[e.hasTabs(e.group.fields)?i("div",{staticClass:"col-lg-12"},[i("form-tabs-builder",{attrs:{tabs:e.tabsFields,model:e.model,row:e.row,hasparentmodel:e.hasparentmodel,history:e.history,depth_level:e.depth_level}})],1):e.canShowGroupName(e.group)&&0==e.visibleFields.length?i("div",[e._m(0)]):e._e(),e._v(" "),e._l(e.group.fields,(function(t,a){return i("fragment",{key:a},[e._l(e.getFieldLangs(e.model.fields[t]),(function(n){return e.isField(t)&&e.canRenderField(e.model.fields[t])?i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowField(e.model.fields[t])&&e.canShowLanguageField(e.model.fields[t],n,e.inputlang),expression:"canShowField(model.fields[item]) && canShowLanguageField(model.fields[item], langslug, inputlang)"}],staticClass:"fields-group__item col-12"},[i("form-input-builder",{key:t,attrs:{history:e.history,model:e.model,langid:e.langid,inputlang:e.inputlang,langslug:n,row:e.row,index:a,hasparentmodel:e.hasparentmodel,field_key:t,field:e.model.fields[t],depth_level:e.depth_level}})],1):e._e()})),e._v(" "),e.isGroup(t)&&!e.isTab(t)?i("form-group",{attrs:{group:t,model:e.model,row:e.row,hasparentmodel:e.hasparentmodel,history:e.history,depth_level:e.depth_level}}):e._e()],2)}))],2)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-12"},[t("p",{staticClass:"empty-group-separator"},[this._v("...")])])}],!1,null,null,null);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var V=d({name:"form-tabs-builder",props:["model","row","history","group","tabs","childs","langid","inputlang","cansave","hasparentmodel","depth_level","parentActiveGridSize"],components:{FormGroup:B.exports},data:function(){return{models_loaded:[],models_data:{},activetab:0}},created:function(){var e=this;this.$options.components["model-builder"]=Vue.extend(oe),this.$watch("row.id",(function(){!1!==this.$root.getModelProperty(this.model,"settings.autoreset")&&(this.activetab=0),this.models_loaded=[]})),eventHub.$on("rowsChanged",this.rowsChangedEvent=function(t){e.depth_level+1==t.depth_level&&e.$set(e.models_data,t.table,t)}),eventHub.$on("changeActiveTab",this.changeActiveTab=function(t){e.depth_level==t.depth_level&&(e.activetab=t.activetab)})},destroyed:function(){eventHub.$off("rowsChanged",this.rowsChangedEvent),eventHub.$off("changeActiveTab",this.rowsChangedEvent)},watch:{activetab:function(e){void 0!==this.cansave&&eventHub.$emit("changeFormSaveState",{model:this.model.slug,state:!(this.isModel(this.getTabs[e])&&!0!==this.getModel(this.getTabs[e].model).inParent)})}},computed:{getModelFields:function(){return 1==this.model.fields_groups.length&&"default"==this.model.fields_groups[0].type?this.model.fields_groups[0].fields:this.model.fields_groups},getTabs:function(){var e=this.getModelFields,t=this.tabs||(this.group?this.group.fields:e),i=t.filter(function(e){return this.isTab(e)}.bind(this));if((0==i.length||i.length>0&&i.length!=t.length)&&(t=t.filter(function(e){return!this.isTab(e)}.bind(this)),i=[{name:this.group?this.group.name:this.$root.getModelProperty(this.model,"settings.title.tab",this.trans("general-tab")),icon:this.group?this.group.icon:this.model.icon,fields:t,type:"tab",default:!0}].concat(i)),1==this.childs)for(var a in this.model.childs){var n="string"==typeof this.model.childs[a]?this.model:this.model.childs[a];1==n.in_tab&&(this.isModelInFields(e,this.model.childs[a].slug)||i.push({fields:[],type:"tab",model:n.slug}))}return i},hasTabsAvailable:function(){return!(1==this.getTabs.filter(function(e){return!!this.isTab(e)&&!(e.model&&!this.isModel(e))}.bind(this)).length&&!0===this.getTabs[0].default)},isOpenedRow:function(){return this.row&&"id"in this.row}},methods:{canRenderTab:function(e,t){return!(!this.hasTabs(e.fields)&&!this.isModel(e))||this.chunkGroups(e.fields).length>0},tabsFields:function(e){var t=this;return e.filter((function(e){return t.isTab(e)}))},getModel:function(e){return"string"==typeof this.model.childs[e]?_.cloneDeep(this.$root.models[this.model.slug]):y(this.model.childs[e]||this.$root.models[e])},getTabName:function(e){if(this.isModel(e)){var t=this.getModel(e.model),i=e.name||t.name,a=this.models_data[t.slug];return t.isSingle()&&t.isInParent()||(i+=" ("+(a?parseInt(a.count||0):"0")+")"),i}return e.name},getTabIcon:function(e){return this.isModel(e)?e.icon||this.getModel(e.model).icon:e.icon},isModelInFields:function(e,t){for(var i=0;i<e.length;i++)if(this.isGroup(e[i])){if(e[i].model===t)return!0;if(e[i].fields.length>0&&this.isModelInFields(e[i].fields,t))return!0}return!1},isModel:function(e){return!("tab"!=e.type||!e.model||1!=this.getModel(e.model).active)&&(this.isOpenedRow||1==this.getModel(e.model).without_parent)},isField:function(e){return"string"==typeof e&&e in this.model.fields},isGroup:function(e){return"object"==H(e)&&"type"in e},isTab:function(e){return this.isGroup(e)&&"tab"==e.type},hasTabs:function(e){return e.filter(function(e){return this.isTab(e)}.bind(this)).length>0},getGroupClass:function(e){return this.$parent.getGroupClass(e)},canShowGroupName:function(e){return e.name},chunkGroups:function(e){for(var t=[],i=0;i<e.length;i++)(i>0&&this.isGroup(t[t.length-1])&&this.isField(e[i])||0==i&&this.isField(e[i]))&&t.push([]),this.isField(e[i])?t[t.length-1].push(e[i]):t.push(e[i]);return t.map(function(e){return this.isGroup(e)?e:{type:"default",fields:e,name:this.group?this.group.name:null}}.bind(this))},isLoadedModel:function(e,t){return t!==this.activetab&&!e.isInParent()||-1!==this.models_loaded.indexOf(e.slug)||this.models_loaded.push(e.slug),this.models_loaded.indexOf(e.slug)>-1},isTabVisible:function(e){return!!this.isTab(e)&&-1===(this.model.hidden_tabs||[]).indexOf(e.model||e.id)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"nav-tabs-custom":e.hasTabsAvailable}},[e.hasTabsAvailable?i("ul",{staticClass:"nav nav-tabs"},e._l(e.getTabs,(function(t,a){return e.isTab(t)&&!t.model||e.isModel(t)?i("li",{directives:[{name:"show",rawName:"v-show",value:e.isTabVisible(t),expression:"isTabVisible(tab)"}],staticClass:"nav-item",class:{"model-tab":e.isModel(t)},attrs:{"data-tabs":"","data-depth":e.depth_level,"default-tab":(!e.isModel(t)||!e.getModel(t.model))&&"","data-model":e.isModel(t)&&e.getModel(t.model)?e.getModel(t.model).slug:e.model.table},on:{click:function(t){e.activetab=a}}},[i("a",{staticClass:"nav-link",class:{active:e.activetab==a},attrs:{"data-toggle":"tab","aria-expanded":"true"}},[e.getTabIcon(t)?i("i",{staticClass:"fa nav-link--icon-left",class:[e.faMigrator(e.getTabIcon(t))]}):e._e(),e._v("\n                "+e._s(e.getTabName(t)||e.trans("general-tab"))+"\n            ")])]):e._e()})),0):e._e(),e._v(" "),i("div",{staticClass:"tab-content tab-content--form"},e._l(e.getTabs,(function(t,a){return e.canRenderTab(t)?i("div",{staticClass:"tab-pane",class:{active:e.activetab==a},attrs:{"data-tab-model":e.isModel(t)?e.getModel(t.model).slug:"","data-tab-id":t.id}},[i("div",{staticClass:"row"},[e.hasTabs(t.fields)||e.isModel(t)?i("div",{staticClass:"col-lg-12",class:{model:e.isModel(t)}},[e.hasTabs(t.fields)?i("form-tabs-builder",{attrs:{tabs:e.tabsFields(t.fields),model:e.model,row:e.row,langid:e.langid,inputlang:e.inputlang,hasparentmodel:e.hasparentmodel,history:e.history,depth_level:e.depth_level}}):e._e(),e._v(" "),e.isModel(t)?i("model-builder",{attrs:{dusk:"model-builder","data-model":e.getModel(t.model).table,langid:e.langid,ischild:!0,model_builder:e.getModel(t.model),activetab:e.isLoadedModel(e.getModel(t.model),a),parentActiveGridSize:e.parentActiveGridSize,parentrow:e.row}}):e._e()],1):e._e(),e._v(" "),e._l(e.chunkGroups(t.fields),(function(t,a){return e.isGroup(t)&&!e.isTab(t)?i("form-group",{key:a,attrs:{group:t,model:e.model,hasparentmodel:e.hasparentmodel,langid:e.langid,inputlang:e.inputlang,row:e.row,history:e.history,depth_level:e.depth_level}}):e._e()}))],2)]):e._e()})),0)])}),[],!1,null,null,null).exports;function G(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function Y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var W=d({name:"form-builder",props:["formID","model","row","rows","langid","canaddrow","progress","history","hasparentmodel","selectedlangid","gettext_editor","depth_level","parentActiveGridSize"],components:{FormTabsBuilder:V},data:function(){return{submit:!1,isActive:!0,cansave:!0,form:null}},mounted:function(){var e=this;this.form=$("#"+this.formID),eventHub.$on("changeFormSaveState",this.changeFormSaveStateEvent=function(t){t.model==e.model.slug&&(e.cansave=t.state)}),eventHub.$on("onUpdate",this.onUpdateEvent=function(t){if(t.table==e.model.slug&&t.depth_level==e.depth_level)for(var i in t.row)e.row[i]=t.row[i],i in e.model.fields&&(e.model.fields[i].value=t.row[i])}),this.initForm(this.row)},destroyed:function(){eventHub.$off("changeFormSaveState",this.changeFormSaveStateEvent),eventHub.$off("onUpdate",this.onUpdateEvent)},watch:{row:{handler:function(e,t){var i=!this.isOpenedRow||!t||e.id!=t.id;e&&t&&e.id==t.id&&!this.history.history_id||(this.initForm(e,i),this.$parent.sendRowData())},deep:!0}},computed:{formType:function(){return this.model.isInParent()?"div":"form"},isOpenedRow:function(){return this.row&&"id"in this.row},title:function(){var e;if(this.isOpenedRow){if(!(e=this.$root.getModelProperty(this.model,"settings.title.update")))return this.trans("edit-row-n")+" "+this.row.id;for(var t in this.row){var i=this.row[t];if(this.isFieldSelect(t))for(var a=this.$root.languageOptions(this.model.fields[t].options,t),n=0;n<a.length;n++)if(a[n][0]==i){i=a[n][1];break}e=e.replace(":"+t,i)}return e}return(e=this.$root.getModelProperty(this.model,"settings.title.insert"))||(e=this.$root.getModelProperty(this.model,"settings.title.create"))?e:this.trans("new-row")},newRowTitle:function(){return this.$parent.newRowTitle()},saveButton:function(){return this.$root.getModelProperty(this.model,"settings.buttons.update")||this.trans("save")},sendButton:function(){return this.$root.getModelProperty(this.model,"settings.buttons.insert")||this.trans("send")},hasLocaleFields:function(){for(var e in this.model.fields){if(1==this.model.fields[e].locale)return!0;var t=this.model.fields[e].options;if(t&&t[0]&&"object"==U(t[0][1])&&null!==t[0][1]&&"language_id"in t[0][1]==1)return!0}return!1},languages:function(){return this.$root.languages},selectedLanguage:function(){if(!this.selectedlangid)return this.languages[0];for(var e in this.languages)if(this.languages[e].id==this.selectedlangid)return this.languages[e];return this.languages[0]},canUpdateForm:function(){return(!this.isOpenedRow||0!=this.$root.getModelProperty(this.model,"settings.editable"))&&(!this.model.isInParent()&&this.cansave)},canShowGettext:function(){return!("languages"!=this.model.slug||!this.$root.gettext)},getAdditionalFormData:function(){var e={_model:this.model.slug};null!=this.model.foreign_column&&this.$parent.parentrow&&(e[this.model.foreign_column[this.$parent.getParentTableName()]]=this.$parent.parentrow.id),"update"==this.getFormAction?(e._id=this.row.id,e._method="put"):(this.langid&&(e.language_id=this.langid),this.hasParentModel()&&this.$parent.rows.save_children.length>0&&(e._save_children=JSON.stringify(this.$parent.rows.save_children)));var t={};for(var i in e)t[this.model.formPrefix()+i]=e[i];return t},getFormAction:function(){return this.isOpenedRow?"update":"store"}},methods:{changeLanguage:function(e){this.$parent.selected_language_id=e},getLangName:function(e){return this.$root.getLangName(e)},showHistory:function(e){this.$parent.showHistory(e)},getComponents:function(e){return this.$parent.getComponents(e)},resetForm:function(){this.$parent.resetForm()},initForm:function(e,t){var i=e&&"id"in e;if(!1!==t)for(var a in this.model.fields)this.$set(this.model.fields[a],"value",null);if(this.resetErrors(),i||this.$parent.resetForm(),i&&this.canaddrow&&0==this.model.editable&&0==this.$parent.hasChilds())this.$parent.resetForm();else{for(var a in this.model.fields)if(!i||this.model.fields[a].value!=e[a]||t){var n=void 0===(n=i?e[a]:null)?null:n;this.model.fields[a].value=n,this.model.fields[a].$original_value=n,eventHub.$emit("updateField",this.buildEventData({key:a,field:this.model.fields[a]}))}i?this.isActive=null==e.published_at:(this.isActive=!0,this.hasParentModel()&&this.$parent.closeHistory())}},resetErrors:function(){this.form.find(".form-group.has-error").firstLevelForm(this.form[0]).removeClass("has-error").find(".help-block").remove(),this.form.find(".far.fa-times-circle").firstLevelForm(this.form[0]).remove(),this.form.find(".multi-languages .has-error").firstLevelForm(this.form[0]).removeClass("has-error"),this.removeActiveTab(this.form.find(".nav-tabs li[has-error]").firstLevelForm(this.form[0])),this.$parent.progress=!1},sendForm:function(e,t,i){var a=this;if(1!=this.submit){if("undefined"!=typeof CKEDITOR)for(var n in CKEDITOR.instances)CKEDITOR.instances[n].updateElement();this.resetErrors(),this.$parent.progress=!0,$(e.target).ajaxSubmit({url:this.$root.requests[t],success:function(e){if(a.submit=!0,a.$parent.progress=!1,"object"!=$.type(e)||!("type"in e))return a.unknownAjaxErrorResponse();setTimeout((function(){a.$root.openAlert(e.title,e.message,e.type,null,(function(){setTimeout((function(){a.submit=!1}),500)}))}),100),i(e)},error:function(e){a.resetErrors(),a.$root.errorResponseLayer(e,422,(function(){var t=e.responseJSON,i=[];for(var n in"errors"in t&&!("length"in t.errors)&&(t=t.errors),t)i="string"==typeof t[n]?[t[n]]:t[n],a.bindErrorMessages(n,i)}))}})}},unknownAjaxErrorResponse:function(){var e=this;this.$root.arrorAlert((function(){e.$parent.progress=!1,setTimeout((function(){e.submit=!1}),500)}))},bindErrorMessages:function(e,t){var i=this,a=[],n=e.split(".");(1==n.length||2==n.length&&0==n[1])&&(e=(n=[n[0]])[0],a.push(e),n.push(0)),n=n.map((function(e,t){return 0==t?e:"["+e+"]"})),a.push(n.join(""));for(var s=0;s<a.length;s++)"[]"!=a[s].substr(-2)&&a.push(a[s]+"[]");for(s=0;s<t.length;s++)_.uniqBy(a).map((function(e){i.form.find('input[name="'+e+'"], select[name="'+e+'"], textarea[name="'+e+'"]').firstLevelForm(i.form[0]).each(i.showErrorMessage(t[s],s))}))},showErrorMessage:function(e,t){var i=this;return function(){var a=$(this);if(i.colorizeTab($(this)),i.colorizeLangDropdown($(this)),$(this).is("select")?a=a.parent().parent().children().last().prev():$(this).is("textarea")?a=a.parent().children().last().prev():$(this).is("input:checkbox")?a=a.next():$(this).is("input:radio")||$(this).parent().hasClass("label-wrapper")?a=0==(a=a.parent().parent().parent()).find(".help-block").length?a.children().last().prev():null:$(this).parent().hasClass("input-group")&&(a=$(this).parent()),a&&a.after('<span class="help-block">'+e+"</span>"),0==t){var n=$(this).closest("div.form-group").addClass("has-error").find("> label");0==n.find(".fa-times-circle").length&&n.prepend('<i class="far fa-times-circle"></i> ')}}},buildEventData:function(e,t,i){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?G(Object(i),!0).forEach((function(t){Y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({table:(t=t||this.model).slug,model:t,depth_level:this.depth_level+(i?1:0)},e)},saveForm:function(e){var t=this;if(!this.model.isInParent()){var i=this.getFormAction;this.sendForm(e,i,(function(e){if(!e.data)return!1;if("store"==i)for(var a in e.data){var n=_.cloneDeep(e.data[a].rows[0]),s=e.data[a].model==t.model.table,o=t.$root.models[e.data[a].model];s&&t.hasParentModel()&&t.saveParentChilds(e.data[a].rows);var r=t.buildEventData({row:n,request:e.data[a]},o,!s);if(eventHub.$emit("onSubmit",r),eventHub.$emit("onCreate",r),s){var l=t.$root.getModelProperty(t.model,"settings.autoreset");t.model.isSingle()||!1===l?(t.$parent.row=n,t.scrollToForm()):t.initForm(t.$parent.emptyRowInstance())}}else if("update"==i){var d=e.data.rows;for(var u in d){n=_.cloneDeep(d[u]),s=u==t.model.table,o=t.$root.models[u],r=t.buildEventData({row:n,request:d[u]},o,!s);eventHub.$emit("onSubmit",r),eventHub.$emit("onUpdate",r)}}if(!0!==t.hasparentmodel){var c="store"==i?e.data[0].rows[0]:e.data.rows[t.model.table];t.$parent.$parent.pushOption(c,i)}}))}},removeActiveTab:function(e,t){e.filter((function(){return!0===t||!$(this).hasClass("model-tab")})).removeAttr("data-toggle").removeAttr("data-original-title").removeAttr("has-error").tooltip("dispose").find("a > .fa.fa-exclamation-triangle").remove()},colorizeTab:function(e){var t=this;e.parents(".tab-pane").each((function(){var e=function(e){var t,i=e.parent().prev().find("li"),a=e.attr("id")||e.attr("data-tab-id");return a&&(t=i.parent().add($("ul.nav.nav-tabs")).find('> li > a[href="#'+a+'"]')),t&&t.length>0?t.parent():i.eq(e.index())};$(this).one("click",(function(){0==$(this).find(".nav-tabs-custom:not(.default) li[has-error]").length&&t.removeActiveTab(e($(this)),!0)})),e($(this)).each((function(){$(this).hasClass("has-error")||$(this).attr("data-toggle","tooltip").attr("data-original-title",t.trans("tab-error")).attr("has-error","").one("click",(function(){var e=$(this).parents(".nav-tabs-custom").find("> .nav-tabs > li.active[has-error]").not($(this).parent().find("> li"));t.removeActiveTab($([this].concat(e.toArray())),!0)})).find("a").prepend('<i class="nav-link--icon-left fa fa-exclamation-triangle"></i>')}))}))},colorizeLangDropdown:function(e){var t=e.parents(".field-wrapper"),i=t.attr("data-field"),a=t.attr("data-lang"),n=t.attr("data-model");if(i&&(1==this.$root.models[n].fields[i].locale&&a!=this.selectedLanguage.slug)){var s=this.form.find(".multi-languages .dropdown-toggle");s.addClass("has-error"),s.next().find('li[data-slug="'+a+'"]').addClass("has-error"),a==this.languages[0].slug&&this.$root.openAlert(this.trans("warning"),this.trans("lang-error"),"warning")}},scrollToForm:function(){var e=this;setTimeout((function(){e.scrollTo("#"+e.formID)}),this.$root.isTest?0:500)},hasParentModel:function(){return"model-builder"==this.$parent.$options.name},saveParentChilds:function(e){if(this.$parent.rows.save_children=[],this.$parent.isWithoutParentRow){for(var t=this.$parent.$parent;!("rows"in t);)t=t.$parent;for(var i=0;i<e.length;i++)t.rows.save_children.push({table:this.model.slug,id:e[i].id})}},openGettextEditor:function(){this.$parent.gettext_editor=this.row},isFieldSelect:function(e){return!!(e&&e in this.model.fields&&["select","radio"].indexOf(this.model.fields[e].type)>-1)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.formType,{tag:"component",staticClass:"form crudadmin-form",attrs:{method:"post",action:"",id:e.formID,"data-form":e.model.slug},on:{submit:function(t){return t.preventDefault(),e.saveForm(t)}}},[i("div",{staticClass:"box",class:{"box--active":e.isActive}},[i("div",{staticClass:"box-header",class:{visible:e.hasLocaleFields||e.canShowGettext||e.isOpenedRow&&e.model.history},attrs:{"data-header":""}},[i("div",{staticClass:"box-header__actions"},[i("div",{staticClass:"box-header__left"},[i("h3",{staticClass:"box-header__title"},[e.model.localization?i("span",{staticClass:"--icon-left fa fa-globe-americas",attrs:{"data-toggle":"tooltip","data-original-title":e.trans("multilanguages")}}):e._e(),e._v("\n                        "+e._s(e.title)+"\n                    ")])]),e._v(" "),i("div",{staticClass:"box-header__right"},[e.isOpenedRow&&e.canShowGettext?i("button",{staticClass:"btn--icon btn btn-default btn-sm",attrs:{type:"button"},on:{click:e.openGettextEditor}},[i("i",{staticClass:"fa fa-globe-americas"}),e._v("\n                        "+e._s(e.trans("gettext-open"))+"\n                    ")]):e._e(),e._v(" "),e.isOpenedRow&&e.canaddrow&&!e.model.isSingle()?i("button",{staticClass:"btn--icon btn btn-default btn-sm",attrs:{"data-create-new-row":"",type:"button"},on:{click:function(t){return t.preventDefault(),e.resetForm(t)}}},[i("i",{staticClass:"fa fa-plus"}),e._v("\n                        "+e._s(e.newRowTitle)+"\n                    ")]):e._e(),e._v(" "),e.isOpenedRow&&e.model.history&&e.model.isSingle()?i("button",{staticClass:"btn--icon btn btn-sm btn-default",attrs:{type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("history.changes")},on:{click:function(t){return e.showHistory(e.row)}}},[i("i",{staticClass:"fa fa-history"}),e._v("\n                        "+e._s(e.trans("history.show"))+"\n                    ")]):e._e(),e._v(" "),e.hasLocaleFields&&e.selectedLanguage?i("div",{staticClass:"dropdown multi-languages",attrs:{"data-form-language-switch":""}},[i("button",{staticClass:"btn btn-default dropdown-toggle btn-sm",attrs:{type:"button",id:"languageDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[i("i",{staticClass:"--icon-left fa fa-globe-americas"}),e._v(" "),i("span",{staticClass:"text"},[e._v(e._s(e.getLangName(e.selectedLanguage)))]),e._v(" "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"languageDropdown"}},e._l(e.languages,(function(t){return e.selectedLanguage.id!=t.id?i("li",{attrs:{"data-slug":t.slug}},[i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),e.changeLanguage(t.id)}}},[e._v("\n                                    "+e._s(e.getLangName(t))+"\n                                ")])]):e._e()})),0)]):e._e()])]),e._v(" "),e._l(e.getComponents("form-header"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})}))],2),e._v(" "),i("div",{staticClass:"box-body box-body--form",class:{cantadd:!e.cansave}},[e._l(e.getComponents("form-top"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),i("div",{staticClass:"box-body-wrapper"},[e._l(e.getAdditionalFormData,(function(e,t){return i("input",{attrs:{type:"hidden",name:t},domProps:{value:e}})})),e._v(" "),i("form-tabs-builder",{attrs:{model:e.model,childs:!0,langid:e.langid,inputlang:e.selectedLanguage,row:e.row,cansave:e.cansave,hasparentmodel:e.hasparentmodel,depth_level:e.depth_level,parentActiveGridSize:e.parentActiveGridSize,history:e.history}})],2),e._v(" "),e._l(e.getComponents("form-bottom"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})}))],2),e._v(" "),e.canUpdateForm?i("div",{staticClass:"box-footer",attrs:{"data-footer":e.model.table}},[e._l(e.getComponents("form-footer"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),i("div",{staticClass:"box-footer__actions"},[e.progress?i("button",{class:["btn","btn-"+(e.isOpenedRow?"success":"primary")],attrs:{type:"button","data-action-type":"updating"}},[i("i",{staticClass:"fa updating fa-refresh"}),e._v(" "+e._s(e.isOpenedRow?e.trans("saving"):e.trans("sending")))]):e._e(),e._v(" "),e.progress?e._e():i("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-action-type":e.isOpenedRow?"update":"create",name:"submit"}},[e._v(e._s(e.isOpenedRow?e.saveButton:e.sendButton))])])],2):e._e()])])}),[],!1,null,null,null).exports,X=d({methods:{}},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"box__overlay"},[t("i",{staticClass:"fa fa-sync fa-spin"}),this._v(" "),t("p",[this._v(this._s(this.trans("loading")))])])}),[],!1,null,null,null).exports;function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Q=d({props:["model","item","field","name","image"],components:{File:F},computed:{getFiles:function(){var e=this.fieldValue;return e?$.isArray(e)?e:[e]:[]},fieldValue:function(){var e=this.field in this.model.fields?this.model.fields[this.field]:null,t=this.item,i=this.field in t?this.getMutatedValue(t[this.field],e):"";if(e){var a="radio"==e.type;if("select"==e.type||a){if("multiple"in e&&1==e.multiple&&$.isArray(i)&&!a){for(var n=[],s=i,o=(d=this.getRelatedModelTable(e))||e.option?this.getLanguageSelectOptions(e.options,this.getRelatedModelTable(e)):e.options,r=0;r<s.length;r++){var l=o.filter(function(e){return e[0]==s[r]}.bind(this));l.length>0&&n.push(l[0][1])}return n.join(", ")}var d=this.getRelatedModelTable(e);if(!(o=a||!d&&!e.option?e.options:this.getLanguageSelectOptions(e.options,d)))return i;for(r=0;r<o.length;r++)if(i==o[r][0])return o[r][1]}else{if("checkbox"==e.type)return 1==i?this.trans("yes"):this.trans("no");"date"==e.type&&!0===e.multiple?i=this.returnDateFormat(i):"time"==e.type&&!0===e.multiple&&(i=(i||[]).join(", "))}}else if(["created_at","updated_at"].indexOf(this.field)>-1)return this.returnDateFormat([i]);var u=this.model.getModelProperty("settings.columns."+this.field+".add_before"),c=this.model.getModelProperty("settings.columns."+this.field+".add_after");return"object"==K(i)?i:i||0==i?(u||"")+i+(c||""):null},onlyEncodedTitle:function(){return!1===this.model.getModelProperty("settings.columns."+this.field+".encode",!0)?"":this.fieldValue},fieldValueLimitedAndEncoded:function(){return this.encodeValue(this.stringLimit(this.fieldValue))},getStringLimit:function(){return this.getFieldLimit(Object.keys(this.$parent.$parent.columns).length<5?40:20)}},methods:{returnDateFormat:function(e){return(e||[]).map((function(e){var t=moment(e);return t._isValid?t.format("DD.MM.YYYY"):e})).join(", ")},stringLimit:function(e){var t=this.getStringLimit;return 0!=t&&e.length>t&&!1!==this.model.getModelProperty("settings.columns."+this.field+".encode",!0)?e.substr(0,t)+"...":e},encodeValue:function(e){return this.isRealField(this.field)&&1==this.model.getModelProperty("settings.columns."+this.field+".encode",!0)&&(e=$(document.createElement("div")).text(e).html()),this.isRealField(this.field)&&"text"==this.model.fields[this.field].type&&0===parseInt(this.model.fields[this.field].limit)?e.replace(/\n/g,"<br>"):this.isRealField(this.field)&&"string"==this.model.fields[this.field].type&&("phone"in this.model.fields[this.field]||"phone_link"in this.model.fields[this.field])?'<a href="tel:'+e+'">'+e+"</a>":e},getRelatedModelTable:function(e){var t=e.belongsTo||e.belongsToMany;return!!t&&t.split(",")[0]},getMutatedValue:function(e,t){if(t&&"locale"in t){var i=this.$root.languages[0].slug;if(e&&"object"===K(e)){if(i in e&&(e[i]||0==e[i]))e=e[i];else for(var a in e)if(e[a]||0===e[a]){e=e[a];break}"object"==K(e)&&(e="")}}return 0===e?0:e||""},getLanguageSelectOptions:function(e,t){var i=(t=this.$root.models[t])&&t.localization?{language_id:this.$root.language_id}:{};return this.$root.languageOptions(e,this.model.fields[this.field],i,!1)},isFile:function(e){return e in this.model.fields&&!("file"!=this.model.fields[e].type||!this.isEncodedValue(e))},isRealField:function(e){return e in this.model.fields},getFieldLimit:function(e){if(!1===this.isEncodedValue(this.field))return 0;if(this.isRealField(this.field)){var t,i=this.model.fields[this.field];return(t="limit"in i?i.limit:this.model.getModelProperty("settings.columns."+this.field+".limit",e))||0===t?t:e}return this.model.getModelProperty("settings.columns."+this.field+".limit",e)},isEncodedValue:function(e){return this.model.getModelProperty("settings.columns."+e+".encode",!0)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!=e.fieldValue?i("div",[e.isFile(e.field)?i("div",{staticClass:"filesList"},e._l(e.getFiles,(function(t,a){return i("div",[i("file",{attrs:{file:t,field:e.field,model:e.model,image:e.image}}),e._v(" "),a!=e.getFiles.length-1?i("span",[e._v(", ")]):e._e()],1)})),0):i("span",{attrs:{"data-toggle":e.fieldValue.length>e.getStringLimit?"tooltip":"","data-original-title":e.onlyEncodedTitle},domProps:{innerHTML:e._s(e.fieldValueLimitedAndEncoded)}})]):e._e()}),[],!1,null,null,null).exports,J=i(138),Z=d({props:["row","rows","rowsdata","buttons","count","field","gettext_editor","model","orderby","history","checked","button_loading","depth_level"],components:{TableRowValue:Q,draggable:i.n(J).a},data:function(){return{enabled_columns:{},hidden:["language_id","_order","slug","published_at","updated_at","created_at"],autoSize:!1}},created:function(){var e=this;null!=this.model.foreign_column&&this.hidden.push(this.model.foreign_column),this.resetAllowedColumns(),0==this.autoSize&&this.$parent.$parent.checkActiveGridSize(this.columns),eventHub.$on("selectHistoryRow",this.selectHistoryRowEvent=function(t){e.model.slug==t.table&&e.selectRow({id:t.row_id},null,null,t.history_id,t.row)})},destroyed:function(){eventHub.$off("selectHistoryRow",this.selectHistoryRowEvent)},computed:{multipleCheckbox:function(){return this.checked.length>0},defaultColumns:function(){for(var e={},t=0;t<this.model.columns.length;t++)s=this.model.columns[t],this.$root.getModelProperty(this.model,"settings.columns."+s+".hidden")||-1==this.hidden.indexOf(s)&&this.avaliableColumns.indexOf(s)>-1&&(!(s in this.model.fields)||1!=this.model.fields[s].hidden&&1!=this.model.fields[s].invisible)&&(e[this.model.columns[t]]=this.fieldName(this.model.columns[t]));var i=this.$root.getModelProperty(this.model,"settings.columns"),a=[];if(i){for(var t in i){var n={};for(var s in e){for(var o in i)n=this.addColumn(n,o,s,"before",i,a);for(var o in n[s]=e[s],i)n=this.addColumn(n,o,s,"after",i,a)}e=n}for(var s in i)if(!(s in e)&&1!=i[s].hidden&&1!=i[s].invisible){var r=this.getColumnRightKey(s);e[s]=i[s].name||i[s].title||this.model.fields[r].column_name||this.model.fields[r].name}}return!1===this.$root.getModelProperty(this.model,"settings.increments")&&"id"in e&&delete e.id,this.$parent.default_columns=Object.keys(e),e},columns:function(){var e={};for(var t in this.enabled_columns)1==this.enabled_columns[t].enabled&&(e[t]=this.enabled_columns[t].name);return e},avaliableColumns:function(){return["id"].concat(Object.keys(this.model.fields))},isEditable:function(){return 0!=this.model.hasAccess("update")&&(this.model.editable||this.$parent.$parent.hasChilds()>0)},isEnabledHistory:function(){return 1==this.model.history},canShowGettext:function(){return["languages","admin_languages"].indexOf(this.model.slug)>-1&&1==this.$root.gettext},canShowInfo:function(){return 1==this.model.getSettings("dates")},formID:function(){return"form-"+this.depth_level+"-"+this.model.slug},availableButtons:function(){return this.$parent.availableButtons},isCheckedAll:function(){var e=this.rows.data.map((function(e){return e.id}));return 0!=this.checked.length&&_.isEqual(e,this.checked)}},methods:{addColumn:function(e,t,i,a,n,s){if(a in n[t]&&(n[t][a]==i||n[t][a]+"_id"==i)){var o=this.getColumnRightKey(t);if(s.indexOf(o)>-1)return e;s.push(o),t in e&&delete e[t],o in e&&delete e[o],e[o]=n[t].name||n[t].title||this.model.fields[o].column_name||this.model.fields[o].name}return e},toggleAllCheckboxes:function(){var e=this.rows.data.map((function(e){return e.id}));this.$parent.checked=this.isCheckedAll?[]:e},checkRow:function(e,t){var i=this.$parent.checked.indexOf(e);t in this.model.fields&&["file"].indexOf(this.model.fields[t].type)>-1||(-1==i?this.$parent.checked.push(e):this.$parent.checked.splice(i,1))},resetAllowedColumns:function(){var e=_.cloneDeep(this.defaultColumns),t={},i=Object.keys(e),a=Object.keys(this.model.fields);for(var n in e)t[n]={name:e[n],enabled:!0};for(var n in this.model.fields)if(!(n in t)){for(var s=null,o=!0,r=a.slice(0,a.indexOf(n)),l=a.slice(a.indexOf(n)+1),d=r.length-1;d>=0;d--)if(i.indexOf(r[d])>-1){s=i.indexOf(r[d]);break}if(!s)for(d=0;d<l.length;d++)if(i.indexOf(l[d])>-1){s=i.indexOf(l[d]),o=!1;break}null===s?i.push(n):i.splice(s+(o?1:0),0,n),t[n]={name:this.fieldName(n),enabled:!1}}var u={};for(d=0;d<i.length;d++)u[i[d]]=t[i[d]];this.$parent.enabled_columns=this.enabled_columns=u},isReservedRow:function(e){return this.$parent.isReservedRow(e.id)},buttonsCount:function(e){var t=this.getButtonsForRow(e),i=0;return i+=this.isEnabledHistory?1:0,i+=this.canShowGettext?1:0,i-=this.canShowGettext?0:1,i-=this.model.publishable?0:1,Object.keys(t||{}).length+i},getButtonsForRow:function(e){if(!(this.rows.buttons&&e.id in this.rows.buttons))return{};var t={},i=this.rows.buttons[e.id];for(var a in i)["button","both","multiple"].indexOf(i[a].type)>-1&&(t[a]=i[a]);return t},getButtonKey:function(e,t){return this.$parent.getButtonKey(e,t)},buttonAction:function(e,t,i){return this.$parent.buttonAction(e,t,i)},toggleSorting:function(e){if(!1!==this.$root.getModelProperty(this.model,"settings.sortable")){var t=this.orderby[0]==e?1-this.orderby[1]:0;this.$parent.orderBy=[e,t]}},fieldName:function(e){if(e in this.model.fields)return this.model.fields[e].column_name||this.$root.getModelProperty(this.model,"settings.columns."+e+".name")||this.model.fields[e].name;switch(e){case"id":return this.trans("number");case"created_at":return this.trans("created");case"updated_at":return this.trans("updated");default:return e}},isActiveRow:function(e){return!!this.row&&e.id==this.row.id},enableDragging:function(){this.$parent.initTimeout(!1),this.$parent.dragging=!1,$('[data-toggle="tooltip"]').tooltip("enable")},beforeUpdateOrder:function(e){this.$parent.destroyTimeout(),this.$parent.dragging=!0,$('[data-toggle="tooltip"]').tooltip("disable")},updateOrder:function(e){var t=this;if("_order"==this.orderby[0]){for(var i=this.rowsdata[e.oldIndex],a=this.rowsdata[e.newIndex],n=i._order,s=a._order,o={},r=this.$parent.$parent.rows.data.length-1;r>=0;r--){var l=this.$parent.$parent.rows.data[r];l.id==i.id?(l._order=s,o[l.id]=l._order):n>s&&l._order>=s&&l._order<=n?(l._order+=1,o[l.id]=l._order):n<s&&l._order<=s&&l._order>n&&(l._order-=1,o[l.id]=l._order)}this.$http.post(this.$root.requests.updateOrder,{model:this.model.slug,rows:o}).then((function(e){var i=e.data;if(i&&"type"in i)return t.$root.openAlert(i.title,i.message,"danger");t.enableDragging()})).catch((function(e){this.$root.errorResponseLayer(e),this.enableDragging()}))}else this.enableDragging()},getDateByField:function(e,t){return t in this.model.fields?e[t]:moment(e[t]).format("DD.MM.Y HH:mm")},showInfo:function(e){var t="";null!=e.created_at&&(t+=this.trans("created-at")+": <strong>"+this.getDateByField(e,"created_at")+"</strong><br>"),null!=e.updated_at&&0!=this.model.editable&&(t+=this.trans("last-change")+": <strong>"+this.getDateByField(e,"updated_at")+"</strong><br>"),null!=e.published_at&&(t+=this.trans("published-at")+": <strong>"+this.getDateByField(e,"published_at")+"</strong>"),this.$root.openAlert(this.trans("row-info-n")+" "+e.id,t,"primary",null,(function(){}))},openGettextEditor:function(e){this.$parent.$parent.gettext_editor=e,this.$parent.$parent.gettext_table=this.model.table},showHistory:function(e){this.$parent.$parent.showHistory(e)},selectRow:function(e,t,i,a,n){var s=this;if((!this.row||this.row.id!=e.id||a)&&(!i||this.model.slug==i)){if(!0===e&&null===t)return this.$parent.row=null;var o=function(t){for(var i in t)e[i]=t[i];if(s.$set(s.$parent.$parent,"row",_.cloneDeep(e,!0)),n)for(var i in n)s.$set(n,i,e[i]);s.$parent.$parent.closeHistory(!!a),s.scrollToForm()};t?o(t):this.$http.get(this.$root.requests.get("show",{model:this.model.slug,id:e.id,subid:a})).then((function(e){o(e.data)})).catch((function(e){this.$root.errorResponseLayer(e)}))}},removeRow:function(e){this.$parent.removeRow(e)},togglePublishedAt:function(e){this.$parent.togglePublishedAt(e)},isImageField:function(e){if(e in this.model.fields&&"image"in(e=this.model.fields[e]))return!0;return!1},getColumnRightKey:function(e){return!(e in this.model.fields)&&e+"_id"in this.model.fields?e+"_id":e},scrollToForm:function(){var e=this;0==this.$parent.$parent.activeGridSize&&setTimeout((function(){$("html, body").animate({scrollTop:$("#"+e.formID).offset().top-10},e.$root.isTest?0:500)}),25)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{class:["table",{sortable:e.model.sortable&&"_order"==e.orderby[0]}],attrs:{id:"table-"+e.model.slug,"data-table-rows":e.model.slug,"data-depth":e.depth_level}},[i("thead",{attrs:{"data-table-head":""}},[i("tr",[i("th",{staticClass:"select-row-checkbox",on:{click:e.toggleAllCheckboxes}},[i("div",{staticClass:"checkbox-box",attrs:{"data-toggle":"tooltip",title:e.trans(e.isCheckedAll?"uncheck-all":"check-all")},on:{click:function(t){return e.checkRow(e.item.id)}}},[i("input",{attrs:{type:"checkbox"},domProps:{checked:e.isCheckedAll}}),e._v(" "),i("span",{staticClass:"checkmark"})])]),e._v(" "),e._l(e.columns,(function(t,a){return i("th",{class:"th-"+a,on:{click:function(t){return e.toggleSorting(a)}}},[e.orderby[0]==a&&0==e.orderby[1]?i("i",{staticClass:"arrow-sorting fa fa-angle-up"}):e._e(),e._v(" "),e.orderby[0]==a&&1==e.orderby[1]?i("i",{staticClass:"arrow-sorting fa fa-angle-down"}):e._e(),e._v("\n                "+e._s(t)+"\n            ")])})),e._v(" "),i("th",{staticClass:"th-options-buttons"})],2)]),e._v(" "),i("draggable",{attrs:{tag:"tbody"},on:{start:e.beforeUpdateOrder,end:e.updateOrder}},e._l(e.rowsdata,(function(t,a){return i("tr",{key:t.id,attrs:{"data-id":t.id}},[i("td",{staticClass:"select-row-checkbox"},[i("div",{staticClass:"checkbox-box",on:{click:function(i){return e.checkRow(t.id)}}},[i("input",{attrs:{type:"checkbox"},domProps:{checked:e.checked.indexOf(t.id)>-1}}),e._v(" "),i("span",{staticClass:"checkmark"})])]),e._v(" "),e._l(e.columns,(function(a,n){return i("td",{class:["td-"+n,{image_field:e.isImageField(n)}],attrs:{"data-field":n},on:{click:function(i){return e.checkRow(t.id,n)}}},[i("table-row-value",{attrs:{field:n,name:a,item:t,model:e.model,image:e.isImageField(n)}})],1)})),e._v(" "),i("td",{staticClass:"buttons-options",class:["additional-"+e.buttonsCount(t)],attrs:{"data-model":e.model.slug}},[e.isEditable?i("div",{staticClass:"buttons-options__item"},[i("button",{class:["btn","btn-sm",{"btn-success":e.isActiveRow(t),"btn-default":!e.isActiveRow(t)}],attrs:{"data-button":"edit","data-id":t.id,type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("edit")},on:{click:function(i){return e.selectRow(t)}}},[i("i",{staticClass:"far fa-edit"})])]):e._e(),e._v(" "),e.isEnabledHistory?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-sm btn-default",class:{"enabled-history":e.isActiveRow(t)&&e.history.history_id},attrs:{"data-button":"history",type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("history.changes")},on:{click:function(i){return e.showHistory(t)}}},[i("i",{staticClass:"fa fa-history"})])]):e._e(),e._v(" "),e.canShowGettext?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-sm btn-default",attrs:{"data-button":"gettext",type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("gettext-update")},on:{click:function(i){return e.openGettextEditor(t)}}},[i("i",{staticClass:"fa fa-globe-americas"})])]):e._e(),e._v(" "),e.canShowInfo?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-sm btn-default",attrs:{type:"button","data-button":"show","data-toggle":"tooltip",title:"","data-original-title":e.trans("row-info")},on:{click:function(i){return e.showInfo(t)}}},[i("i",{staticClass:"far fa-question-circle"})])]):e._e(),e._v(" "),e._l(e.getButtonsForRow(t),(function(a,n){return i("div",{staticClass:"buttons-options__item"},[i("button",{class:["btn","btn-sm",a.class],attrs:{type:"button","data-button":"action-"+a.key,"data-toggle":"tooltip",title:"","data-original-title":a.name},on:{click:function(i){return e.buttonAction(n,a,t)}}},[i("i",{class:["fa",e.button_loading==e.getButtonKey(t.id,n)?"fa-sync-alt":e.faMigrator(a.icon),{"fa-spin":e.button_loading==e.getButtonKey(t.id,n)}]})])])})),e._v(" "),e.model.publishable&&e.model.hasAccess("publishable")?i("div",{staticClass:"buttons-options__item"},[i("button",{class:["btn","btn-sm",{"btn-info":!t.published_at,"btn-warning":t.published_at}],attrs:{"data-button":"publishable",type:"button","data-published":t.published_at?"true":"false","data-toggle":"tooltip",title:"","data-original-title":t.published_at?e.trans("hide"):e.trans("show")},on:{click:function(i){return e.togglePublishedAt(t)}}},[i("i",{class:{fa:!0,"fa-eye":t.published_at,"fa-eye-slash":!t.published_at}})])]):e._e(),e._v(" "),e.model.deletable&&e.count>e.model.minimum&&e.model.hasAccess("delete")?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-danger btn-sm",class:{disabled:e.isReservedRow(t)},attrs:{"data-button":"delete",type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("delete")},on:{click:function(i){return e.removeRow(t,a)}}},[i("i",{staticClass:"far fa-trash-alt"})])]):e._e()],2)],2)})),0)],1)}),[],!1,null,null,null).exports,ee=d({props:["rows","pagination"],mounted:function(){},computed:{paginateItems:function(){for(var e=[],t=1;t<=Math.ceil(this.rows.count/this.pagination.limit);t++)this.showLimit(t)?e.push(t):0!=e[e.length-1]&&e.push(0);return e}},methods:{setPosition:function(e){e!=this.pagination.position&&this.$parent.setPosition(e)},showLimit:function(e){var t=Math.ceil(this.rows.count/this.pagination.limit);if(1==e||e==t)return!0;for(var i=t<1e3?3:t<1500?2:1,a=[[100,.3],[100,.7],[1e3,.1],[1e3,.85]],n=0,s=0;s<a.length;s++)if(t>a[s][0]){var o=parseInt(t*a[s][1]);if(e>=o&&e<o+i)return!0;n++}var r=(r=this.pagination.maxpages-n*i)<6?6:r,l=this.pagination.position<r/2?r/2-this.pagination.position:0,d=(l=t-this.pagination.position<r/2?r/2-(t-this.pagination.position):l,this.pagination.position-l>=e+Math.ceil(r/2)-1),u=this.pagination.position<e-r/2-l;return!d&&!u}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.rows.count>e.pagination.limit?i("ul",{staticClass:"pagination",attrs:{"data-pagination":""}},[i("li",{class:{disabled:e.pagination.position<=1},attrs:{"data-pagination-prev":""}},[i("a",{staticClass:"page-link",on:{click:function(t){return t.preventDefault(),e.setPosition(e.pagination.position-1)}}},[i("i",{staticClass:"fa fa-chevron-left"})])]),e._v(" "),e._l(e.paginateItems,(function(t){return i("li",{class:{active:e.pagination.position==t}},[i("a",{staticClass:"page-link",on:{click:function(i){return i.preventDefault(),e.setPosition(t)}}},[e._v(e._s(0==t?"...":t))])])})),e._v(" "),i("li",{class:{disabled:e.pagination.position>e.rows.count/e.pagination.limit},attrs:{"data-pagination-next":""}},[i("a",{staticClass:"page-link",on:{click:function(t){return t.preventDefault(),e.setPosition(e.pagination.position+1)}}},[i("i",{staticClass:"fa fa-chevron-right"})])])],2):e._e()])}),[],!1,null,null,null);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ie=d({props:["model","row","rows","langid","progress","search","history","gettext_editor","iswithoutparent","activetab","depth_level"],components:{Refreshing:X,TableRows:Z,Pagination:ee.exports},data:function(){var e=this.iswithoutparent?500:"limit"in localStorage?localStorage.limit:this.$root.getModelProperty(this.model,"settings.pagination.limit",10);return{table:null,pagination:{position:1,limit:parseInt(e),limits:[5,10,20,30,50,100,200,500],refreshing:!1,maxpages:10},searching:!1,dragging:!1,orderBy:null,refresh:{refreshing:!0,count:0,interval:this.getRefreshInterval()},checked:[],default_columns:[],enabled_columns:null,button_loading:!1}},created:function(){var e=this;this.root=this.$root.$http.options.root,this.setOrder(),this.loadRows(),eventHub.$on("onCreate",this.onCreateEvent=function(t){if(t.table==e.model.slug&&t.depth_level==e.depth_level){var i=t.request,a=Math.ceil(e.rows.count/e.pagination.limit);if(e.isReversed(!0)&&e.rows.count>0&&!e.$parent.isWithoutParentRow&&a==e.rows.count/e.pagination.limit)e.setPosition(a+1,!!e.$parent.isWithoutParentRow||null);else if(e.isReversed(!0)&&e.pagination.position<a&&!e.$parent.isWithoutParentRow)e.setPosition(a);else if(1==e.pagination.position||e.isReversed(!0)&&e.pagination.position==a||e.$parent.isWithoutParentRow){var n=i.rows.concat(e.rows.data);for(var s in n.length>e.pagination.limit&&(n=n.slice(0,e.pagination.limit)),i.buttons)e.rows.buttons[s]=i.buttons[s];e.rows.data=n,e.rows.count+=i.rows.length}else e.loadRows()}}),eventHub.$on("onUpdate",this.onUpdateEvent=function(t){if(t.table==e.model.slug&&t.depth_level==e.depth_level){var i=t.row;for(var a in e.rows.data)if(e.rows.data[a].id==i.id)for(var n in i)e.$parent.rows.data[a][n]=i[n];e.$parent.closeHistory(),1==e.$root.getModelProperty(e.model,"settings.reloadOnUpdate")&&e.loadRows()}}),eventHub.$on("reloadRows",this.onReloadRows=function(t){e.model.slug==t&&e.loadRows()})},destroyed:function(){this.destroyTimeout(),eventHub.$off("onCreate",this.onCreateEvent),eventHub.$off("onUpdate",this.onUpdateEvent),eventHub.$off("reloadRows",this.onReloadRows)},watch:{progress:function(e){1==e?this.destroyTimeout():this.initTimeout(!1)},langid:function(e){1==this.model.localization&&this.setPosition(1)},activetab:function(e){1==e&&this.initTimeout(!1)},search:{deep:!0,handler:function(e){var t=e.query||e.query_to,i=this.searching;this.searching=!(!t||!(t.length>=3||e.column&&(e.column in this.model.fields&&["select","option"].indexOf(this.model.fields[e.column].type)>-1||$.isNumeric(t)))),this.search.used=!0,1==this.searching&&0==i?this.setPosition(1,!0):(this.searching||0==this.searching&&1==i)&&this.loadRows(!0)}},enabled_columns:{deep:!0,handler:function(e,t){t&&e&&this.loadRows(!0)}}},computed:{hasAnyActions:function(){return this.hasButtons||this.model.publishable&&this.model.hasAccess("publishable")||this.model.deletable&&this.model.hasAccess("delete")},availableButtons:function(){var e={};for(var t in this.rows.buttons)for(var i in this.rows.buttons[t])["action","both","multiple"].indexOf(this.rows.buttons[t][i].type)>-1&&(e[i]=this.rows.buttons[t][i]);return e},hasButtons:function(){return Object.keys(this.availableButtons).length>0},title:function(){var e;return(e=this.$root.getModelProperty(this.model,"settings.title.rows"))?e:this.trans("rows")},isPaginationEnabled:function(){return!1!==this.$root.getModelProperty(this.model,"settings.pagination.enabled")&&!this.iswithoutparent},rowsData:function(){var e=this,t=this.orderBy[0],i=this.isNumericValue(t),a=this.isDateValue(t),n=!0!==this.$root.getModelProperty(this.model,"settings.columns."+t+".encode",!0);if(this.isDateValue(t)&&t in this.model.fields)var s=this.$root.fromPHPFormatToMoment(this.model.fields[t].date_format);return this.rows.data.slice(0).sort((function(o,r){if(!o||!r)return!1;if(!0!==o[t]&&!1!==o[t]||(o[t]=!0===o[t]?1:0),!0!==r[t]&&!1!==r[t]||(r[t]=!0===r[t]?1:0),o=e.getEncodedValue(o[t],n),r=e.getEncodedValue(r[t],n),i)return 1==e.orderBy[1]?r-o:o-r;if(a&&s){var l=moment(o,s),d=moment(r,s);return l.isValid()&&d.isValid()?1==e.orderBy[1]?d-l:l-d:0}return 1==e.orderBy[1]?r.toLowerCase().localeCompare(o.toLowerCase(),"sk"):o.toLowerCase().localeCompare(r.toLowerCase(),"sk")}))},enabledColumnsList:function(){var e=[];for(var t in this.enabled_columns||{})1==this.enabled_columns[t].enabled&&-1==this.default_columns.indexOf(t)&&e.push(t);return e}},methods:{resetColumnsList:function(){for(var e in this.$children){var t=this.$children[e];"table-rows"==t.$options._componentTag&&t.$options.methods.resetAllowedColumns.call(t)}},getComponents:function(e){return this.$parent.getComponents(e)},getEncodedValue:function(e,t){return(t?$("<div>"+e+"</div>").text():e)+""},columnName:function(e,t){return this.$parent.getSearchingColumnName(e)},canShowColumn:function(e,t){return!!e.name&&!(t in this.model.fields&&"password"==this.model.fields[t].type)},reloadRows:function(){return this.$parent.row=this.$parent.emptyRowInstance(),this.rows.data=[],this.rows.count=0,this.rows.save_children=[],this.loadRows(),!0},changeLimit:function(){localStorage.limit=this.pagination.limit,this.setPosition(1)},getParentRowId:function(){var e=this.$parent.parentrow;return e&&"id"in e?e.id:0},loadRows:function(e){if((this.$parent.isWithoutParentRow||!1===this.activetab)&&0==e)return!1;!1!==e&&(this.pagination.refreshing=!0),this.destroyTimeout();var t={},i={model:this.model.slug,parent:this.$parent.getParentTableName(this.model.without_parent),subid:this.getParentRowId(),langid:!0===this.model.localization?this.langid:0,limit:this.isPaginationEnabled?this.pagination.limit:0,page:this.pagination.position,count:this.refresh.count};function a(e){var t=e.request.url;for(var i in e.request.params)t=t.replace("{"+i+"}",e.request.params[i]);this.$root.openAlert(this.trans("warning"),'Nastala nečakana chyba, skúste neskôr prosím.<br><br>Príčinu zlyhania požiadavky môžete zistiť na tejto adrese:<br> <a target="_blank" href="'+t+'">'+t+"</a>","error")}1==this.searching&&(t.query=this.search.query,!0===this.search.interval&&(t.query_to=this.search.query_to),t.column=this.search.column),this.enabledColumnsList.length>0&&(t.enabled_columns=this.enabledColumnsList.join(";")),this.$http.get(this.$root.requests.get("rows",i),{params:t}).then((function(e){if(!0!==this.dragging&&!0!==this.progress&&this.$root)if("string"!=typeof e.data){var t=e.data.model;this.updateModel(t),this.pagination.refreshing=!1,this.updateRowsData(e.data.rows,0==this.enabledColumnsList.length?null:1),this.rows.count=e.data.count,this.rows.buttons=e.data.buttons,this.$parent.rows.loaded=!0,this.isReversed()&&0==this.refresh.count&&(this.pagination.position=Math.ceil(this.rows.count/this.pagination.limit)),0==this.refresh.count&&(this.updateFieldOptions(t.fields,t),this.$parent.layouts=e.data.layouts),this.model.isSingle()&&e.data.rows.length>0&&(this.$parent.row=e.data.rows[0]||this.$parent.emptyRowInstance(),this.$parent.sendRowData()),this.refresh.count++,this.refresh.refreshing=!1,this.$root.reloadCSRFToken(e.data.token),this.model.isSingle()&&0!=e.data.rows.length||this.initTimeout(!1)}else a.call(this,e)})).catch((function(e){this.$root&&(this.initTimeout(!1,!0),500==e.status&&0==this.refresh.count&&"message"in e?this.$root.errorResponseLayer(e,null):(0==this.refresh.count&&!0!==this.hasShowedError||401==e.status)&&(this.hasShowedError=!0,this.$root.errorResponseLayer(e,null)))}))},updateModel:function(e){for(var t in e)t in this.$root.originalModels[this.model.table]||this.$set(this.$root.models[this.model.table],t,e[t])},destroyTimeout:function(){this.updateTimeout&&clearTimeout(this.updateTimeout)},initTimeout:function(e,t){this.destroyTimeout();var i=this.isPaginationEnabled?this.pagination.limit:0;(this.rows.count>0&&1===this.model.maximum||this.rows.count>50&&parseInt(i)>50)&&!0!==t||(this.updateTimeout=setTimeout(function(){this.loadRows(e)}.bind(this),this.refresh.interval))},updateFieldOptions:function(e,t){var i=this;for(var a in e)if("filterBy"in(t.fields[a]||{})&&t.fields[a].filterBy?this.$set(this.model,"fields."+a+".filterBy",t.fields[a].filterBy):(this.model.fields[a],delete this.model.fields[a].filterBy),"options"in this.model.fields[a]&&("string"==typeof e[a].options||Object.keys(e[a].options).length>0))if("string"==typeof e[a].options){if("$."==e[a].options.substr(0,2)){var n=e[a].options.substr(2);this.model.fields[a].options=e[n].options}}else this.model.fields[a].options=e[a].options;setTimeout((function(){i.$parent&&i.$parent.reloadSearchBarSelect&&i.$parent.reloadSearchBarSelect()}),100)},isNumericValue:function(e){return["id","_order"].indexOf(e)>-1||(e in this.model.fields&&["integer","decimal","checkbox"].indexOf(this.model.fields[e].type)>-1||"integer"==this.$root.getModelProperty(this.model,"settings.columns."+e+".type"))},isDateValue:function(e){return["created_at","published_at","updated_at"].indexOf(e)>-1||e in this.model.fields&&["date","datetime"].indexOf(this.model.fields[e].type)>-1},setOrder:function(){if(null==this.orderBy){var e=this.$root.getModelProperty(this.model,"settings.orderBy");if(e){var t=Object.keys(e);return void(this.orderBy=[t[0],parseFloat(e[t[0]].toLowerCase().replace("asc",0).replace("desc",1))])}}for(var i in this.model.fields){var a=this.model.fields[i];if("orderBy"in a){return void(this.orderBy=[i,a.orderBy.toLowerCase().replace("asc",0).replace("desc",1)])}}this.orderBy=[this.model.orderBy[0],this.model.orderBy[1].toLowerCase().replace("asc",0).replace("desc",1)]},setPosition:function(e,t){0==e||e>Math.ceil(this.rows.count/this.pagination.limit)||(this.pagination.position=e,this.loadRows(t))},getRefreshInterval:function(){var e=this.$root.getModelProperty(this.model,"settings.refresh_interval",1e4);return 0==e&&(e=36e5),e},updateRowsData:function(e,t){if(!0===t||this.rows.data.length==e.length&&0!=this.rows.data.length&&this.rows.data[0].id==e[0].id&&1!==t)for(var i in this.rows.data)for(var a in e[i]){var n=$.isArray(e[i][a]);(n&&!_.isEqual(this.rows.data[i][a],e[i][a])||!n)&&(this.rows.data[i][a]=e[i][a])}else this.rows.data=e},removeRow:function(e){var t=e?[e.id]:this.checked,i=function(){var i=this,a={model:this.model.slug,parent:this.$parent.getParentTableName(this.model.without_parent),id:t,subid:this.getParentRowId(),limit:this.pagination.limit,page:this.pagination.position,_method:"delete"};null!=this.$root.language_id&&(a.language_id=parseInt(this.$root.language_id)),this.$http.post(this.$root.requests.delete,a).then((function(n){var s=n.data;if(s&&"type"in s&&"error"==s.type)return i.$root.openAlert(s.title,s.message,"danger");if(i.$parent.isWithoutParentRow){var o=[];for(var r in i.rows.data)t.indexOf(i.rows.data[r].id)>-1&&o.push(r);for(var l=0;l<o.sort((function(e,t){return t-e})).length;l++)i.rows.data.splice(o[l],1)}else i.updateRowsData(s.data.rows.rows),i.rows.count=s.data.rows.count,i.pagination.position=s.data.rows.page;i.row&&t.indexOf(i.row.id)>-1&&(i.$parent.row=i.$parent.emptyRowInstance()),!0!==i.$parent.hasparentmodelMutated&&i.$parent.$parent.pushOption(a.id,"delete"),e||(i.checked=[])})).catch((function(e){i.$root.errorResponseLayer(e)}))}.bind(this);if(this.isReservedRow(t))return this.$root.openAlert(this.trans("warning"),this.trans(t.length>1?"cannot-delete-multiple":"cannot-delete"),"warning");this.$root.openAlert(this.trans("warning"),this.trans("delete-warning"),"warning",i,!0)},togglePublishedAt:function(e){var t=e?[e.id]:this.checked;this.$http.post(this.$root.requests.togglePublishedAt,{model:this.model.slug,id:t}).then((function(e){var i=e.data;if(i&&"type"in i)return this.$root.openAlert(i.title,i.message,"danger");for(var a in this.rows.data)t.indexOf(this.rows.data[a].id)>-1&&(this.rows.data[a].published_at=i[this.rows.data[a].id])})).catch((function(e){this.$root.errorResponseLayer(e)})),e||(this.checked=[])},getButtonKey:function(e,t){return e+"-"+t},buttonAction:function(e,t,i){var a=i?[i.id]:this.checked,n=function(s,o){this.button_loading=i?this.getButtonKey(i.id,e):e,this.$http.post(this.$root.requests.buttonAction,_.merge(o||{},{_button:{model:this.model.slug,parent:this.$parent.getParentTableName(),id:a,multiple:!i,subid:this.getParentRowId(),limit:this.pagination.limit,page:this.pagination.position,language_id:!0===this.model.localization?this.langid:0,button_id:e,ask:!!s}})).then((function(s){this.button_loading=!1;var o=s.data,r="data"in o,l=r&&1==o.data.ask,d=r&&o.data.component?o.data.component:null;if("data"in o&&!l&&("rows"in o.data&&this.updateParentData(e,t,i,o),"redirect"in o.data&&o.data.redirect&&(1==o.data.open?window.location.replace(o.data.redirect):window.open(o.data.redirect)),i||(this.checked=[])),o&&"type"in o){var u=d?{name:t.key,component:d,model:this.model,rows:this.rows.data.filter((function(e){return a.indexOf(e.id)>-1})),row:i,request:{},data:o.data.component_data||[]}:null;return this.$root.openAlert(o.title,o.message,o.type,l?function(){var e={};this.alert.component&&this.alert.component.request&&(e=_.clone(this.alert.component.request)),n(null,e)}:null,!!l||null,u)}})).catch((function(e){this.button_loading=!1,this.$root.errorResponseLayer(e)}))}.bind(this);n(!0)},updateParentData:function(e,t,i,a){if(0==t.reloadAll)for(var n in a.data.rows.rows){i=a.data.rows.rows[n];for(var s in i.id in a.data.rows.buttons?this.rows.buttons[i.id]=a.data.rows.buttons[i.id]:this.rows.buttons[i.id]=[],this.rows.data)if(this.rows.data[s].id==i.id)for(var n in this.$parent.rows.data[s])this.$parent.rows.data[s][n]!=i[n]&&(this.$parent.rows.data[s][n]=i[n])}else this.updateRowsData(a.data.rows.rows,!1),this.rows.count=a.data.rows.count,this.rows.buttons=a.data.rows.buttons},isReservedRow:function(e){if("object"===te(e)&&e.length&&this.model.reserved){for(var t=0;t<e.length;t++)if(this.model.reserved.indexOf(e[t])>-1)return!0;return!1}return!!(this.model.reserved&&this.model.reserved.indexOf(e)>-1)},isReversed:function(e){return(1==e||2 in this.model.orderBy&&1==this.model.orderBy[2])&&(["id","_order"].indexOf(this.model.orderBy[0])>-1&&"asc"==this.model.orderBy[1].toLowerCase())}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box box-wrapper"},[i("div",{staticClass:"box-header"},[i("div",{staticClass:"box-header__actions"},[i("div",{staticClass:"box-header__left"},[i("h3",{staticClass:"box-header__title"},[e._v(e._s(e.title)+" "),i("small",[e._v("("+e._s(e.rows.count)+")")])])]),e._v(" "),i("div",{staticClass:"box-header__right"},[i("div",{staticClass:"dropdown fields-list",attrs:{"fields-list":""}},[i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v("\n                        "+e._s(e.trans("rows-list"))+"\n                        "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu menu-left dropdown-menu-right"},[e._l(e.enabled_columns,(function(t,a){return e.canShowColumn(t,a)?i("li",{class:{active:t.enabled},on:{click:function(e){return e.stopPropagation()}}},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enabled,expression:"column.enabled"}],attrs:{type:"checkbox","data-column":a},domProps:{checked:Array.isArray(t.enabled)?e._i(t.enabled,null)>-1:t.enabled},on:{change:function(i){var a=t.enabled,n=i.target,s=!!n.checked;if(Array.isArray(a)){var o=e._i(a,null);n.checked?o<0&&e.$set(t,"enabled",a.concat([null])):o>-1&&e.$set(t,"enabled",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(t,"enabled",s)}}}),e._v(" "+e._s(e.columnName(a,t.name)))])]):e._e()})),e._v(" "),i("li",{staticClass:"default-reset"},[i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.resetColumnsList(t)}}},[e._v(e._s(e.trans("default")))])])],2)]),e._v(" "),e.checked.length>0&&e.hasAnyActions?i("div",{staticClass:"dropdown actions-list fields-list",attrs:{"data-action-list":""}},[i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v("\n                        "+e._s(e.trans("action"))+"\n                        "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu menu-left dropdown-menu-right"},[e.model.deletable&&e.model.hasAccess("delete")?i("li",[i("a",{on:{click:function(t){return t.preventDefault(),e.removeRow()}}},[i("i",{staticClass:"fa fa-trash-alt"}),e._v(" "+e._s(e.trans("delete")))])]):e._e(),e._v(" "),e.model.publishable&&e.model.hasAccess("publishable")?i("li",[i("a",{on:{click:function(t){return t.preventDefault(),e.togglePublishedAt()}}},[i("i",{staticClass:"fa fa-eye"}),e._v(" "+e._s(e.trans("publish-toggle")))])]):e._e(),e._v(" "),e.hasButtons?i("li",{staticClass:"divider",attrs:{role:"separator"}}):e._e(),e._v(" "),e._l(e.availableButtons,(function(t,a){return i("li",[i("a",{on:{click:function(i){return e.buttonAction(a,t)}}},[i("i",{staticClass:"fa",class:t.icon}),e._v(" "+e._s(t.name))])])}))],2)]):e._e(),e._v(" "),e.isPaginationEnabled?i("div",{staticClass:"pagination-limit",attrs:{title:e.trans("rows-count")}},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.pagination.limit,expression:"pagination.limit"}],staticClass:"form-control",attrs:{"data-limit":""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.pagination,"limit",t.target.multiple?i:i[0])},e.changeLimit]}},e._l(e.pagination.limits,(function(t){return i("option",[e._v(e._s(t))])})),0)]):e._e()])]),e._v(" "),e._l(e.getComponents("table-header"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})}))],2),e._v(" "),i("div",{staticClass:"box-body box-body--table"},[i("table-rows",{attrs:{model:e.model,row:e.row,buttons:e.rows.buttons,count:e.rows.count,history:e.history,gettext_editor:e.gettext_editor,rows:e.rows,rowsdata:e.rowsData,button_loading:e.button_loading,checked:e.checked,orderby:e.orderBy,depth_level:e.depth_level},on:{"update:row":function(t){e.row=t},"update:gettext_editor":function(t){e.gettext_editor=t},"update:rowsdata":function(t){e.rowsData=t},"update:checked":function(t){e.checked=t},"update:orderby":function(t){e.orderBy=t}}})],1),e._v(" "),i("div",{staticClass:"box-footer"},[e._l(e.getComponents("table-footer"),(function(t){return e.getComponents("table-footer").length>0?i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}}):e._e()})),e._v(" "),i("div",{staticClass:"box-footer__actions"},[i("div",{staticClass:"box-footer__left"}),e._v(" "),i("div",{staticClass:"box-footer__center"},[e.isPaginationEnabled?i("pagination",{attrs:{rows:e.rows,pagination:e.pagination}}):e._e()],1),e._v(" "),i("div",{staticClass:"box-footer__right"},[e.isPaginationEnabled?i("div",{staticClass:"pagination-limit",attrs:{title:e.trans("rows-count")}},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.pagination.limit,expression:"pagination.limit"}],staticClass:"form-control",attrs:{"data-limit":""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.pagination,"limit",t.target.multiple?i:i[0])},e.changeLimit]}},e._l(e.pagination.limits,(function(t){return i("option",[e._v(e._s(t))])})),0)]):e._e()])])],2),e._v(" "),e.pagination.refreshing?i("refreshing"):e._e()],1)}),[],!1,null,null,null).exports,ae=d(i(133).a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"message-modal gettext-table modal-open"},[i("div",{staticClass:"modal modal-default",staticStyle:{display:"block"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[e._v(e._s(e.trans("gettext-update"))+" - "+e._s(e.gettext_editor.name))]),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:e.close}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),e._v(" "),i("div",{staticClass:"modal-body"},[i("label",[e._v(e._s(e.trans("search")))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("gettext-search")},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),e._v(" "),i("hr"),e._v(" "),e.loaded&&0==e.resultLength?i("p",[e._v(e._s(e.trans("gettext-no-match")))]):e._e(),e._v(" "),e.loaded?e._e():i("p",{staticClass:"loading"},[i("i",{staticClass:"fa fa-refresh fa-spin"}),e._v(" "+e._s(e.trans("gettext-loading")))]),e._v(" "),i("table",{directives:[{name:"show",rawName:"v-show",value:e.resultLength>0,expression:"resultLength > 0"}],staticClass:"table data-table table-bordered table-striped"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.trans("gettext-source")))]),e._v(" "),i("th",[e._v(e._s(e.trans("gettext-translation")))])])]),e._v(" "),i("tbody",e._l(e.filtratedTranslates,(function(t,a){return i("tr",{class:{missing:e.isMissing(a)}},[i("td",[e._v(e._s(a))]),e._v(" "),i("td",{staticClass:"input",class:{edited:e.hasChange(a),plural:e.isPlural(a)}},e._l(e.getPluralLength(a),(function(n){return i("textarea",{staticClass:"form-control",class:{long:e.getValue(t,n-1).length>80},attrs:{"data-toggle":"tooltip",disabled:e.isMissing(a),title:e.isMissing(a)?e.trans("gettext-missing"):e.getPluralsPlaceholder(a,n-1),placeholder:e.getPluralsPlaceholder(a,n-1)},domProps:{value:e.getValue(t,n-1)},on:{input:function(t){return e.changeText(t,a,n-1)}}})})),0)])})),0)]),e._v(" "),i("div",{staticClass:"translation-actions"},[e.missing.length>0&&0==e.showMissing?i("a",{on:{click:function(t){e.showMissing=!0}}},[e._v(e._s(e.trans("gettext-showmissing"))+" ("+e._s(e.missing.length)+")")]):e._e(),e._v(" "),0!=e.limit&&e.fullCount>e.limit?i("a",{on:{click:function(t){e.limit=!1}}},[e._v(e._s(e.trans("gettext-count"))+" ("+e._s(e.fullCount)+")")]):e._e()])]),e._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.saveAndClose}},[e._v(e._s(e.trans("gettext-save")))])])])])])])}),[],!1,null,null,null).exports,ne=d({props:["history"],computed:{sortedHistory:function(){return _.orderBy(this.history.rows,"id","desc")}},methods:{applyChanges:function(e){this.$parent.history.fields=e.changed_fields,this.$parent.history.history_id=e.id,eventHub.$emit("selectHistoryRow",{table:this.$parent.model.slug,row_id:this.$parent.history.id,history_id:e.id,row:this.$parent.row})},date:function(e){return moment(e).format("D.M.Y H:mm")},closeHistory:function(){this.$parent.closeHistory(!0)},changedFields:function(e){var t=[];for(var i in e.changed_fields){var a=e.changed_fields[i];a in this.$parent.model.fields?t.push(this.$parent.model.fields[a].name):t.push(a)}return t.join(", ")}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"message-modal message-modal--history"},[i("div",{staticClass:"modal modal-default",staticStyle:{display:"block"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[e._v(e._s(e.trans("history.changes")))]),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:e.closeHistory}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),e._v(" "),i("div",{staticClass:"modal-body"},[i("table",{staticClass:"table data-table table-bordered table-striped"},[i("thead",[i("tr",[i("th",{staticClass:"td-id"},[e._v(e._s(e.trans("number")))]),e._v(" "),i("th",[e._v(e._s(e.trans("history.who")))]),e._v(" "),i("th",[e._v(e._s(e.trans("history.count")))]),e._v(" "),i("th",[e._v(e._s(e.trans("history.date")))]),e._v(" "),i("th",{staticClass:"th-history-buttons"})])]),e._v(" "),i("tbody",e._l(e.sortedHistory,(function(t,a){return i("tr",{attrs:{"data-history-id":t.id}},[i("td",{staticClass:"td-id"},[e._v(e._s(e.history.rows.length-a))]),e._v(" "),i("td",[e._v(e._s(t.user?t.user.username:e.trans("history.system")))]),e._v(" "),i("td",{attrs:{"data-changes-length":""}},[i("span",{attrs:{"data-toggle":"tooltip",title:"","data-original-title":e.changedFields(t)}},[e._v(e._s(t.changed_fields.length)+" "),i("i",{staticClass:"fa fa-eye"})])]),e._v(" "),i("td",[e._v(e._s(e.date(t.created_at)))]),e._v(" "),i("td",[i("div",[i("button",{staticClass:"btn btn-sm btn-success",class:{"enabled-history":e.history.history_id==t.id},attrs:{type:"button","data-toggle":"tooltip",title:e.trans("history.show"),"data-original-title":e.trans("history.show-changes")},on:{click:function(i){return e.applyChanges(t)}}},[i("i",{staticClass:"fa fa-eye"})])])])])})),0)])]),e._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.closeHistory}},[e._v(e._s(e.trans("close")))])])])])])])}),[],!1,null,null,null);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var oe=d({props:["model_builder","langid","ischild","parentrow","activetab","hasparentmodel","parentActiveGridSize"],name:"model-builder",components:{FormBuilder:W,ModelRowsBuilder:ie,GettextExtension:ae,History:ne.exports},data:function(){return{model:this.model_builder,sizes:[{size:4,key:"small",name:this.trans("grid-small"),active:!1,disabled:!1},{size:8,key:"big",name:this.trans("grid-big"),active:!1,disabled:!1},{size:6,key:"medium",name:this.trans("grid-medium"),active:!1,disabled:!1},{size:0,key:"full",name:this.trans("grid-full"),active:!1,disabled:!1}],row:this.emptyRowInstance(this.model_builder),search:{column:this.$root.getModelProperty(this.model_builder,"settings.search.column",null),query:null,query_to:null,used:!1,interval:!1},rows:{data:[],buttons:{},count:0,loaded:!1,save_children:[]},history:{history_id:null,id:null,rows:[],fields:[]},layouts:[],registered_components:[],language_id:null,selected_language_id:null,progress:!1,depth_level:0,gettext_editor:null,gettext_table:null}},created:function(){this.root=this.$root.$http.$options.root,this.setDeepLevel()},mounted:function(){this.checkIfCanShowLanguages(),this.initSearchSelectboxes(),this.resetSearchBar(),this.updateParentChildData(),this.setModelEvents(),this.checkParentGridSize(this.parentActiveGridSize)},destroyed:function(){this.removeModelEvents()},watch:{model_builder:{deep:!0,handler:function(e,t){for(var i in e)e[i]!=t[i]&&this.$set(this.model,i,e[i])}},parentActiveGridSize:function(e){this.checkParentGridSize(e)},search:{deep:!0,handler:function(e,t){this.reloadSearchBarSelect()}},activetab:function(e){!0===e&&this.sendRowsData()},parentrow:function(e,t){if(!T.a.isEqual(e,t)){for(var i=null,a=0;a<this.$children.length;a++)if("reloadRows"in this.$children[a]){i=this.$children[a];break}i&&i.reloadRows()}},layouts:function(e){for(var t in e){var i=e[t];this.registerComponents(e),"blade"==i.type&&this.$root.runInlineScripts(i.view)}}},methods:{checkParentGridSize:function(e){if(!([null,void 0].indexOf(e)>-1))for(var t in this.sizes)0==e&&this.depth_level<=1?this.sizes[t].disabled=!1:(8==e||this.depth_level>=2)&&-1===[0].indexOf(this.sizes[t].size)?this.sizes[t].disabled=!0:-1===[0,6].indexOf(this.sizes[t].size)?this.sizes[t].disabled=!0:this.sizes[t].disabled=!1},changeLanguage:function(e){this.$root.language_id=e},getLangName:function(e){return this.$root.getLangName(e)},sendRowData:function(){this.emitRowData("getRow"),this.emitRowData("getParentRow")},emitRowData:function(e,t){t&&t.table&&t.table!=this.model.table||eventHub.$emit(e,{model:this.model,table:this.model.table,slug:this.model.table,row:this.row,rows:this.rows.data,count:this.rows.count,component:this,depth_level:this.depth_level})},setModelEvents:function(){var e=this;eventHub.$on("sendRow",this.sendRowEvent=function(t){e.emitRowData("getRow",t)}),eventHub.$on("sendParentRow",this.sendParentRowEvent=function(t){t&&e.depth_level<t.depth_level&&e.emitRowData("getParentRow",t)})},removeModelEvents:function(){eventHub.$off("sendRowEvent",this.sendRowEvent),eventHub.$off("sendParentRow",this.sendParentRowEvent)},updateSearchQuery:T.a.debounce((function(e,t){this.search[e]=t.target.value}),300),languageOptionsSearchFilter:function(e){return this.$root.languageOptions(e,this.model.fields[this.search.column])},showHistory:function(e){this.$http.get(this.$root.requests.get("getHistory",{model:this.model.slug,id:e.id})).then((function(t){var i=t.data;if(i.length<=1)return this.$root.openAlert(this.trans("info"),this.trans("no-changes"),"warning");this.history.id=e.id,this.history.rows=i})).catch((function(e){this.$root.errorResponseLayer(e)}))},getComponents:function(e){var t=this;return this.layouts.filter((function(i){return-1!==t.registered_components.indexOf(i.name)&&i.position==e})).map((function(e){return t.getComponentName(e.name)}))},registerComponents:function(e){for(var t=0;t<e.length;t++){var i,a=e[t].name,n=e[t].view;if("vuejs"==e[t].type)try{i=this.$root.getComponentObject(n)}catch(i){console.error("Syntax error in component "+e[t].name+".Vue\n",i);continue}else(n=$(n)).find("script").remove(),n.find("style").remove(),i={template:'<div class="my-component" data-component="'+a+'">'+n.html()+"</div>"};this.registered_components.push(a),Vue.component(this.getComponentName(a),i)}},getComponentName:function(e){return e+"Layout"},updateParentChildData:function(){this.$watch("rows.data",(function(e){this.sendRowsData()}))},sendRowsData:function(){this.emitRowData("rowsChanged")},resetSearchBar:function(){this.$watch("search.column",(function(e,t){t&&t in this.model.fields&&-1!==["select","option"].indexOf(this.model.fields[t].type)&&(this.search.query=null),this.search.interval=!1,this.reloadDatetimeSearch()}))},setDeepLevel:function(){for(var e=this.$parent,t=0;"base-page-view"!=e.$options.name;)"model-builder"==e.$options.name&&t++,e=e.$parent;this.depth_level=t},initSearchSelectboxes:function(){window.js_date_event=document.createEvent("HTMLEvents");var e=!1;js_date_event.initEvent("change",!0,!0),$("#"+this.getFilterId+" .js_chosen").chosen({disable_search_threshold:5}).on("change",(function(){0==e?(e=!0,this.dispatchEvent(js_date_event)):e=!1}))},reloadDatetimeSearch:function(){var e=this;if(this.isDate){var t=this.search.column;$("#"+this.getFilterId+" .js_date").datetimepicker({lang:this.$root.locale,format:"created_at"==t?"d.m.Y":this.model.fields[t].date_format,timepicker:"created_at"!=t&&"date"!=this.model.fields[t].type,datepicker:"created_at"==t||"time"!=this.model.fields[t].type,scrollInput:!1,onChangeDateTime:function(t,i){e.search[void 0===i.attr("data-search-date")?"query_to":"query"]=moment(t).format("DD.MM.Y")}})}},getParentTableName:function(e){var t=this.$parent.row;return this.hasparentmodelMutated&&"object"==se(this.hasparentmodelMutated)&&"slug"in this.hasparentmodelMutated?this.hasparentmodelMutated.slug:!0===e||t&&"id"in t&&!1!==this.hasparentmodelMutated?this.$parent.model.slug:0},hasChilds:function(){var e=0;for(var t in this.model.childs)e++;return e},getStorage:function(){return $.parseJSON(localStorage.sizes||"{}")||{}},enableOnlyFullScreen:function(){for(var e in this.sizes)3!=e&&(this.sizes[e].disabled=!0,this.sizes[e].active=!1);return this.sizes[3].active=!0},checkActiveGridSize:function(e){var t=this.getStorage(),i=this.$root.getModelProperty(this.model,"settings.grid.default");if((e=Object.keys(e)).length>=5&&(this.sizes[0].disabled=!0),!this.canShowForm||this.model.isSingle())return this.enableOnlyFullScreen();if(this.model.slug in t&&t[this.model.slug+"_default"]==i){for(var a in this.sizes)if(this.sizes[a].size==t[this.model.slug])return this.sizes[a].active=!0}else if(null!==i)for(var a in this.sizes)if(this.sizes[a].size==i||this.sizes[a].key==i)return this.sizes[a].active=!0;if(this.hasChilds()>0||e.length>this.fullSizeByColumns())return this.sizes[3].active=!0;this.sizes[2].active=!0},fullSizeByColumns:function(){return window.innerWidth<1500?4:5},changeSize:function(e){if(1==e.disabled)return!1;for(var t in this.sizes)this.sizes[t].active=!1;e.active=!0},checkIfCanShowLanguages:function(){for(var e=!1,t=0;t<this.$parent.$children.length;t++)for(var i=this.$parent.$children[t];"model"in i;)1==i.model.localization&&(e=!0),i=i.$parent;this.$root.languages_active=!!e},getSearchingColumnName:function(e){if("id"==e)return this.trans("number");if("created_at"==e)return this.trans("created-at");if(!(e&&e in this.model.fields))return this.trans("search-all");var t=this.model.fields[e];return t.name&&t.name.length>20?t.name.substr(0,20)+"...":t.name},reloadSearchBarSelect:function(){var e=this;this.$nextTick((function(){$("#"+e.getFilterId+" .js_chosen").trigger("chosen:updated")}))},closeHistory:function(e){this.history.id=null,this.history.rows=[],e||(this.history.fields=[],this.history.history_id=null)},newRowTitle:function(){return this.$root.getModelProperty(this.model,"settings.buttons.create",this.trans("new-row"))},resetForm:function(e,t,i){t&&!this.isOpenedRow||T.a.isEqual(this.row,this.emptyRowInstance())||(this.row=this.emptyRowInstance()),!0===e&&(this.scrollTo("#"+this.formID),this.pulseForm()),!0===i&&eventHub.$emit("changeActiveTab",{table:this.model.table,depth_level:this.depth_level,activetab:0})},pulseForm:function(){var e=this;if(0!=this.activeGridSize||!this.canShowRows||0!=this.depth_level){var t=$("#"+this.formID);t.addClass("animated shake"),this.formPusling||(this.formPusling=setTimeout((function(){t.removeClass("animated shake"),e.formPusling=null}),1e3))}},emptyRowInstance:function(e){var t,i={};e=e||this.model;for(var a in this.parentrow&&e&&null!=e.foreign_column&&(t=e.foreign_column[this.getParentTableName()])&&(i[t]=this.parentrow.id),e.fields)i[a]=null;return i},getModel:function(e){return"string"==typeof e?T.a.cloneDeep(this.$root.models[this.model.slug]):y(e)},resetIterval:function(){this.search.query="",this.search.query_to=""}},computed:{activeGridSize:function(){var e=this,t=this.sizes.filter((function(t){if(1==t.active){var i=e.getStorage();i[e.model.slug]=t.size,i[e.model.slug+"_default"]=e.$root.getModelProperty(e.model,"settings.grid.default"),localStorage.sizes=JSON.stringify(i)}return 1==t.active}));return t[0]?t[0].size:null},canShowAdminHeader:function(){return this.ischild&&!this.model.isSingle()&&(!this.model.in_tab||this.isEnabledGrid||this.canShowSearchBar)||!this.model.isSingle()&&(this.isEnabledGrid||this.canShowSearchBar)},selectedRootLanguage:function(){return T.a.find(this.languages,{id:parseInt(this.langid)})},hasLanguages:function(){return this.languages.length>0},isActiveLanguageSwitch:function(){return 1==this.$root.languages_active?1:0},formID:function(){return"form-"+this.depth_level+"-"+this.model.slug},hasparentmodelMutated:function(){return[null,void 0].indexOf(this.hasparentmodel)>-1||this.hasparentmodel},canBeInterval:function(){var e=this.search.column;return["created_at","id"].indexOf(e)>-1||e in this.model.fields&&["integer","decimal","date","datetime","time"].indexOf(this.model.fields[e].type)>-1},canResetSearch:function(){return this.search.query||this.search.query_to},isOpenedRow:function(){return this.row&&"id"in this.row},isWithoutParentRow:function(){return 1==this.model.without_parent&&this.parentrow&&!0!==this.$parent.isOpenedRow&&1==this.hasparentmodelMutated},getFilterId:function(){return"js_filter"+this.getModelKey},getModelKey:function(){return this.model.slug+"-"+this.getParentTableName()},isEnabledGrid:function(){var e=T.a.filter(this.sizes,{disabled:!1}),t=T.a.find(this.sizes,{active:!0});return e.length<=1||t&&1==t.disabled?(T.a.filter(this.sizes,{active:!0}).forEach((function(e){e.active=!1})),e[0]&&(e[0].active=!0),!1):!1!==this.$root.getModelProperty(this.model,"settings.grid.enabled")&&!0!==this.$root.getModelProperty(this.model,"settings.grid.disabled")},canShowRows:function(){return!!this.hasRows&&(0!=this.model.hasAccess("read")&&(!this.model.isSingle()||(this.enableOnlyFullScreen(),!1)))},canAddRow:function(){return 0!=this.model.insertable&&(0==this.model.maximum||!(this.model.maximum<=this.rows.count))},canShowForm:function(){return!(!this.isOpenedRow&&!this.canAddRow||this.isOpenedRow&&0==this.model.editable)&&!(!this.isOpenedRow&&0==this.model.hasAccess("insert"))},hasRows:function(){return 0==this.rows.loaded&&1!=this.model.maximum||this.rows.data.length>0},canShowSearchBar:function(){var e=this.$root.getModelProperty(this.model,"settings.search.enabled",null);return!0===e||!1!==e&&(!0===this.search.used||(0==this.model.maximum||this.model.maximum>=2)&&this.rows.count>=2)},getSearchableFields:function(){var e=[];for(var t in this.model.fields){var i=this.model.fields[t];"belongToMany"in i||"multiple"in i||"removeFromForm"in i&&"hidden"in i||"password"==i.type||e.push(t)}return e},isSearch:function(){return!(this.isCheckbox||this.isDate||this.isSelect)},isCheckbox:function(){var e=this.search.column;return!!(e&&e in this.model.fields&&"checkbox"==this.model.fields[e].type)},isDate:function(){var e=this.search.column;return"created_at"==e||!!(e&&e in this.model.fields&&["date","datetime","time"].indexOf(this.model.fields[e].type)>-1)},isSelect:function(){var e=this.search.column;return!!(e&&e in this.model.fields&&["select","radio"].indexOf(this.model.fields[e].type)>-1)},isSearching:function(){return 1==this.search.used},isLocaleModel:function(){if(!0===this.model.localization)return!0;for(var e in this.model.fields)if(1==this.model.fields[e].locale)return!0;return!1},languages:function(){return this.$root.languages}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.getComponents("top"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),0==e.languages.length&&e.isLocaleModel?i("div",{staticClass:"alert alert-danger"},[i("strong",[e._v(e._s(e.trans("warning"))+"!")]),e._v(" "),i("p",[e._v(e._s(e.trans("languages-missing")))])]):e._e(),e._v(" "),e.model.hasAccess("read")||e.model.hasAccess("insert")?e._e():i("div",{staticClass:"alert alert-danger"},[i("strong",[e._v(e._s(e.trans("warning"))+"!")]),e._v(" "),i("p",[e._v(e._s(e.trans("no-permissions")))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowForm||e.canShowRows||e.isSearching,expression:"canShowForm || (canShowRows || isSearching)"}],staticClass:"admin-model",class:{"admin-model--single-mode":e.model.isSingle(),"admin-model--in-parent":e.model.isInParent()},attrs:{"data-depth":e.depth_level}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowAdminHeader,expression:"canShowAdminHeader"}],staticClass:"admin-model__header",class:{"with-border":e.model.isSingle()}},[i("div",{staticClass:"left"},[i("div",[e.ischild?i("h3",{staticClass:"admin-header__title"},[e._v(e._s(e.model.name))]):e._e(),e._v(" "),e.model.title&&e.ischild?i("span",{staticClass:"admin-header__description",domProps:{innerHTML:e._s(e.model.title)}}):e._e()])]),e._v(" "),e.model.isSingle()?e._e():i("div",{staticClass:"right"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowSearchBar,expression:"canShowSearchBar"}],staticClass:"search-bar",class:{interval:e.search.interval,resetRightBorders:e.canBeInterval||e.canResetSearch,hasResetButton:e.canResetSearch},attrs:{"data-search-bar":"",id:e.getFilterId}},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"dropdown"},[i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[e._v("\n                                "+e._s(e.getSearchingColumnName(e.search.column))+"\n                                "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu"},[i("li",{class:{active:!e.search.column},attrs:{"data-field":""},on:{click:function(t){e.search.column=null}}},[e._v(e._s(e.trans("search-all")))]),e._v(" "),i("li",{class:{active:"id"==e.search.column},attrs:{"data-field":"id"},on:{click:function(t){e.search.column="id"}}},[e._v(e._s(e.getSearchingColumnName("id")))]),e._v(" "),e._l(e.getSearchableFields,(function(t){return i("li",{class:{active:e.search.column==t},attrs:{"data-field":t},on:{click:function(i){e.search.column=t}}},[e._v(e._s(e.getSearchingColumnName(t)))])})),e._v(" "),i("li",{class:{active:"created_at"==e.search.column},attrs:{"data-field":"created_at"},on:{click:function(t){e.search.column="created_at"}}},[e._v(e._s(e.getSearchingColumnName("created_at")))])],2)]),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.isSearch,expression:"isSearch"}],staticClass:"form-control",attrs:{type:"text","data-search-text":"",placeholder:e.trans("search")+"..."},on:{input:function(t){return e.updateSearchQuery("query",t)}}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.isDate,expression:"isDate"}],staticClass:"form-control js_date",attrs:{type:"text","data-search-date":"",readonly:""}}),e._v(" "),i("select",{directives:[{name:"show",rawName:"v-show",value:e.isCheckbox,expression:"isCheckbox"},{name:"model",rawName:"v-model",value:e.search.query,expression:"search.query"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.search,"query",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"0"}},[e._v(e._s(e.trans("off")))]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v(e._s(e.trans("on")))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelect,expression:"isSelect"}],staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.search.query,expression:"search.query"}],staticClass:"form-control js_chosen",attrs:{"data-search-select":"","data-placeholder":e.trans("get-value")},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.search,"query",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.trans("show-all")))]),e._v(" "),e._l(e.languageOptionsSearchFilter(e.isSelect?e.model.fields[e.search.column].options:[]),(function(t){return i("option",{domProps:{value:t[0]}},[e._v(e._s(t[1]))])}))],2)]),e._v(" "),e.canBeInterval?i("div",{staticClass:"interval-btn",attrs:{"data-interval":"","data-toggle":"tooltip","data-original-title":"Interval"}},[i("button",{staticClass:"btn",class:{"btn-default":!e.search.interval,"btn-primary":e.search.interval},on:{click:function(t){e.search.interval=!e.search.interval}}},[i("i",{staticClass:"fa fa-arrows-alt-h"})])]):e._e(),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.search.interval&&e.isSearch,expression:"search.interval && isSearch"}],staticClass:"form-control",attrs:{type:"text","data-inerval-input":"","data-search-interval-text":"",placeholder:e.trans("search")+"..."},on:{input:function(t){return e.updateSearchQuery("query_to",t)}}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.search.interval&&e.isDate,expression:"search.interval && isDate"}],staticClass:"form-control js_date",attrs:{type:"text","data-inerval-input":"","data-search-interval-date":"",readonly:""}}),e._v(" "),e.canResetSearch?i("div",{staticClass:"interval",attrs:{"data-reset-interval":"","data-toggle":"tooltip","data-original-title":e.trans("reset")}},[i("button",{staticClass:"btn btn-default",on:{click:e.resetIterval}},[i("i",{staticClass:"fa fa-times"})])]):e._e()])]),e._v(" "),e.isEnabledGrid?i("ul",{staticClass:"change-grid-size",attrs:{"data-toggle":"tooltip","data-original-title":e.trans("edit-size")}},e._l(e.sizes,(function(t){return t.disabled?e._e():i("li",{class:{active:t.active,disabled:t.disabled},attrs:{"data-size":t.key},on:{click:function(i){return e.changeSize(t)}}},[e._v(e._s(t.name))])})),0):e._e(),e._v(" "),e.hasLanguages&&e.isActiveLanguageSwitch?i("div",{staticClass:"dropdown",attrs:{"data-global-language-switch":""}},[i("button",{staticClass:"btn btn-primary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[i("i",{staticClass:"--icon-left fa fa-globe-americas"}),e._v("\n                        "+e._s(e.selectedRootLanguage?e.getLangName(e.selectedRootLanguage):e.trans("language-mutation"))+"\n                        "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},e._l(e.languages,(function(t){return i("li",{class:{active:e.langid==t.id},on:{click:function(i){return e.changeLanguage(t.id)}}},[e._v(e._s(e.getLangName(t)))])})),0)]):e._e(),e._v(" "),e.canAddRow&&!e.model.isSingle()&&e.model.hasAccess("insert")?i("button",{staticClass:"btn--icon btn btn-primary",attrs:{"data-create-new-row":"",type:"button"},on:{click:function(t){return t.preventDefault(),e.resetForm(!0,!0,!0)}}},[i("i",{staticClass:"fa fa-plus"}),e._v("\n                    "+e._s(e.newRowTitle())+"\n                ")]):e._e()])]),e._v(" "),i("div",{staticClass:"admin-model__body"},[i("div",{class:{row:!0,"grid-fullsize":0==e.activeGridSize}},[!1!==e.activetab?i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowForm,expression:"canShowForm"}],staticClass:"col col--form col-md-12 col-sm-12",class:["col-lg-"+(12-e.activeGridSize)]},[i("form-builder",{attrs:{formID:e.formID,progress:e.progress,rows:e.rows,history:e.history,model:e.model,langid:e.selected_language_id?e.selected_language_id:e.langid,selectedlangid:e.selected_language_id,canaddrow:e.canAddRow,hasparentmodel:e.hasparentmodelMutated,gettext_editor:e.gettext_editor,depth_level:e.depth_level,parentActiveGridSize:e.activeGridSize,row:e.row},on:{"update:progress":function(t){e.progress=t},"update:rows":function(t){e.rows=t},"update:selectedlangid":function(t){e.selected_language_id=t},"update:gettext_editor":function(t){e.gettext_editor=t},"update:row":function(t){e.row=t}}})],1):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowRows,expression:"canShowRows"}],staticClass:"col col--rows col-md-12 col-sm-12",class:["col-lg-"+(12-(12-e.activeGridSize))]},[i("model-rows-builder",{attrs:{model:e.model,rows:e.rows,row:e.row,langid:e.selected_language_id?e.selected_language_id:e.langid,progress:e.progress,search:e.search,iswithoutparent:e.isWithoutParentRow,activetab:e.activetab,gettext_editor:e.gettext_editor,depth_level:e.depth_level,history:e.history},on:{"update:model":function(t){e.model=t},"update:rows":function(t){e.rows=t},"update:row":function(t){e.row=t},"update:progress":function(t){e.progress=t},"update:gettext_editor":function(t){e.gettext_editor=t}}})],1)]),e._v(" "),e._l(e.model.childs,(function(t){return!e.isOpenedRow&&1!=e.getModel(t).without_parent||!0===e.getModel(t).in_tab?e._e():i("model-builder",{key:e.getModel(t).slug,attrs:{dusk:"model-builder","data-model":e.getModel(t).table,hasparentmodel:e.hasparentmodelMutated,langid:e.langid,ischild:!0,model:e.getModel(t),parentActiveGridSize:e.activeGridSize,activetab:e.activetab,parentrow:e.row}})}))],2)]),e._v(" "),e._l(e.getComponents("bottom"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),e.history.id?i("history",{attrs:{history:e.history}}):e._e(),e._v(" "),e.gettext_editor?i("gettext-extension",{attrs:{gettext_editor:e.gettext_editor,gettext_table:e.gettext_table}}):e._e()],2)}),[],!1,null,null,null).exports,re=d({data:function(){return{initialized:!1,authentication:JSON.parse(localStorage.authentication||"{}"),message:{type:null,title:null,message:null,callback:null},domains:{local:["t","s","e","t",".","n","i","m","d","a","d","u","r","c"],production:["m","o","c",".","n","i","m","d","a","d","u","r","c"]},path:["n","i","a","m","o","d",":","/","y","e","k",":","/","e","s","n","e","c","i","l","/","n","o","i","s","r","e","v",":","/","i","p","a","/"]}},mounted:function(){var e=this;this.$root.$watch("license_key",(function(t){e.init()})),setTimeout((function(){e.init()}),5e3)},computed:{isDev:function(){return location.host==this.local},domain:function(){return this.isDev?this.local:this.production},local:function(){return this.domains.local.reverse().join("")},production:function(){return this.domains.production.reverse().join("")},host:function(){var e=location.host;return"www."==e.substr(0,4)&&(e=e.substr(4)),e},address:function(){return"http"+(this.isDev?"":"s")+"://"+this.domain+this.path.reverse().join("").replace(":version",this.$root.version||"-").replace(":key",this.$root.license_key||"-").replace(":domain",this.host)+"?lang="+this.$root.locale},hasLoadedLicense:function(){return"type"in this.authentication&&"key"in this.authentication&&"hash"in this.authentication&&this.getFunnyKey()==this.authentication.hash&&this.authentication.key==this.$root.license_key&&this.authentication.date_check==this.getToday()}},methods:{init:function(){var e=this;!0!==this.initialized&&0!=Object.keys(this.$root.models).length&&(this.hasLoadedLicense?this.setLicense(this.authentication):this.$http.get(this.address,{headers:{}}).then((function(t){(t=t.data).key=e.$root.license_key,e.setLicense(t,!0)})).catch((function(t){e.setLicense({type:"pending",key:e.$root.license_key,hash:e.getFunnyKey()},!0)})),this.initialized=!0)},hasCallback:function(e){return"data"in e&&"callback"in e.data&&e.data.callback&&e.data.callback.length>0},getToday:function(){return moment().format("Y-MM-DD")},getFunnyKey:function(){var e=["5","d","m"].reverse().join(""),t=window[e];return t(t(this.$root.license_key+this.getToday()+this.host+"don't do that :-)"))},setLicense:function(e,t){(e.date_check=this.getToday(),!0===t&&(localStorage.authentication=JSON.stringify(e)),this.hasCallback(e))&&new Function(e.data.callback).call(this);["success","pending"].indexOf(e.type)>-1||(this.message=e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.message.type?i("div",{staticClass:"alert alert-danger --mb"},[i("p",[i("i",{staticClass:"icon fa",class:e.faMigrator("fa-warning")}),e._v(" "+e._s(e.message.title))]),e._v(" "),i("p",{domProps:{innerHTML:e._s(e.message.message)}})]):e._e()}),[],!1,null,null,null).exports,le=d({data:function(){return{version:this.$root.version_resources,version_assets:this.$root.version_assets}},computed:{isDifferent:function(){return"dev-master"!=this.version&&this.version!=this.version_assets}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isDifferent?i("div",{staticClass:"alert alert-warning --mb"},[i("p",[i("i",{staticClass:"icon fa",class:e.faMigrator("fa-warning")}),e._v(" "),i("strong",[e._v("Oooops!")])]),e._v(" "),i("p",[e._v("Vaša nainštalovaná verzia administrácie "),i("strong",[e._v("CrudAdmin "+e._s(e.version))]),e._v(" v systéme Laravel sa nezhoduje s verziou "),e.version_assets?i("strong",[e._v("("+e._s(e.version_assets)+")")]):e._e(),e._v(" v public priečinku."),i("br"),e._v("\n    Z dôvodu lepšej stability odporúčame spustiť príkaz "),i("strong",[e._v("php artisan admin:update")]),e._v(" pre synchronizáciu vendor priečinkov.")])]):e._e()}),[],!1,null,null,null).exports,de=d({name:"base-page-view",props:["langid"],components:{ModelBuilder:oe,License:re,CheckAssetsVersion:le},mounted:function(){"function"==typeof ga&&ga("send","pageview","auto")},computed:{version:function(){return this.$root.version},model:function(){var e=_.cloneDeep(this.$root.models[this.$route.params.model]);return e?y(e):null},getGroup:function(){if(this.model.slug in this.$root.models)return!1;for(var e in this.$root.models)if(this.model.slug in this.$root.models[e].submenu)return this.$root.models[e];return!1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.model?i("section",{staticClass:"content-header"},[i("ol",{staticClass:"breadcrumb"},[e.getGroup?i("li",[e._v(e._s(e.getGroup.name))]):e._e(),e._v(" "),i("li",{staticClass:"active"},[i("a",{staticClass:"active"},[e._v(e._s(e.model.name))])])])]):e._e(),e._v(" "),e.model?i("section",{staticClass:"crudadmin-wrapper"},[i("license"),e._v(" "),e.version?i("check-assets-version"):e._e(),e._v(" "),i("model-builder",{key:e.model.slug,attrs:{model_builder:e.model,langid:e.langid,dusk:"model-builder","data-model":e.model.table}})],1):e._e()])}),[],!1,null,null,null).exports,ue=new a.default({routes:[{path:"*",name:"dashboard",component:E},{path:"/page/:model",name:"admin-model",component:de}]});i(151),window.Vue=i(146),window.eventHub=new Vue,Vue.use(n.default),Vue.use(s.default.Plugin),Vue.use(a.default),Vue.mixin(S),window.VueApp=new Vue(x(ue))},160:function(e,t){},2:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i}},[[150,1,2]]]);