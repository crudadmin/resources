(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t){var i,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var l,d=[],c=!1,u=-1;function f(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=d.length;t;){for(l=d,d=[];++u<t;)l&&l[u].run();u=-1,t=d.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new p(e,t)),1!==d.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},136:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={name:"gettext-extension",props:["gettext_editor","gettext_table"],data:function(){return{translates:{},showMissing:!1,missing:[],plurals:[],plural_forms:"",query:null,changes:{},limit:20,loaded:!1}},mounted:function(){this.loadTranslations()},computed:{availableTranslated:function(){var e={};for(var t in this.translates)-1!==this.missing.indexOf(t)&&!0!==this.showMissing||(e[t]=this.translates[t]);return e},filtratedTranslates:function(){var e={},t=(this.query+"").toLowerCase(),i=0;for(var n in this.availableTranslated)(0==this.limit||i<this.limit)&&(!this.query||this.hasChange(n)||this.availableTranslated[n].join("").toLowerCase().indexOf(t)>-1||n.toLowerCase().indexOf(t)>-1)&&(e[n]=this.availableTranslated[n],i++);return e},fullCount:function(){return Object.keys(this.availableTranslated).length},resultLength:function(){return Object.keys(this.filtratedTranslates).length},pluralLength:function(){var e=this.plural_forms.match(/nplurals\=(\d+)/);return parseInt(e[1]||2)},getPluralsIntervals:function getPluralsIntervals(){for(var forms=this.plural_forms.split(";")[1].replace("plural=",""),plurals=[],is_double=2==this.pluralLength,i=0;i<this.pluralLength;i++){for(var start=null,end=null,a=1;a<100;a++){var statement=forms.replace(/n/g,a),condition=eval(statement),result=parseInt(condition);if(null===start&&(is_double&&(0==i&&!1===condition||i>0&&!0===condition)||result===i)&&(start=a),null!==start&&null===end&&!is_double&&result!=i){i>0&&(end=a-1);break}}plurals.push([start,start==end?null:end])}return plurals=plurals.map((function(e,t){e=e.filter((function(e){return e}));return t+1==plurals.length&&1==e.length?e[0]+"+":e.join(" - ")})),plurals}},methods:{close:function(){this.$parent.gettext_editor=null},loadTranslations:function(){var e=this.$root.requests.translations.replace(":id",this.gettext_editor.id).replace(":table",this.gettext_table);this.$http.get(e).then((function(e){var t=e.data.messages;this.missing=e.data.missing,this.plurals=e.data.plurals,this.plural_forms=e.data["plural-forms"],this.translates=e.data.messages[Object.keys(t)[0]]||{},this.loaded=!0}))},isPlural:function(e){return this.plurals.indexOf(e)>-1},isMissing:function(e){return this.missing.indexOf(e)>-1},getPluralLength:function(e){return this.isPlural(e)?this.pluralLength:1},getPluralsPlaceholder:function(e,t){return this.isPlural(e)?e.indexOf("%d")>-1?e.replace("%d",this.getPluralsIntervals[t]):this.getPluralsIntervals[t]:""},getValue:function(e,t){return e&&e[t]||""},changeText:function(e,t,i){var n=e.target.value;this.isPlural(t)?(t in this.changes||this.$set(this.changes,t,this.translates[t]),this.changes[t][i]=n):this.$set(this.changes,t,n),this.translates[t][i]=n},saveAndClose:function(){var e=this,t=this.$root.requests.get("update_translations",{id:this.gettext_editor.id,table:this.gettext_table});this.$http.post(t,{changes:this.changes}).then((function(){e.close()}))},hasChange:function(e){return e in this.changes}}}},137:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},138:function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var n,a,o,r,s,l=1,d={},c=!1,u=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(a=u.documentElement,n=function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(r="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&p(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(r+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var a={callback:e,args:t};return d[l]=a,n(l),l++},f.clearImmediate=h}function h(e){delete d[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=d[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(3),i(134))},143:function(e,t,i){"use strict";i.r(t),function(e){var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,n=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(i&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var a=i&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),n))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function r(e,t){if(1!==e.nodeType)return[];var i=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?i[t]:i}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=r(e),i=t.overflow,n=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(i+a+n)?e:l(s(e))}function d(e){return e&&e.referenceNode?e.referenceNode:e}var c=i&&!(!window.MSInputMethodContext||!document.documentMode),u=i&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?c:10===e?u:c||u}function h(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,i=e.offsetParent||null;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===r(i,"position")?h(i):i:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?e:t,a=i?t:e,o=document.createRange();o.setStart(n,0),o.setEnd(a,0);var r,s,l=o.commonAncestorContainer;if(e!==l&&t!==l||n.contains(a))return"BODY"===(s=(r=l).nodeName)||"HTML"!==s&&h(r.firstElementChild)!==r?h(l):l;var d=p(e);return d.host?m(d.host,t):m(e,p(t).host)}function g(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var n=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||n)[t]}return e[t]}function v(e,t){var i="x"===t?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"],10)+parseFloat(e["border"+n+"Width"],10)}function b(e,t,i,n){return Math.max(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],f(10)?parseInt(i["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,i=e.documentElement,n=f(10)&&getComputedStyle(i);return{height:b("Height",t,i,n),width:b("Width",t,i,n)}}var y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),x=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function k(e){return C({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var i=g(e,"top"),n=g(e,"left");t.top+=i,t.left+=n,t.bottom+=i,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?_(e.ownerDocument):{},s=o.width||e.clientWidth||a.width,l=o.height||e.clientHeight||a.height,d=e.offsetWidth-s,c=e.offsetHeight-l;if(d||c){var u=r(e);d-=v(u,"x"),c-=v(u,"y"),a.width-=d,a.height-=c}return k(a)}function O(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=f(10),a="HTML"===t.nodeName,o=S(e),s=S(t),d=l(e),c=r(t),u=parseFloat(c.borderTopWidth,10),h=parseFloat(c.borderLeftWidth,10);i&&a&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=k({top:o.top-s.top-u,left:o.left-s.left-h,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!n&&a){var m=parseFloat(c.marginTop,10),v=parseFloat(c.marginLeft,10);p.top-=u-m,p.bottom-=u-m,p.left-=h-v,p.right-=h-v,p.marginTop=m,p.marginLeft=v}return(n&&!i?t.contains(d):t===d&&"BODY"!==d.nodeName)&&(p=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=g(t,"top"),a=g(t,"left"),o=i?-1:1;return e.top+=n*o,e.bottom+=n*o,e.left+=a*o,e.right+=a*o,e}(p,t)),p}function $(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===r(t,"transform");)t=t.parentElement;return t||document.documentElement}function E(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},c=a?$(e):m(e,d(t));if("viewport"===n)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.ownerDocument.documentElement,n=O(e,i),a=Math.max(i.clientWidth,window.innerWidth||0),o=Math.max(i.clientHeight,window.innerHeight||0),r=t?0:g(i),s=t?0:g(i,"left");return k({top:r-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:a,height:o})}(c,a);else{var u=void 0;"scrollParent"===n?"BODY"===(u=l(s(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===n?e.ownerDocument.documentElement:n;var f=O(u,c,a);if("HTML"!==u.nodeName||function e(t){var i=t.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===r(t,"position"))return!0;var n=s(t);return!!n&&e(n)}(c))o=f;else{var h=_(e.ownerDocument),p=h.height,v=h.width;o.top+=f.top-f.marginTop,o.bottom=p+f.top,o.left+=f.left-f.marginLeft,o.right=v+f.left}}var b="number"==typeof(i=i||0);return o.left+=b?i:i.left||0,o.top+=b?i:i.top||0,o.right-=b?i:i.right||0,o.bottom-=b?i:i.bottom||0,o}function D(e,t,i,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var r=E(i,n,o,a),s={top:{width:r.width,height:t.top-r.top},right:{width:r.right-t.right,height:r.height},bottom:{width:r.width,height:r.bottom-t.bottom},left:{width:t.left-r.left,height:r.height}},l=Object.keys(s).map((function(e){return C({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),d=l.filter((function(e){var t=e.width,n=e.height;return t>=i.clientWidth&&n>=i.clientHeight})),c=d.length>0?d[0].key:l[0].key,u=e.split("-")[1];return c+(u?"-"+u:"")}function M(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return O(i,n?$(t):m(t,d(i)),n)}function T(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),i=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+i}}function j(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function A(e,t,i){i=i.split("-")[0];var n=T(e),a={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(i),r=o?"top":"left",s=o?"left":"top",l=o?"height":"width",d=o?"width":"height";return a[r]=t[r]+t[l]/2-n[l]/2,a[s]=i===s?t[s]-n[d]:t[j(s)],a}function F(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function P(e,t,i){return(void 0===i?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===i}));var n=F(e,(function(e){return e[t]===i}));return e.indexOf(n)}(e,"name",i))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=e.function||e.fn;e.enabled&&o(i)&&(t.offsets.popper=k(t.offsets.popper),t.offsets.reference=k(t.offsets.reference),t=i(t,e))})),t}function R(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=D(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=A(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=P(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function I(e,t){return e.some((function(e){var i=e.name;return e.enabled&&i===t}))}function N(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var a=t[n],o=a?""+a+i:e;if(void 0!==document.body.style[o])return o}return null}function L(){return this.state.isDestroyed=!0,I(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[N("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function q(e){var t=e.ownerDocument;return t?t.defaultView:window}function z(e,t,i,n){i.updateBound=n,q(e).addEventListener("resize",i.updateBound,{passive:!0});var a=l(e);return function e(t,i,n,a){var o="BODY"===t.nodeName,r=o?t.ownerDocument.defaultView:t;r.addEventListener(i,n,{passive:!0}),o||e(l(r.parentNode),i,n,a),a.push(r)}(a,"scroll",i.updateBound,i.scrollParents),i.scrollElement=a,i.eventsEnabled=!0,i}function V(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}function B(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function G(e,t){Object.keys(t).forEach((function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&H(t[i])&&(n="px"),e.style[i]=t[i]+n}))}var U=i&&/Firefox/i.test(navigator.userAgent);function Y(e,t,i){var n=F(e,(function(e){return e.name===t})),a=!!n&&e.some((function(e){return e.name===i&&e.enabled&&e.order<n.order}));if(!a){var o="`"+t+"`",r="`"+i+"`";console.warn(r+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return a}var W=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=W.slice(3);function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=X.indexOf(e),n=X.slice(i+1).concat(X.slice(0,i));return t?n.reverse():n}var Q={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Z(e,t,i,n){var a=[0,0],o=-1!==["right","left"].indexOf(n),r=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=r.indexOf(F(r,(function(e){return-1!==e.search(/,|\s/)})));r[s]&&-1===r[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,d=-1!==s?[r.slice(0,s).concat([r[s].split(l)[0]]),[r[s].split(l)[1]].concat(r.slice(s+1))]:[r];return(d=d.map((function(e,n){var a=(1===n?!o:o)?"height":"width",r=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,i,n){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+a[1],r=a[2];if(!o)return e;if(0===r.indexOf("%")){var s=void 0;switch(r){case"%p":s=i;break;case"%":case"%r":default:s=n}return k(s)[t]/100*o}if("vh"===r||"vw"===r){return("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,a,t,i)}))}))).forEach((function(e,t){e.forEach((function(i,n){H(i)&&(a[t]+=i*("-"===e[n-1]?-1:1))}))})),a}var J={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,i=t.split("-")[0],n=t.split("-")[1];if(n){var a=e.offsets,o=a.reference,r=a.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",d=s?"width":"height",c={start:x({},l,o[l]),end:x({},l,o[l]+o[d]-r[d])};e.offsets.popper=C({},r,c[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var i=t.offset,n=e.placement,a=e.offsets,o=a.popper,r=a.reference,s=n.split("-")[0],l=void 0;return l=H(+i)?[+i,0]:Z(i,o,r,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var i=t.boundariesElement||h(e.instance.popper);e.instance.reference===i&&(i=h(i));var n=N("transform"),a=e.instance.popper.style,o=a.top,r=a.left,s=a[n];a.top="",a.left="",a[n]="";var l=E(e.instance.popper,e.instance.reference,t.padding,i,e.positionFixed);a.top=o,a.left=r,a[n]=s,t.boundaries=l;var d=t.priority,c=e.offsets.popper,u={primary:function(e){var i=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(i=Math.max(c[e],l[e])),x({},e,i)},secondary:function(e){var i="right"===e?"left":"top",n=c[i];return c[e]>l[e]&&!t.escapeWithReference&&(n=Math.min(c[i],l[e]-("right"===e?c.width:c.height))),x({},i,n)}};return d.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=C({},c,u[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,n=t.reference,a=e.placement.split("-")[0],o=Math.floor,r=-1!==["top","bottom"].indexOf(a),s=r?"right":"bottom",l=r?"left":"top",d=r?"width":"height";return i[s]<o(n[l])&&(e.offsets.popper[l]=o(n[l])-i[d]),i[l]>o(n[s])&&(e.offsets.popper[l]=o(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var i;if(!Y(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],o=e.offsets,s=o.popper,l=o.reference,d=-1!==["left","right"].indexOf(a),c=d?"height":"width",u=d?"Top":"Left",f=u.toLowerCase(),h=d?"left":"top",p=d?"bottom":"right",m=T(n)[c];l[p]-m<s[f]&&(e.offsets.popper[f]-=s[f]-(l[p]-m)),l[f]+m>s[p]&&(e.offsets.popper[f]+=l[f]+m-s[p]),e.offsets.popper=k(e.offsets.popper);var g=l[f]+l[c]/2-m/2,v=r(e.instance.popper),b=parseFloat(v["margin"+u],10),_=parseFloat(v["border"+u+"Width"],10),y=g-e.offsets.popper[f]-b-_;return y=Math.max(Math.min(s[c]-m,y),0),e.arrowElement=n,e.offsets.arrow=(x(i={},f,Math.round(y)),x(i,h,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(I(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var i=E(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],a=j(n),o=e.placement.split("-")[1]||"",r=[];switch(t.behavior){case Q.FLIP:r=[n,a];break;case Q.CLOCKWISE:r=K(n);break;case Q.COUNTERCLOCKWISE:r=K(n,!0);break;default:r=t.behavior}return r.forEach((function(s,l){if(n!==s||r.length===l+1)return e;n=e.placement.split("-")[0],a=j(n);var d=e.offsets.popper,c=e.offsets.reference,u=Math.floor,f="left"===n&&u(d.right)>u(c.left)||"right"===n&&u(d.left)<u(c.right)||"top"===n&&u(d.bottom)>u(c.top)||"bottom"===n&&u(d.top)<u(c.bottom),h=u(d.left)<u(i.left),p=u(d.right)>u(i.right),m=u(d.top)<u(i.top),g=u(d.bottom)>u(i.bottom),v="left"===n&&h||"right"===n&&p||"top"===n&&m||"bottom"===n&&g,b=-1!==["top","bottom"].indexOf(n),_=!!t.flipVariations&&(b&&"start"===o&&h||b&&"end"===o&&p||!b&&"start"===o&&m||!b&&"end"===o&&g),y=!!t.flipVariationsByContent&&(b&&"start"===o&&p||b&&"end"===o&&h||!b&&"start"===o&&g||!b&&"end"===o&&m),w=_||y;(f||v||w)&&(e.flipped=!0,(f||v)&&(n=r[l+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=n+(o?"-"+o:""),e.offsets.popper=C({},e.offsets.popper,A(e.instance.popper,e.offsets.reference,e.placement)),e=P(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],n=e.offsets,a=n.popper,o=n.reference,r=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return a[r?"left":"top"]=o[i]-(s?a[r?"width":"height"]:0),e.placement=j(t),e.offsets.popper=k(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Y(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=F(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,n=t.y,a=e.offsets.popper,o=F(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r=void 0!==o?o:t.gpuAcceleration,s=h(e.instance.popper),l=S(s),d={position:a.position},c=function(e,t){var i=e.offsets,n=i.popper,a=i.reference,o=Math.round,r=Math.floor,s=function(e){return e},l=o(a.width),d=o(n.width),c=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),f=t?c||u||l%2==d%2?o:r:s,h=t?o:s;return{left:f(l%2==1&&d%2==1&&!u&&t?n.left-1:n.left),top:h(n.top),bottom:h(n.bottom),right:f(n.right)}}(e,window.devicePixelRatio<2||!U),u="bottom"===i?"top":"bottom",f="right"===n?"left":"right",p=N("transform"),m=void 0,g=void 0;if(g="bottom"===u?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,r&&p)d[p]="translate3d("+m+"px, "+g+"px, 0)",d[u]=0,d[f]=0,d.willChange="transform";else{var v="bottom"===u?-1:1,b="right"===f?-1:1;d[u]=g*v,d[f]=m*b,d.willChange=u+", "+f}var _={"x-placement":e.placement};return e.attributes=C({},_,e.attributes),e.styles=C({},d,e.styles),e.arrowStyles=C({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,i;return G(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach((function(e){!1!==i[e]?t.setAttribute(e,i[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&G(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,i,n,a){var o=M(a,t,e,i.positionFixed),r=D(i.placement,o,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",r),G(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},ee=function(){function e(t,i){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=a(this.update.bind(this)),this.options=C({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(C({},e.Defaults.modifiers,r.modifiers)).forEach((function(t){n.options.modifiers[t]=C({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return C({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return R.call(this)}},{key:"destroy",value:function(){return L.call(this)}},{key:"enableEventListeners",value:function(){return V.call(this)}},{key:"disableEventListeners",value:function(){return B.call(this)}}]),e}();ee.Utils=("undefined"!=typeof window?window:e).PopperUtils,ee.placements=W,ee.Defaults=J,t.default=ee}.call(this,i(3))},145:function(e,t,i){var n,a,o;a=[i(4)],void 0===(o="function"==typeof(n=function(e){var t,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var r=n.length;r;)e.event.fixHooks[n[--r]]=e.event.mouseHooks;var s=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=a.length;t;)this.addEventListener(a[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",s.getLineHeight(this)),e.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=a.length;t;)this.removeEventListener(a[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var a,r=n||window.event,l=o.call(arguments,1),u=0,f=0,h=0,p=0,m=0;if((n=e.event.fix(r)).type="mousewheel","detail"in r&&(h=-1*r.detail),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(f=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(f=-1*h,h=0),u=0===h?f:h,"deltaY"in r&&(u=h=-1*r.deltaY),"deltaX"in r&&(f=r.deltaX,0===h&&(u=-1*f)),0!==h||0!==f){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");u*=g,h*=g,f*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,h*=v,f*=v}if(a=Math.max(Math.abs(h),Math.abs(f)),(!i||a<i)&&(i=a,c(r,a)&&(i/=40)),c(r,a)&&(u/=40,f/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/i),f=Math[f>=1?"floor":"ceil"](f/i),h=Math[h>=1?"floor":"ceil"](h/i),s.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=n.clientX-b.left,m=n.clientY-b.top}return n.deltaX=f,n.deltaY=h,n.deltaFactor=i,n.offsetX=p,n.offsetY=m,n.deltaMode=0,l.unshift(n,u,f,h),t&&clearTimeout(t),t=setTimeout(d,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function d(){i=null}function c(e,t){return s.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})?n.apply(t,a):n)||(e.exports=o)},146:function(e,t,i){var n={"./af":7,"./af.js":7,"./ar":8,"./ar-dz":9,"./ar-dz.js":9,"./ar-kw":10,"./ar-kw.js":10,"./ar-ly":11,"./ar-ly.js":11,"./ar-ma":12,"./ar-ma.js":12,"./ar-sa":13,"./ar-sa.js":13,"./ar-tn":14,"./ar-tn.js":14,"./ar.js":8,"./az":15,"./az.js":15,"./be":16,"./be.js":16,"./bg":17,"./bg.js":17,"./bm":18,"./bm.js":18,"./bn":19,"./bn.js":19,"./bo":20,"./bo.js":20,"./br":21,"./br.js":21,"./bs":22,"./bs.js":22,"./ca":23,"./ca.js":23,"./cs":24,"./cs.js":24,"./cv":25,"./cv.js":25,"./cy":26,"./cy.js":26,"./da":27,"./da.js":27,"./de":28,"./de-at":29,"./de-at.js":29,"./de-ch":30,"./de-ch.js":30,"./de.js":28,"./dv":31,"./dv.js":31,"./el":32,"./el.js":32,"./en-SG":33,"./en-SG.js":33,"./en-au":34,"./en-au.js":34,"./en-ca":35,"./en-ca.js":35,"./en-gb":36,"./en-gb.js":36,"./en-ie":37,"./en-ie.js":37,"./en-il":38,"./en-il.js":38,"./en-nz":39,"./en-nz.js":39,"./eo":40,"./eo.js":40,"./es":41,"./es-do":42,"./es-do.js":42,"./es-us":43,"./es-us.js":43,"./es.js":41,"./et":44,"./et.js":44,"./eu":45,"./eu.js":45,"./fa":46,"./fa.js":46,"./fi":47,"./fi.js":47,"./fo":48,"./fo.js":48,"./fr":49,"./fr-ca":50,"./fr-ca.js":50,"./fr-ch":51,"./fr-ch.js":51,"./fr.js":49,"./fy":52,"./fy.js":52,"./ga":53,"./ga.js":53,"./gd":54,"./gd.js":54,"./gl":55,"./gl.js":55,"./gom-latn":56,"./gom-latn.js":56,"./gu":57,"./gu.js":57,"./he":58,"./he.js":58,"./hi":59,"./hi.js":59,"./hr":60,"./hr.js":60,"./hu":61,"./hu.js":61,"./hy-am":62,"./hy-am.js":62,"./id":63,"./id.js":63,"./is":64,"./is.js":64,"./it":65,"./it-ch":66,"./it-ch.js":66,"./it.js":65,"./ja":67,"./ja.js":67,"./jv":68,"./jv.js":68,"./ka":69,"./ka.js":69,"./kk":70,"./kk.js":70,"./km":71,"./km.js":71,"./kn":72,"./kn.js":72,"./ko":73,"./ko.js":73,"./ku":74,"./ku.js":74,"./ky":75,"./ky.js":75,"./lb":76,"./lb.js":76,"./lo":77,"./lo.js":77,"./lt":78,"./lt.js":78,"./lv":79,"./lv.js":79,"./me":80,"./me.js":80,"./mi":81,"./mi.js":81,"./mk":82,"./mk.js":82,"./ml":83,"./ml.js":83,"./mn":84,"./mn.js":84,"./mr":85,"./mr.js":85,"./ms":86,"./ms-my":87,"./ms-my.js":87,"./ms.js":86,"./mt":88,"./mt.js":88,"./my":89,"./my.js":89,"./nb":90,"./nb.js":90,"./ne":91,"./ne.js":91,"./nl":92,"./nl-be":93,"./nl-be.js":93,"./nl.js":92,"./nn":94,"./nn.js":94,"./pa-in":95,"./pa-in.js":95,"./pl":96,"./pl.js":96,"./pt":97,"./pt-br":98,"./pt-br.js":98,"./pt.js":97,"./ro":99,"./ro.js":99,"./ru":100,"./ru.js":100,"./sd":101,"./sd.js":101,"./se":102,"./se.js":102,"./si":103,"./si.js":103,"./sk":104,"./sk.js":104,"./sl":105,"./sl.js":105,"./sq":106,"./sq.js":106,"./sr":107,"./sr-cyrl":108,"./sr-cyrl.js":108,"./sr.js":107,"./ss":109,"./ss.js":109,"./sv":110,"./sv.js":110,"./sw":111,"./sw.js":111,"./ta":112,"./ta.js":112,"./te":113,"./te.js":113,"./tet":114,"./tet.js":114,"./tg":115,"./tg.js":115,"./th":116,"./th.js":116,"./tl-ph":117,"./tl-ph.js":117,"./tlh":118,"./tlh.js":118,"./tr":119,"./tr.js":119,"./tzl":120,"./tzl.js":120,"./tzm":121,"./tzm-latn":122,"./tzm-latn.js":122,"./tzm.js":121,"./ug-cn":123,"./ug-cn.js":123,"./uk":124,"./uk.js":124,"./ur":125,"./ur.js":125,"./uz":126,"./uz-latn":127,"./uz-latn.js":127,"./uz.js":126,"./vi":128,"./vi.js":128,"./x-pseudo":129,"./x-pseudo.js":129,"./yo":130,"./yo.js":130,"./zh-cn":131,"./zh-cn.js":131,"./zh-hk":132,"./zh-hk.js":132,"./zh-tw":133,"./zh-tw.js":133};function a(e){var t=o(e);return i(t)}function o(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=146},148:function(e,t){(function(t){e.exports=t}).call(this,{})},149:function(e,t,i){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(a.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(138),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(3))},150:function(e,t){},151:function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){a(e,t,i[t])}))}return e}function s(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.r(t),i.d(t,"MultiDrag",(function(){return _t})),i.d(t,"Sortable",(function(){return qe})),i.d(t,"Swap",(function(){return lt}));function d(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=d(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=d(/Edge/i),f=d(/firefox/i),h=d(/safari/i)&&!d(/chrome/i)&&!d(/android/i),p=d(/iP(ad|od|hone)/i),m=d(/chrome/i)&&d(/android/i),g={capture:!1,passive:!1};function v(e,t,i){e.addEventListener(t,i,!c&&g)}function b(e,t,i){e.removeEventListener(t,i,!c&&g)}function _(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function y(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&_(e,t):_(e,t))||n&&e===i)return e;if(e===i)break}while(e=y(e))}return null}var x,C=/\s+/g;function k(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(C," ")}}function S(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function O(e,t){var i="";if("string"==typeof e)i=e;else do{var n=S(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(i)}function $(e,t,i){if(e){var n=e.getElementsByTagName(t),a=0,o=n.length;if(i)for(;a<o;a++)i(n[a],a);return n}return[]}function E(){var e=document.scrollingElement;return e||document.documentElement}function D(e,t,i,n,a){if(e.getBoundingClientRect||e===window){var o,r,s,l,d,u,f;if(e!==window&&e!==E()?(r=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,d=o.right,u=o.height,f=o.width):(r=0,s=0,l=window.innerHeight,d=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(t||i)&&e!==window&&(a=a||e.parentNode,!c))do{if(a&&a.getBoundingClientRect&&("none"!==S(a,"transform")||i&&"static"!==S(a,"position"))){var h=a.getBoundingClientRect();r-=h.top+parseInt(S(a,"border-top-width")),s-=h.left+parseInt(S(a,"border-left-width")),l=r+o.height,d=s+o.width;break}}while(a=a.parentNode);if(n&&e!==window){var p=O(a||e),m=p&&p.a,g=p&&p.d;p&&(l=(r/=g)+(u/=g),d=(s/=m)+(f/=m))}return{top:r,left:s,bottom:l,right:d,width:f,height:u}}}function M(e,t,i){for(var n=P(e,!0),a=D(e)[t];n;){var o=D(n)[i];if(!("top"===i||"left"===i?a>=o:a<=o))return n;if(n===E())break;n=P(n,!1)}return!1}function T(e,t,i){for(var n=0,a=0,o=e.children;a<o.length;){if("none"!==o[a].style.display&&o[a]!==qe.ghost&&o[a]!==qe.dragged&&w(o[a],i.draggable,e,!1)){if(n===t)return o[a];n++}a++}return null}function j(e,t){for(var i=e.lastElementChild;i&&(i===qe.ghost||"none"===S(i,"display")||t&&!_(i,t));)i=i.previousElementSibling;return i||null}function A(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===qe.clone||t&&!_(e,t)||i++;return i}function F(e){var t=0,i=0,n=E();if(e)do{var a=O(e),o=a.a,r=a.d;t+=e.scrollLeft*o,i+=e.scrollTop*r}while(e!==n&&(e=e.parentNode));return[t,i]}function P(e,t){if(!e||!e.getBoundingClientRect)return E();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var a=S(i);if(i.clientWidth<i.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!i.getBoundingClientRect||i===document.body)return E();if(n||t)return i;n=!0}}}while(i=i.parentNode);return E()}function R(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function I(e,t){return function(){if(!x){var i=arguments,n=this;1===i.length?e.call(n,i[0]):e.apply(n,i),x=setTimeout((function(){x=void 0}),t)}}}function N(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function L(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function q(e,t){S(e,"position","absolute"),S(e,"top",t.top),S(e,"left",t.left),S(e,"width",t.width),S(e,"height",t.height)}function z(e){S(e,"position",""),S(e,"top",""),S(e,"left",""),S(e,"width",""),S(e,"height","")}var V="Sortable"+(new Date).getTime();function B(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==S(e,"display")&&e!==qe.ghost){t.push({target:e,rect:D(e)});var i=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=O(e,!0);n&&(i.top-=n.f,i.left-=n.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var a=!1,o=0;t.forEach((function(e){var t=0,i=e.target,r=i.fromRect,s=D(i),l=i.prevFromRect,d=i.prevToRect,c=e.rect,u=O(i,!0);u&&(s.top-=u.f,s.left-=u.e),i.toRect=s,i.thisAnimationDuration&&R(l,s)&&!R(r,s)&&(c.top-s.top)/(c.left-s.left)==(r.top-s.top)/(r.left-s.left)&&(t=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(c,l,d,n.options)),R(s,r)||(i.prevFromRect=r,i.prevToRect=s,t||(t=n.options.animation),n.animate(i,c,s,t)),t&&(a=!0,o=Math.max(o,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),a?e=setTimeout((function(){"function"==typeof i&&i()}),o):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,n){if(n){S(e,"transition",""),S(e,"transform","");var a=O(this.el),o=a&&a.a,r=a&&a.d,s=(t.left-i.left)/(o||1),l=(t.top-i.top)/(r||1);e.animatingX=!!s,e.animatingY=!!l,S(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),S(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),S(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){S(e,"transition",""),S(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var H=[],G={initializeByDefault:!0},U={mount:function(e){for(var t in G)!G.hasOwnProperty(t)||t in e||(e[t]=G[t]);H.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var a=e+"Global";H.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][a]&&t[n.pluginName][a](r({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](r({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var a in H.forEach((function(n){var a=n.pluginName;if(e.options[a]||n.initializeByDefault){var r=new n(e,t,e.options);r.sortable=e,r.options=e.options,e[a]=r,o(i,r.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var r=this.modifyOption(e,a,e.options[a]);void 0!==r&&(e.options[a]=r)}},getEventProperties:function(e,t){var i={};return H.forEach((function(n){"function"==typeof n.eventProperties&&o(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return H.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[t]&&(n=a.optionListeners[t].call(e[a.pluginName],i))})),n}};function Y(e){var t=e.sortable,i=e.rootEl,n=e.name,a=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,d=e.oldIndex,f=e.newIndex,h=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||i&&i[V]){var b,_=t.options,y="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||c||u?(b=document.createEvent("Event")).initEvent(n,!0,!0):b=new CustomEvent(n,{bubbles:!0,cancelable:!0}),b.to=s||i,b.from=l||i,b.item=a||i,b.clone=o,b.oldIndex=d,b.newIndex=f,b.oldDraggableIndex=h,b.newDraggableIndex=p,b.originalEvent=m,b.pullMode=g?g.lastPutMode:void 0;var w=r({},v,U.getEventProperties(n,t));for(var x in w)b[x]=w[x];i&&i.dispatchEvent(b),_[y]&&_[y].call(t,b)}}var W=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,a=s(i,["evt"]);U.pluginEvent.bind(qe)(e,t,r({dragEl:K,parentEl:Q,ghostEl:Z,rootEl:J,nextEl:ee,lastDownEl:te,cloneEl:ie,cloneHidden:ne,dragStarted:ge,putSortable:de,activeSortable:qe.active,originalEvent:n,oldIndex:ae,oldDraggableIndex:re,newIndex:oe,newDraggableIndex:se,hideGhostForTarget:Re,unhideGhostForTarget:Ie,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(e){X({sortable:t,name:e,originalEvent:n})}},a))};function X(e){Y(r({putSortable:de,cloneEl:ie,targetEl:K,rootEl:J,oldIndex:ae,oldDraggableIndex:re,newIndex:oe,newDraggableIndex:se},e))}var K,Q,Z,J,ee,te,ie,ne,ae,oe,re,se,le,de,ce,ue,fe,he,pe,me,ge,ve,be,_e,ye,we=!1,xe=!1,Ce=[],ke=!1,Se=!1,Oe=[],$e=!1,Ee=[],De="undefined"!=typeof document,Me=p,Te=u||c?"cssFloat":"float",je=De&&!m&&!p&&"draggable"in document.createElement("div"),Ae=function(){if(De){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Fe=function(e,t){var i=S(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=T(e,0,t),o=T(e,1,t),r=a&&S(a),s=o&&S(o),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+D(a).width,d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+D(o).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&r.float&&"none"!==r.float){var c="left"===r.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return a&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||l>=n&&"none"===i[Te]||o&&"none"===i[Te]&&l+d>n)?"vertical":"horizontal"},Pe=function(e){function t(e,i){return function(n,a,o,r){var s=n.options.group.name&&a.options.group.name&&n.options.group.name===a.options.group.name;if(null==e&&(i||s))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,a,o,r),i)(n,a,o,r);var l=(i?n:a).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},a=e.group;a&&"object"==n(a)||(a={name:a}),i.name=a.name,i.checkPull=t(a.pull,!0),i.checkPut=t(a.put),i.revertClone=a.revertClone,e.group=i},Re=function(){!Ae&&Z&&S(Z,"display","none")},Ie=function(){!Ae&&Z&&S(Z,"display","")};De&&document.addEventListener("click",(function(e){if(xe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),xe=!1,!1}),!0);var Ne=function(e){if(K){e=e.touches?e.touches[0]:e;var t=(a=e.clientX,o=e.clientY,Ce.some((function(e){if(!j(e)){var t=D(e),i=e[V].options.emptyInsertThreshold,n=a>=t.left-i&&a<=t.right+i,s=o>=t.top-i&&o<=t.bottom+i;return i&&n&&s?r=e:void 0}})),r);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[V]._onDragOver(i)}}var a,o,r},Le=function(e){K&&K.parentNode[V]._isOutsideThisEl(e.target)};function qe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[V]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==qe.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in U.initializePlugins(this,e,i),i)!(n in t)&&(t[n]=i[n]);for(var a in Pe(t),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&je,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Ce.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,B())}function ze(e,t,i,n,a,o,r,s){var l,d,f=e[V],h=f.options.onMove;return!window.CustomEvent||c||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=a||t,l.relatedRect=o||D(t),l.willInsertAfter=s,l.originalEvent=r,e.dispatchEvent(l),h&&(d=h.call(f,l,r)),d}function Ve(e){e.draggable=!1}function Be(){$e=!1}function He(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function Ge(e){return setTimeout(e,0)}function Ue(e){return clearTimeout(e)}qe.prototype={constructor:qe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,K):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,a=n.preventOnFilter,o=e.type,r=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(r||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,d=n.filter;if(function(e){Ee.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var n=t[i];n.checked&&Ee.push(n)}}(i),!K&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||n.disabled||l.isContentEditable||(s=w(s,n.draggable,i,!1))&&s.animated||te===s)){if(ae=A(s),re=A(s,n.draggable),"function"==typeof d){if(d.call(this,e,s,this))return X({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:i,fromEl:i}),W("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(d&&(d=d.split(",").some((function(n){if(n=w(l,n.trim(),i,!1))return X({sortable:t,rootEl:n,name:"filter",targetEl:s,fromEl:i,toEl:i}),W("filter",t,{evt:e}),!0}))))return void(a&&e.cancelable&&e.preventDefault());n.handle&&!w(l,n.handle,i,!1)||this._prepareDragStart(e,r,s)}}},_prepareDragStart:function(e,t,i){var n,a=this,o=a.el,r=a.options,s=o.ownerDocument;if(i&&!K&&i.parentNode===o){var l=D(i);if(J=o,Q=(K=i).parentNode,ee=K.nextSibling,te=i,le=r.group,qe.dragged=K,ce={target:K,clientX:(t||e).clientX,clientY:(t||e).clientY},pe=ce.clientX-l.left,me=ce.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,K.style["will-change"]="all",n=function(){W("delayEnded",a,{evt:e}),qe.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!f&&a.nativeDraggable&&(K.draggable=!0),a._triggerDragStart(e,t),X({sortable:a,name:"choose",originalEvent:e}),k(K,r.chosenClass,!0))},r.ignore.split(",").forEach((function(e){$(K,e.trim(),Ve)})),v(s,"dragover",Ne),v(s,"mousemove",Ne),v(s,"touchmove",Ne),v(s,"mouseup",a._onDrop),v(s,"touchend",a._onDrop),v(s,"touchcancel",a._onDrop),f&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),W("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||c))n();else{if(qe.eventCanceled)return void this._onDrop();v(s,"mouseup",a._disableDelayedDrag),v(s,"touchend",a._disableDelayedDrag),v(s,"touchcancel",a._disableDelayedDrag),v(s,"mousemove",a._delayedDragTouchMoveHandler),v(s,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&v(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(n,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&Ve(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(K,"dragend",this),v(J,"dragstart",this._onDragStart));try{document.selection?Ge((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(we=!1,J&&K){W("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Le);var i=this.options;!e&&k(K,i.dragClass,!1),k(K,i.ghostClass,!0),qe.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,Re();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(K.parentNode[V]._isOutsideThisEl(e),t)do{if(t[V]){if(t[V]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ie()}},_onTouchMove:function(e){if(ce){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=Z&&O(Z,!0),r=Z&&o&&o.a,s=Z&&o&&o.d,l=Me&&ye&&F(ye),d=(a.clientX-ce.clientX+n.x)/(r||1)+(l?l[0]-Oe[0]:0)/(r||1),c=(a.clientY-ce.clientY+n.y)/(s||1)+(l?l[1]-Oe[1]:0)/(s||1);if(!qe.active&&!we){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(Z){o?(o.e+=d-(fe||0),o.f+=c-(he||0)):o={a:1,b:0,c:0,d:1,e:d,f:c};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");S(Z,"webkitTransform",u),S(Z,"mozTransform",u),S(Z,"msTransform",u),S(Z,"transform",u),fe=d,he=c,ue=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Z){var e=this.options.fallbackOnBody?document.body:J,t=D(K,!0,Me,!0,e),i=this.options;if(Me){for(ye=e;"static"===S(ye,"position")&&"none"===S(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=E()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=E(),Oe=F(ye)}k(Z=K.cloneNode(!0),i.ghostClass,!1),k(Z,i.fallbackClass,!0),k(Z,i.dragClass,!0),S(Z,"transition",""),S(Z,"transform",""),S(Z,"box-sizing","border-box"),S(Z,"margin",0),S(Z,"top",t.top),S(Z,"left",t.left),S(Z,"width",t.width),S(Z,"height",t.height),S(Z,"opacity","0.8"),S(Z,"position",Me?"absolute":"fixed"),S(Z,"zIndex","100000"),S(Z,"pointerEvents","none"),qe.ghost=Z,e.appendChild(Z),S(Z,"transform-origin",pe/parseInt(Z.style.width)*100+"% "+me/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,a=i.options;W("dragStart",this,{evt:e}),qe.eventCanceled?this._onDrop():(W("setupClone",this),qe.eventCanceled||((ie=L(K)).draggable=!1,ie.style["will-change"]="",this._hideClone(),k(ie,this.options.chosenClass,!1),qe.clone=ie),i.cloneId=Ge((function(){W("clone",i),qe.eventCanceled||(i.options.removeCloneOnHide||J.insertBefore(ie,K),i._hideClone(),X({sortable:i,name:"clone"}))})),!t&&k(K,a.dragClass,!0),t?(xe=!0,i._loopId=setInterval(i._emulateDragOver,50)):(b(document,"mouseup",i._onDrop),b(document,"touchend",i._onDrop),b(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",a.setData&&a.setData.call(i,n,K)),v(document,"drop",i),S(K,"transform","translateZ(0)")),we=!0,i._dragStartId=Ge(i._dragStarted.bind(i,t,e)),v(document,"selectstart",i),ge=!0,h&&S(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,a,o=this.el,s=e.target,l=this.options,d=l.group,c=qe.active,u=le===d,f=l.sort,h=de||c,p=this,m=!1;if(!$e){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=w(s,l.draggable,o,!0),R("dragOver"),qe.eventCanceled)return m;if(K.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return L(!1);if(xe=!1,c&&!l.disabled&&(u?f||(n=!J.contains(K)):de===this||(this.lastPutMode=le.checkPull(this,c,K,e))&&d.checkPut(this,c,K,e))){if(a="vertical"===this._getDirection(e,s),t=D(K),R("dragOverValid"),qe.eventCanceled)return m;if(n)return Q=J,I(),this._hideClone(),R("revert"),qe.eventCanceled||(ee?J.insertBefore(K,ee):J.appendChild(K)),L(!0);var g=j(o,l.draggable);if(!g||function(e,t,i){var n=D(j(i.el,i.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,a,this)&&!g.animated){if(g===K)return L(!1);if(g&&o===e.target&&(s=g),s&&(i=D(s)),!1!==ze(J,o,K,t,s,i,e,!!s))return I(),o.appendChild(K),Q=o,q(),L(!0)}else if(s.parentNode===o){i=D(s);var v,b,_,y=K.parentNode!==o,x=!function(e,t,i){var n=i?e.left:e.top,a=i?e.right:e.bottom,o=i?e.width:e.height,r=i?t.left:t.top,s=i?t.right:t.bottom,l=i?t.width:t.height;return n===r||a===s||n+o/2===r+l/2}(K.animated&&K.toRect||t,s.animated&&s.toRect||i,a),C=a?"top":"left",O=M(s,"top","top")||M(K,"top","top"),$=O?O.scrollTop:void 0;if(ve!==s&&(b=i[C],ke=!1,Se=!x&&l.invertSwap||y),0!==(v=function(e,t,i,n,a,o,r,s){var l=n?e.clientY:e.clientX,d=n?i.height:i.width,c=n?i.top:i.left,u=n?i.bottom:i.right,f=!1;if(!r)if(s&&_e<d*a){if(!ke&&(1===be?l>c+d*o/2:l<u-d*o/2)&&(ke=!0),ke)f=!0;else if(1===be?l<c+_e:l>u-_e)return-be}else if(l>c+d*(1-a)/2&&l<u-d*(1-a)/2)return function(e){return A(K)<A(e)?1:-1}(t);if((f=f||r)&&(l<c+d*o/2||l>u-d*o/2))return l>c+d/2?1:-1;return 0}(e,s,i,a,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Se,ve===s))){var E=A(K);do{E-=v,_=Q.children[E]}while(_&&("none"===S(_,"display")||_===Z))}if(0===v||_===s)return L(!1);ve=s,be=v;var T=s.nextElementSibling,F=!1,P=ze(J,o,K,t,s,i,e,F=1===v);if(!1!==P)return 1!==P&&-1!==P||(F=1===P),$e=!0,setTimeout(Be,30),I(),F&&!T?o.appendChild(K):s.parentNode.insertBefore(K,F?T:s),O&&N(O,0,$-O.scrollTop),Q=K.parentNode,void 0===b||Se||(_e=Math.abs(b-D(s)[C])),q(),L(!0)}if(o.contains(K))return L(!1)}return!1}function R(l,d){W(l,p,r({evt:e,isOwner:u,axis:a?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:f,fromSortable:h,target:s,completed:L,onMove:function(i,n){return ze(J,o,K,t,i,D(i),e,n)},changed:q},d))}function I(){R("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function L(t){return R("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(p),p!==h&&(k(K,de?de.options.ghostClass:c.options.ghostClass,!1),k(K,l.ghostClass,!0)),de!==p&&p!==qe.active?de=p:p===qe.active&&de&&(de=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){R("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===K&&!K.animated||s===o&&!s.animated)&&(ve=null),l.dragoverBubble||e.rootEl||s===document||(K.parentNode[V]._isOutsideThisEl(e.target),!t&&Ne(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function q(){oe=A(K),se=A(K,l.draggable),X({sortable:p,name:"change",toEl:o,newIndex:oe,newDraggableIndex:se,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Ne),b(document,"mousemove",Ne),b(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;oe=A(K),se=A(K,i.draggable),W("drop",this,{evt:e}),Q=K&&K.parentNode,oe=A(K),se=A(K,i.draggable),qe.eventCanceled?this._nulling():(we=!1,Se=!1,ke=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ue(this.cloneId),Ue(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&S(document.body,"user-select",""),S(K,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(J===Q||de&&"clone"!==de.lastPutMode)&&ie&&ie.parentNode&&ie.parentNode.removeChild(ie),K&&(this.nativeDraggable&&b(K,"dragend",this),Ve(K),K.style["will-change"]="",ge&&!we&&k(K,de?de.options.ghostClass:this.options.ghostClass,!1),k(K,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),J!==Q?(oe>=0&&(X({rootEl:Q,name:"add",toEl:Q,fromEl:J,originalEvent:e}),X({sortable:this,name:"remove",toEl:Q,originalEvent:e}),X({rootEl:Q,name:"sort",toEl:Q,fromEl:J,originalEvent:e}),X({sortable:this,name:"sort",toEl:Q,originalEvent:e})),de&&de.save()):oe!==ae&&oe>=0&&(X({sortable:this,name:"update",toEl:Q,originalEvent:e}),X({sortable:this,name:"sort",toEl:Q,originalEvent:e})),qe.active&&(null!=oe&&-1!==oe||(oe=ae,se=re),X({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){W("nulling",this),J=K=Q=Z=ee=ie=te=ne=ce=ue=ge=oe=se=ae=re=ve=be=de=le=qe.dragged=qe.ghost=qe.clone=qe.active=null,Ee.forEach((function(e){e.checked=!0})),Ee.length=fe=he=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":K&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,a=i.length,o=this.options;n<a;n++)w(e=i[n],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||He(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach((function(e,n){var a=i.children[n];w(a,this.options.draggable,i,!1)&&(t[e]=a)}),this),e.forEach((function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=U.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&Pe(i)},destroy:function(){W("destroy",this);var e=this.el;e[V]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ce.splice(Ce.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(W("hideClone",this),qe.eventCanceled)return;S(ie,"display","none"),this.options.removeCloneOnHide&&ie.parentNode&&ie.parentNode.removeChild(ie),ne=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ne){if(W("showClone",this),qe.eventCanceled)return;J.contains(K)&&!this.options.group.revertClone?J.insertBefore(ie,K):ee?J.insertBefore(ie,ee):J.appendChild(ie),this.options.group.revertClone&&this.animate(K,ie),S(ie,"display",""),ne=!1}}else this._hideClone()}},De&&v(document,"touchmove",(function(e){(qe.active||we)&&e.cancelable&&e.preventDefault()})),qe.utils={on:v,off:b,css:S,find:$,is:function(e,t){return!!w(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:I,closest:w,toggleClass:k,clone:L,index:A,nextTick:Ge,cancelNextTick:Ue,detectDirection:Fe,getChild:T},qe.get=function(e){return e[V]},qe.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(qe.utils=r({},qe.utils,e.utils)),U.mount(e)}))},qe.create=function(e,t){return new qe(e,t)},qe.version="1.10.2";var Ye,We,Xe,Ke,Qe,Ze,Je=[],et=!1;function tt(){Je.forEach((function(e){clearInterval(e.pid)})),Je=[]}function it(){clearInterval(Ze)}var nt,at=I((function(e,t,i,n){if(t.scroll){var a,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,d=E(),c=!1;We!==i&&(We=i,tt(),Ye=t.scroll,a=t.scrollFn,!0===Ye&&(Ye=P(i,!0)));var u=0,f=Ye;do{var h=f,p=D(h),m=p.top,g=p.bottom,v=p.left,b=p.right,_=p.width,y=p.height,w=void 0,x=void 0,C=h.scrollWidth,k=h.scrollHeight,O=S(h),$=h.scrollLeft,M=h.scrollTop;h===d?(w=_<C&&("auto"===O.overflowX||"scroll"===O.overflowX||"visible"===O.overflowX),x=y<k&&("auto"===O.overflowY||"scroll"===O.overflowY||"visible"===O.overflowY)):(w=_<C&&("auto"===O.overflowX||"scroll"===O.overflowX),x=y<k&&("auto"===O.overflowY||"scroll"===O.overflowY));var T=w&&(Math.abs(b-o)<=s&&$+_<C)-(Math.abs(v-o)<=s&&!!$),j=x&&(Math.abs(g-r)<=s&&M+y<k)-(Math.abs(m-r)<=s&&!!M);if(!Je[u])for(var A=0;A<=u;A++)Je[A]||(Je[A]={});Je[u].vx==T&&Je[u].vy==j&&Je[u].el===h||(Je[u].el=h,Je[u].vx=T,Je[u].vy=j,clearInterval(Je[u].pid),0==T&&0==j||(c=!0,Je[u].pid=setInterval(function(){n&&0===this.layer&&qe.active._onTouchMove(Qe);var t=Je[this.layer].vy?Je[this.layer].vy*l:0,i=Je[this.layer].vx?Je[this.layer].vx*l:0;"function"==typeof a&&"continue"!==a.call(qe.dragged.parentNode[V],i,t,e,Qe,Je[this.layer].el)||N(Je[this.layer].el,i,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&f!==d&&(f=P(f,!1)));et=c}}),30),ot=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,r=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=i||a;r();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);s(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function rt(){}function st(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;nt=t},dragOverValid:function(e){var t=e.completed,i=e.target,n=e.onMove,a=e.activeSortable,o=e.changed,r=e.cancel;if(a.options.swap){var s=this.sortable.el,l=this.options;if(i&&i!==s){var d=nt;!1!==n(i)?(k(i,l.swapClass,!0),nt=i):nt=null,d&&d!==nt&&k(d,l.swapClass,!1)}o(),t(!0),r()}},drop:function(e){var t=e.activeSortable,i=e.putSortable,n=e.dragEl,a=i||this.sortable,o=this.options;nt&&k(nt,o.swapClass,!1),nt&&(o.swap||i&&i.options.swap)&&n!==nt&&(a.captureAnimationState(),a!==t&&t.captureAnimationState(),function(e,t){var i,n,a=e.parentNode,o=t.parentNode;if(!a||!o||a.isEqualNode(t)||o.isEqualNode(e))return;i=A(e),n=A(t),a.isEqualNode(o)&&i<n&&n++;a.insertBefore(t,a.children[i]),o.insertBefore(e,o.children[n])}(n,nt),a.animateAll(),a!==t&&t.animateAll())},nulling:function(){nt=null}},o(e,{pluginName:"swap",eventProperties:function(){return{swapItem:nt}}})}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=T(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:ot},o(rt,{pluginName:"revertOnSpill"}),st.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:ot},o(st,{pluginName:"removeOnSpill"});var dt,ct,ut,ft,ht,pt=[],mt=[],gt=!1,vt=!1,bt=!1;function _t(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,i){var n="";pt.length&&ct===e?pt.forEach((function(e,t){n+=(t?", ":"")+e.textContent})):n=i.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ut=t},delayEnded:function(){this.isMultiDrag=~pt.indexOf(ut)},setupClone:function(e){var t=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var n=0;n<pt.length;n++)mt.push(L(pt[n])),mt[n].sortableIndex=pt[n].sortableIndex,mt[n].draggable=!1,mt[n].style["will-change"]="",k(mt[n],this.options.selectedClass,!1),pt[n]===ut&&k(mt[n],this.options.chosenClass,!1);t._hideClone(),i()}},clone:function(e){var t=e.sortable,i=e.rootEl,n=e.dispatchSortableEvent,a=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||pt.length&&ct===t&&(yt(!0,i),n("clone"),a()))},showClone:function(e){var t=e.cloneNowShown,i=e.rootEl,n=e.cancel;this.isMultiDrag&&(yt(!1,i),mt.forEach((function(e){S(e,"display","")})),t(),ht=!1,n())},hideClone:function(e){var t=this,i=(e.sortable,e.cloneNowHidden),n=e.cancel;this.isMultiDrag&&(mt.forEach((function(e){S(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),i(),ht=!0,n())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&ct&&ct.multiDrag._deselectMultiDrag(),pt.forEach((function(e){e.sortableIndex=A(e)})),pt=pt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){pt.forEach((function(e){e!==ut&&S(e,"position","absolute")}));var n=D(ut,!1,!0,!0);pt.forEach((function(e){e!==ut&&q(e,n)})),vt=!0,gt=!0}i.animateAll((function(){vt=!1,gt=!1,t.options.animation&&pt.forEach((function(e){z(e)})),t.options.sort&&wt()}))}},dragOver:function(e){var t=e.target,i=e.completed,n=e.cancel;vt&&~pt.indexOf(t)&&(i(!1),n())},revert:function(e){var t=e.fromSortable,i=e.rootEl,n=e.sortable,a=e.dragRect;pt.length>1&&(pt.forEach((function(e){n.addAnimationState({target:e,rect:vt?D(e):a}),z(e),e.fromRect=a,t.removeAnimationState(e)})),vt=!1,function(e,t){pt.forEach((function(i,n){var a=t.children[i.sortableIndex+(e?Number(n):0)];a?t.insertBefore(i,a):t.appendChild(i)}))}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var t=e.sortable,i=e.isOwner,n=e.insertion,a=e.activeSortable,o=e.parentEl,r=e.putSortable,s=this.options;if(n){if(i&&a._hideClone(),gt=!1,s.animation&&pt.length>1&&(vt||!i&&!a.options.sort&&!r)){var l=D(ut,!1,!0,!0);pt.forEach((function(e){e!==ut&&(q(e,l),o.appendChild(e))})),vt=!0}if(!i)if(vt||wt(),pt.length>1){var d=ht;a._showClone(t),a.options.animation&&!ht&&d&&mt.forEach((function(e){a.addAnimationState({target:e,rect:ft}),e.fromRect=ft,e.thisAnimationDuration=null}))}else a._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,i=e.isOwner,n=e.activeSortable;if(pt.forEach((function(e){e.thisAnimationDuration=null})),n.options.animation&&!i&&n.multiDrag.isMultiDrag){ft=o({},t);var a=O(ut,!0);ft.top-=a.f,ft.left-=a.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,wt())},drop:function(e){var t=e.originalEvent,i=e.rootEl,n=e.parentEl,a=e.sortable,o=e.dispatchSortableEvent,r=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var d=this.options,c=n.children;if(!bt)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),k(ut,d.selectedClass,!~pt.indexOf(ut)),~pt.indexOf(ut))pt.splice(pt.indexOf(ut),1),dt=null,Y({sortable:a,rootEl:i,name:"deselect",targetEl:ut,originalEvt:t});else{if(pt.push(ut),Y({sortable:a,rootEl:i,name:"select",targetEl:ut,originalEvt:t}),t.shiftKey&&dt&&a.el.contains(dt)){var u,f,h=A(dt),p=A(ut);if(~h&&~p&&h!==p)for(p>h?(f=h,u=p):(f=p,u=h+1);f<u;f++)~pt.indexOf(c[f])||(k(c[f],d.selectedClass,!0),pt.push(c[f]),Y({sortable:a,rootEl:i,name:"select",targetEl:c[f],originalEvt:t}))}else dt=ut;ct=l}if(bt&&this.isMultiDrag){if((n[V].options.sort||n!==i)&&pt.length>1){var m=D(ut),g=A(ut,":not(."+this.options.selectedClass+")");if(!gt&&d.animation&&(ut.thisAnimationDuration=null),l.captureAnimationState(),!gt&&(d.animation&&(ut.fromRect=m,pt.forEach((function(e){if(e.thisAnimationDuration=null,e!==ut){var t=vt?D(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),wt(),pt.forEach((function(e){c[g]?n.insertBefore(e,c[g]):n.appendChild(e),g++})),r===A(ut))){var v=!1;pt.forEach((function(e){e.sortableIndex===A(e)||(v=!0)})),v&&o("update")}pt.forEach((function(e){z(e)})),l.animateAll()}ct=l}(i===n||s&&"clone"!==s.lastPutMode)&&mt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,mt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||ct!==this.sortable||e&&w(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;pt.length;){var t=pt[0];k(t,this.options.selectedClass,!1),pt.shift(),Y({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[V];t&&t.options.multiDrag&&!~pt.indexOf(e)&&(ct&&ct!==t&&(ct.multiDrag._deselectMultiDrag(),ct=t),k(e,t.options.selectedClass,!0),pt.push(e))},deselect:function(e){var t=e.parentNode[V],i=pt.indexOf(e);t&&t.options.multiDrag&&~i&&(k(e,t.options.selectedClass,!1),pt.splice(i,1))}},eventProperties:function(){var e=this,t=[],i=[];return pt.forEach((function(n){var a;t.push({multiDragElement:n,index:n.sortableIndex}),a=vt&&n!==ut?-1:vt?A(n,":not(."+e.options.selectedClass+")"):A(n),i.push({multiDragElement:n,index:a})})),{items:l(pt),clones:[].concat(mt),oldIndicies:t,newIndicies:i}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function yt(e,t){mt.forEach((function(i,n){var a=t.children[i.sortableIndex+(e?Number(n):0)];a?t.insertBefore(i,a):t.appendChild(i)}))}function wt(){pt.forEach((function(e){e!==ut&&e.parentNode&&e.parentNode.removeChild(e)}))}qe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),it(),tt(),clearTimeout(x),x=void 0},nulling:function(){Qe=We=Ye=et=Ze=Xe=Ke=null,Je.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(n,a);if(Qe=e,t||u||c||h){at(e,this.options,o,t);var r=P(o,!0);!et||Ze&&n===Xe&&a===Ke||(Ze&&it(),Ze=setInterval((function(){var o=P(document.elementFromPoint(n,a),!0);o!==r&&(r=o,tt()),at(e,i.options,o,t)}),10),Xe=n,Ke=a)}else{if(!this.options.bubbleScroll||P(o,!0)===E())return void tt();at(e,this.options,P(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}),qe.mount(st,rt),t.default=qe},152:function(e,t,i){i(164),e.exports=i(174)},153:function(e,t,i){window.$=window.jQuery=i(4),i(154),i(142),i(144),i(155),i(156),i(157),i(158),i(159),window._=i(1),window.moment=i(0),window.md5=i(147)},154:function(e,t,i){var n,a,o;!function(r){"use strict";a=[i(4)],void 0===(o="function"==typeof(n=function(e){var t={};t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData;var i=!!e.fn.prop;function n(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(i))}function a(t){var i=t.target,n=e(i);if(!n.is("[type=submit],[type=image]")){var a=n.closest("[type=submit]");if(0===a.length)return;i=a[0]}var o=this;if(o.clk=i,"image"==i.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var r=n.offset();o.clk_x=t.pageX-r.left,o.clk_y=t.pageY-r.top}else o.clk_x=t.pageX-i.offsetLeft,o.clk_y=t.pageY-i.offsetTop;setTimeout((function(){o.clk=o.clk_x=o.clk_y=null}),100)}function o(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(n){if(!this.length)return o("ajaxSubmit: skipping submit process - no element selected"),this;var a,r,s,l=this;"function"==typeof n?n={success:n}:void 0===n&&(n={}),a=n.type||this.attr2("method"),(s=(s="string"==typeof(r=n.url||this.attr2("action"))?e.trim(r):"")||window.location.href||"")&&(s=(s.match(/^([^#]+)/)||[])[1]),n=e.extend(!0,{url:s,success:e.ajaxSettings.success,type:a||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},n);var d={};if(this.trigger("form-pre-serialize",[this,n,d]),d.veto)return o("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(n.beforeSerialize&&!1===n.beforeSerialize(this,n))return o("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var c=n.traditional;void 0===c&&(c=e.ajaxSettings.traditional);var u,f=[],h=this.formToArray(n.semantic,f);if(n.data&&(n.extraData=n.data,u=e.param(n.data,c)),n.beforeSubmit&&!1===n.beforeSubmit(h,this,n))return o("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[h,this,n,d]),d.veto)return o("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var p=e.param(h,c);u&&(p=p?p+"&"+u:u),"GET"==n.type.toUpperCase()?(n.url+=(n.url.indexOf("?")>=0?"&":"?")+p,n.data=null):n.data=p;var m=[];if(n.resetForm&&m.push((function(){l.resetForm()})),n.clearForm&&m.push((function(){l.clearForm(n.includeHidden)})),!n.dataType&&n.target){var g=n.success||function(){};m.push((function(t){var i=n.replaceTarget?"replaceWith":"html";e(n.target)[i](t).each(g,arguments)}))}else n.success&&m.push(n.success);if(n.success=function(e,t,i){for(var a=n.context||this,o=0,r=m.length;o<r;o++)m[o].apply(a,[e,t,i||l,l])},n.error){var v=n.error;n.error=function(e,t,i){var a=n.context||this;v.apply(a,[e,t,i,l])}}if(n.complete){var b=n.complete;n.complete=function(e,t){var i=n.context||this;b.apply(i,[e,t,l])}}var _=e("input[type=file]:enabled",this).filter((function(){return""!==e(this).val()})).length>0,y="multipart/form-data",w=l.attr("enctype")==y||l.attr("encoding")==y,x=t.fileapi&&t.formdata;o("fileAPI :"+x);var C,k=(_||w)&&!x;!1!==n.iframe&&(n.iframe||k)?n.closeKeepAlive?e.get(n.closeKeepAlive,(function(){C=O(h)})):C=O(h):C=(_||w)&&x?function(t){for(var i=new FormData,o=0;o<t.length;o++)i.append(t[o].name,t[o].value);if(n.extraData){var r=function(t){var i,a,o=e.param(t,n.traditional).split("&"),r=o.length,s=[];for(i=0;i<r;i++)o[i]=o[i].replace(/\+/g," "),a=o[i].split("="),s.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return s}(n.extraData);for(o=0;o<r.length;o++)r[o]&&i.append(r[o][0],r[o][1])}n.data=null;var s=e.extend(!0,{},e.ajaxSettings,n,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});n.uploadProgress&&(s.xhr=function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",(function(e){var t=0,i=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(i/a*100)),n.uploadProgress(e,i,a,t)}),!1),t});s.data=null;var l=s.beforeSend;return s.beforeSend=function(e,t){n.formData?t.data=n.formData:t.data=i,l&&l.call(this,e,t)},e.ajax(s)}(h):e.ajax(n),l.removeData("jqxhr").data("jqxhr",C);for(var S=0;S<f.length;S++)f[S]=null;return this.trigger("form-submit-notify",[this,n]),this;function O(t){var r,s,d,c,u,h,p,m,g,v,b,_,y=l[0],w=e.Deferred();if(w.abort=function(e){m.abort(e)},t)for(s=0;s<f.length;s++)r=e(f[s]),i?r.prop("disabled",!1):r.removeAttr("disabled");if((d=e.extend(!0,{},e.ajaxSettings,n)).context=d.context||d,u="jqFormIO"+(new Date).getTime(),d.iframeTarget?(v=(h=e(d.iframeTarget)).attr2("name"))?u=v:h.attr2("name",u):(h=e('<iframe name="'+u+'" src="'+d.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=h[0],m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";o("aborting upload... "+i),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(e){}h.attr("src",d.iframeSrc),m.error=i,d.error&&d.error.call(d.context,m,i,t),c&&e.event.trigger("ajaxError",[m,d,i]),d.complete&&d.complete.call(d.context,m,i)}},(c=d.global)&&0==e.active++&&e.event.trigger("ajaxStart"),c&&e.event.trigger("ajaxSend",[m,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,m,d))return d.global&&e.active--,w.reject(),w;if(m.aborted)return w.reject(),w;(g=y.clk)&&(v=g.name)&&!g.disabled&&(d.extraData=d.extraData||{},d.extraData[v]=g.value,"image"==g.type&&(d.extraData[v+".x"]=y.clk_x,d.extraData[v+".y"]=y.clk_y));var x=1,C=2;function k(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){o("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){o("cannot get iframe.contentDocument: "+i),t=e.document}return t}var S=e("meta[name=csrf-token]").attr("content"),O=e("meta[name=csrf-param]").attr("content");function $(){var t=l.attr2("target"),i=l.attr2("action"),n=l.attr("enctype")||l.attr("encoding")||"multipart/form-data";y.setAttribute("target",u),a&&!/post/i.test(a)||y.setAttribute("method","POST"),i!=d.url&&y.setAttribute("action",d.url),d.skipEncodingOverride||a&&!/post/i.test(a)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(_=setTimeout((function(){b=!0,j(x)}),d.timeout));var r=[];try{if(d.extraData)for(var s in d.extraData)d.extraData.hasOwnProperty(s)&&(e.isPlainObject(d.extraData[s])&&d.extraData[s].hasOwnProperty("name")&&d.extraData[s].hasOwnProperty("value")?r.push(e('<input type="hidden" name="'+d.extraData[s].name+'">').val(d.extraData[s].value).appendTo(y)[0]):r.push(e('<input type="hidden" name="'+s+'">').val(d.extraData[s]).appendTo(y)[0]));d.iframeTarget||h.appendTo("body"),p.attachEvent?p.attachEvent("onload",j):p.addEventListener("load",j,!1),setTimeout((function e(){try{var t=k(p).readyState;o("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){o("Server abort: ",e," (",e.name,")"),j(C),_&&clearTimeout(_),_=void 0}}),15);try{y.submit()}catch(e){document.createElement("form").submit.apply(y)}}finally{y.setAttribute("action",i),y.setAttribute("enctype",n),t?y.setAttribute("target",t):l.removeAttr("target"),e(r).remove()}}O&&S&&(d.extraData=d.extraData||{},d.extraData[O]=S),d.forceSync?$():setTimeout($,10);var E,D,M,T=50;function j(t){if(!m.aborted&&!M){if((D=k(p))||(o("cannot access response document"),t=C),t===x&&m)return m.abort("timeout"),void w.reject(m,"timeout");if(t==C&&m)return m.abort("server abort"),void w.reject(m,"error","server abort");if(D&&D.location.href!=d.iframeSrc||b){p.detachEvent?p.detachEvent("onload",j):p.removeEventListener("load",j,!1);var i,n="success";try{if(b)throw"timeout";var a="xml"==d.dataType||D.XMLDocument||e.isXMLDoc(D);if(o("isXml="+a),!a&&window.opera&&(null===D.body||!D.body.innerHTML)&&--T)return o("requeing onLoad callback, DOM not available"),void setTimeout(j,250);var r=D.body?D.body:D.documentElement;m.responseText=r?r.innerHTML:null,m.responseXML=D.XMLDocument?D.XMLDocument:D,a&&(d.dataType="xml"),m.getResponseHeader=function(e){return{"content-type":d.dataType}[e.toLowerCase()]},r&&(m.status=Number(r.getAttribute("status"))||m.status,m.statusText=r.getAttribute("statusText")||m.statusText);var s=(d.dataType||"").toLowerCase(),l=/(json|script|text)/.test(s);if(l||d.textarea){var u=D.getElementsByTagName("textarea")[0];if(u)m.responseText=u.value,m.status=Number(u.getAttribute("status"))||m.status,m.statusText=u.getAttribute("statusText")||m.statusText;else if(l){var f=D.getElementsByTagName("pre")[0],g=D.getElementsByTagName("body")[0];f?m.responseText=f.textContent?f.textContent:f.innerText:g&&(m.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==s&&!m.responseXML&&m.responseText&&(m.responseXML=A(m.responseText));try{E=P(m,s,d)}catch(e){n="parsererror",m.error=i=e||n}}catch(e){o("error caught: ",e),n="error",m.error=i=e||n}m.aborted&&(o("upload aborted"),n=null),m.status&&(n=m.status>=200&&m.status<300||304===m.status?"success":"error"),"success"===n?(d.success&&d.success.call(d.context,E,"success",m),w.resolve(m.responseText,"success",m),c&&e.event.trigger("ajaxSuccess",[m,d])):n&&(void 0===i&&(i=m.statusText),d.error&&d.error.call(d.context,m,n,i),w.reject(m,"error",i),c&&e.event.trigger("ajaxError",[m,d,i])),c&&e.event.trigger("ajaxComplete",[m,d]),c&&!--e.active&&e.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,m,n),M=!0,d.timeout&&clearTimeout(_),setTimeout((function(){d.iframeTarget?h.attr("src",d.iframeSrc):h.remove(),m.responseXML=null}),100)}}}var A=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},F=e.parseJSON||function(e){return window.eval("("+e+")")},P=function(t,i,n){var a=t.getResponseHeader("content-type")||"",o="xml"===i||!i&&a.indexOf("xml")>=0,r=o?t.responseXML:t.responseText;return o&&"parsererror"===r.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(r=n.dataFilter(r,i)),"string"==typeof r&&("json"===i||!i&&a.indexOf("json")>=0?r=F(r):("script"===i||!i&&a.indexOf("javascript")>=0)&&e.globalEval(r)),r};return w}},e.fn.ajaxForm=function(t){if((t=t||{}).delegation=t.delegation&&e.isFunction(e.fn.on),!t.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(o("DOM not ready, queuing ajaxForm"),e((function(){e(i.s,i.c).ajaxForm(t)})),this):(o("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return t.delegation?(e(document).off("submit.form-plugin",this.selector,n).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,t,n).on("click.form-plugin",this.selector,t,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",t,n).bind("click.form-plugin",t,a)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(i,n){var a=[];if(0===this.length)return a;var o,r,s,l,d,c,u,f,h=this[0],p=this.attr("id"),m=i?h.getElementsByTagName("*"):h.elements;if(m&&!/MSIE [678]/.test(navigator.userAgent)&&(m=e(m).get()),p&&(o=e(":input[form="+p+"]").get()).length&&(m=(m||[]).concat(o)),!m||!m.length)return a;for(r=0,u=m.length;r<u;r++)if((l=(c=m[r]).name)&&!c.disabled)if(i&&h.clk&&"image"==c.type)h.clk==c&&(a.push({name:l,value:e(c).val(),type:c.type}),a.push({name:l+".x",value:h.clk_x},{name:l+".y",value:h.clk_y}));else if((d=e.fieldValue(c,!0))&&d.constructor==Array)for(n&&n.push(c),s=0,f=d.length;s<f;s++)a.push({name:l,value:d[s]});else if(t.fileapi&&"file"==c.type){n&&n.push(c);var g=c.files;if(g.length)for(s=0;s<g.length;s++)a.push({name:l,value:g[s],type:c.type});else a.push({name:l,value:"",type:c.type})}else null!=d&&(n&&n.push(c),a.push({name:l,value:d,type:c.type,required:c.required}));if(!i&&h.clk){var v=e(h.clk),b=v[0];(l=b.name)&&!b.disabled&&"image"==b.type&&(a.push({name:l,value:v.val()}),a.push({name:l+".x",value:h.clk_x},{name:l+".y",value:h.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each((function(){var n=this.name;if(n){var a=e.fieldValue(this,t);if(a&&a.constructor==Array)for(var o=0,r=a.length;o<r;o++)i.push({name:n,value:a[o]});else null!=a&&i.push({name:this.name,value:a})}})),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],n=0,a=this.length;n<a;n++){var o=this[n],r=e.fieldValue(o,t);null==r||r.constructor==Array&&!r.length||(r.constructor==Array?e.merge(i,r):i.push(r))}return i},e.fieldValue=function(t,i){var n=t.name,a=t.type,o=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||t.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!t.checked||("submit"==a||"image"==a)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var r=t.selectedIndex;if(r<0)return null;for(var s=[],l=t.options,d="select-one"==a,c=d?r+1:l.length,u=d?r:0;u<c;u++){var f=l[u];if(f.selected){var h=f.value;if(h||(h=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),d)return h;s.push(h)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each((function(){e("input,select,textarea",this).clearFields(t)}))},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var n=this.type,a=this.tagName.toLowerCase();i.test(n)||"textarea"==a?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==a?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(n)||"string"==typeof t&&e(this).is(t))&&(this.value="")}))},e.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each((function(){this.disabled=!e}))},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each((function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}}))},e.fn.ajaxSubmit.debug=!1})?n.apply(t,a):n)||(e.exports=o)}()},155:function(e,t,i){var n,a,o;a=[i(4)],void 0===(o="function"==typeof(n=function(e){function t(t){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=e.extend({},this.constructor.defaults),this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1},t.prototype.option=function(t){e.extend(this.options,t)},t.prototype.imageCountLabel=function(e,t){return this.options.albumLabel.replace(/%1/g,e).replace(/%2/g,t)},t.prototype.init=function(){this.enable(),this.build()},t.prototype.enable=function(){var t=this;e("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",(function(i){return t.start(e(i.currentTarget)),!1}))},t.prototype.build=function(){var t=this;e('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(e("body")),this.$lightbox=e("#lightbox"),this.$overlay=e("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",(function(){return t.end(),!1})),this.$lightbox.hide().on("click",(function(i){return"lightbox"===e(i.target).attr("id")&&t.end(),!1})),this.$outerContainer.on("click",(function(i){return"lightbox"===e(i.target).attr("id")&&t.end(),!1})),this.$lightbox.find(".lb-prev").on("click",(function(){return 0===t.currentImageIndex?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1})),this.$lightbox.find(".lb-next").on("click",(function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1})),this.$lightbox.find(".lb-loader, .lb-close").on("click",(function(){return t.end(),!1}))},t.prototype.start=function(t){function i(e){n.album.push({link:e.attr("href"),title:e.attr("data-title")||e.attr("title")})}var n=this,a=e(window);a.on("resize",e.proxy(this.sizeOverlay,this)),e("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var o,r=0,s=t.attr("data-lightbox");if(s){o=e(t.prop("tagName")+'[data-lightbox="'+s+'"]');for(var l=0;l<o.length;l=++l)i(e(o[l])),o[l]===t[0]&&(r=l)}else if("lightbox"===t.attr("rel"))i(t);else{o=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var d=0;d<o.length;d=++d)i(e(o[d])),o[d]===t[0]&&(r=d)}var c=a.scrollTop()+this.options.positionFromTop,u=a.scrollLeft();this.$lightbox.css({top:c+"px",left:u+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&e("body").addClass("lb-disable-scrolling"),this.changeImage(r)},t.prototype.changeImage=function(t){var i=this;this.disableKeyboardNav();var n=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),e(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var a=new Image;a.onload=function(){var o,r,s,l,d,c;n.attr("src",i.album[t].link),e(a),n.width(a.width),n.height(a.height),i.options.fitImagesInViewport&&(c=e(window).width(),d=e(window).height(),l=c-i.containerLeftPadding-i.containerRightPadding-20,s=d-i.containerTopPadding-i.containerBottomPadding-120,i.options.maxWidth&&i.options.maxWidth<l&&(l=i.options.maxWidth),i.options.maxHeight&&i.options.maxHeight<l&&(s=i.options.maxHeight),(a.width>l||a.height>s)&&(a.width/l>a.height/s?(r=l,o=parseInt(a.height/(a.width/r),10),n.width(r),n.height(o)):(o=s,r=parseInt(a.width/(a.height/o),10),n.width(r),n.height(o)))),i.sizeContainer(n.width(),n.height())},a.src=this.album[t].link,this.currentImageIndex=t},t.prototype.sizeOverlay=function(){this.$overlay.width(e(document).width()).height(e(document).height())},t.prototype.sizeContainer=function(e,t){function i(){n.$lightbox.find(".lb-dataContainer").width(r),n.$lightbox.find(".lb-prevLink").height(s),n.$lightbox.find(".lb-nextLink").height(s),n.showImage()}var n=this,a=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),r=e+this.containerLeftPadding+this.containerRightPadding,s=t+this.containerTopPadding+this.containerBottomPadding;a!==r||o!==s?this.$outerContainer.animate({width:r,height:s},this.options.resizeDuration,"swing",(function(){i()})):i()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var e=!1;try{document.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(e&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),e&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),e&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var t=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",(function(t){void 0!==e(this).attr("target")?window.open(e(this).attr("href"),e(this).attr("target")):location.href=e(this).attr("href")})),this.album.length>1&&this.options.showImageNumberLabel){var i=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(i).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,(function(){return t.sizeOverlay()}))},t.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},t.prototype.keyboardAction=function(e){var t=e.keyCode,i=String.fromCharCode(t).toLowerCase();27===t||i.match(/x|o|c/)?this.end():"p"===i||37===t?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===i||39===t)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&e("body").removeClass("lb-disable-scrolling")},new t})?n.apply(t,a):n)||(e.exports=o)},156:function(e,t,i){(function(){var e,t,i,n,a={}.hasOwnProperty;(n=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,a,o,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),r=[],n=0,a=(o=e.childNodes).length;n<a;n++)i=o[n],r.push(this.add_option(i,t,e.disabled));return r},e.prototype.add_option=function(e,t,i){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:!0===i?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,i;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,(function(e){return t[e]||"&amp;"}))):e},e}()).select_to_array=function(e){var t,i,a,o,r;for(i=new n,a=0,o=(r=e.childNodes).length;a<o;a++)t=r[a],i.add_node(t);return i.parsed},t=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout((function(){return t.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout((function(){return t.blur_test()}),100)},e.prototype.results_option_build=function(e){var t,i,n,a,o;for(t="",n=0,a=(o=this.results_data).length;n<a;n++)(i=o[n]).group?t+=this.result_add_group(i):t+=this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li class="'+t.join(" ")+'"'+i+' data-option-array-index="'+e.array_index+'">'+e.search_text+"</li>"):""},e.prototype.result_add_group=function(e){return(e.search_match||e.group_match)&&e.active_options>0?'<li class="group-result">'+e.search_text+"</li>":""},e.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing)return this.winnow_results()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.stringEscaped=function(e){for(var t=[{val:"A",let:"(A|||||||||||)"},{val:"a",let:"(a|||||||||||)"},{val:"C",let:"(C|||||)"},{val:"c",let:"(c|||||)"},{val:"D",let:"(D|||)"},{val:"d",let:"(d|||)"},{val:"E",let:"(E|||||||||)"},{val:"e",let:"(e|||||||||)"},{val:"G",let:"(G||||)"},{val:"g",let:"(g||||)"},{val:"H",let:"(H||)"},{val:"h",let:"(h||)"},{val:"I",let:"(I||||||||||)"},{val:"i",let:"(i||||||||||)"},{val:"J",let:"(J|)"},{val:"j",let:"(j|)"},{val:"K",let:"(K|)"},{val:"k",let:"(k|)"},{val:"L",let:"(L|||||)"},{val:"l",let:"(l|||||)"},{val:"N",let:"(N||||)"},{val:"n",let:"(n|||||)"},{val:"O",let:"(O|||||||||||)"},{val:"o",let:"(o||||||||||||)"},{val:"R",let:"(R|||)"},{val:"r",let:"(r|||)"},{val:"S",let:"(S||||)"},{val:"s",let:"(s|||||)"},{val:"T",let:"(T|||)"},{val:"t",let:"(t|||)"},{val:"U",let:"(U|||||||||||||||)"},{val:"u",let:"(u|||||||||||||||)"},{val:"Y",let:"(Y|||)"},{val:"y",let:"(y|||)"},{val:"W",let:"(W|)"},{val:"w",let:"(w|)"},{val:"Z",let:"(Z|||)"},{val:"z",let:"(z|||)"},{val:"f",let:"(f|)"}],i=0;i<t.length;i++)e=(e=e.replace(new RegExp(t[i].let,"g"),t[i].val)).replace(new RegExp(t[i].val,"g"),t[i].let);return e},e.prototype.winnow_results=function(){var e,t,i,n,a,o,r,s,l,d,c,u;for(this.no_results_clear(),i=0,a=this.get_search_text(),d=this.results_data,c=a.split(" "),t=a.split(" "),_s=0,_lens=c.length;_s<_lens;_s++)t[_s]=new RegExp(this.stringEscaped(c[_s]),"i");for(s=0,l=d.length;s<l;s++)if((e=d[s]).search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(0===(n=this.results_data[e.group_array_index]).active_options&&n.search_match&&(i+=1),n.active_options+=1),!e.group||this.group_search)){for(e.search_text=e.group?e.label:e.html,u=0,_s=0,_lens=t.length;_s<_lens;_s++)e.search_match=this.search_string_match(e.search_text,t[_s]),e.search_match&&!e.group&&(u+=1),u==_lens?i+=1:e.search_match=null;if(e.search_match){if(a.length)for(_s=0,_lens=c.length;_s<_lens;_s++)o=e.search_text.search(t[_s]),r=e.search_text.substr(0,o+c[_s].length)+"</em>"+e.search_text.substr(o+c[_s].length),e.search_text=r.substr(0,o)+"<em>"+r.substr(o);null!=n&&(n.group_match=!0)}else null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)}return this.result_clear_highlight(),i<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var i,n,a,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))){if((n=e.replace(/\[|\]/g,"").split(" ")).length)for(a=0,o=n.length;a<o;a++)if(i=n[a],t.test(i))return!0;return!1}},e.prototype.choices_count=function(){var e,t,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,e=0,t=(i=this.form_field.options).length;e<t;e++)i[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){if(e.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!!/iP(od|hone)/i.test(window.navigator.userAgent)||(/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent),!0)},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),(e=jQuery).fn.extend({chosen:function(n){return t.browser_is_supported()?this.each((function(t){var a,o;o=(a=e(this)).data("chosen"),"destroy"===n&&o?o.destroy():o||a.data("chosen",new i(this,n))})):this}}),i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return function(e,t){for(var i in t)a.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var t,i;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={class:t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",(function(t){e.container_mousedown(t)})),this.container.bind("mouseup.chosen",(function(t){e.container_mouseup(t)})),this.container.bind("mouseenter.chosen",(function(t){e.mouse_enter(t)})),this.container.bind("mouseleave.chosen",(function(t){e.mouse_leave(t)})),this.search_results.bind("mouseup.chosen",(function(t){e.search_results_mouseup(t)})),this.search_results.bind("mouseover.chosen",(function(t){e.search_results_mouseover(t)})),this.search_results.bind("mouseout.chosen",(function(t){e.search_results_mouseout(t)})),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",(function(t){e.search_results_mousewheel(t)})),this.form_field_jq.bind("chosen:updated.chosen",(function(t){e.results_update_field(t)})),this.form_field_jq.bind("chosen:activate.chosen",(function(t){e.activate_field(t)})),this.form_field_jq.bind("chosen:open.chosen",(function(t){e.container_mousedown(t)})),this.search_field.bind("blur.chosen",(function(t){e.input_blur(t)})),this.search_field.bind("keyup.chosen",(function(t){e.keyup_checker(t)})),this.search_field.bind("keydown.chosen",(function(t){e.keydown_checker(t)})),this.search_field.bind("focus.chosen",(function(t){e.input_focus(t)})),this.is_multiple?this.search_choices.bind("click.chosen",(function(t){e.choices_click(t)})):this.container.bind("click.chosen",(function(e){e.preventDefault()}))},i.prototype.destroy=function(){return e(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!e(t.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},i.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t,i,n;if(null!=(t=-(null!=(i=e.originalEvent)?i.wheelDelta:void 0)||(null!=(n=e.originialEvent)?n.detail:void 0)))return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},i.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return e(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){return this.container.is(e(t.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,n,a,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),a=(n=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop()),(t=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=a)return this.search_results.scrollTop(t-n>0?t-n:0);if(i<o)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},i.prototype.set_label_behavior=function(){var t=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",(function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}))},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;if((i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first()).length)return this.result_highlight=i,this.result_select(t),this.search_field.focus()},i.prototype.search_results_mouseover=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(t){var i,n,a=this;return i=e("<li />",{class:"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):((n=e("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).bind("click.chosen",(function(e){return a.choice_destroy_link_click(e)})),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.reset_single_select_options=function(){var e,t,i,n,a;for(a=[],e=0,t=(i=this.results_data).length;e<t;e++)(n=i[e]).selected?a.push(n.selected=!1):a.push(void 0);return a},i.prototype.result_select=function(e){var t,i;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(i=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;if(null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},i.prototype.no_results=function(t){var i;return(i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(t),this.search_results.append(i)},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,i,n,a,o,r,s,l;if(this.is_multiple){for(0,r=0,a="position:absolute; left: -1000px; top: -1000px; display:none;",s=0,l=(o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;s<l;s++)a+=(n=o[s])+":"+this.search_field.css(n)+";";return(t=e("<div />",{style:a})).text(this.search_field.val()),e("body").append(t),r=t.width()+25,t.remove(),r>(i=this.container.outerWidth())-10&&(r=i-10),this.search_field.css({width:r+"px"})}},i}(t)}).call(this)},157:function(e,t){(function(){var e,t,i=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},n={}.hasOwnProperty;t=function(){var e;function t(){}return e={invalid_select_element:"ChosenOrder::{{function}}: first argument must be a valid HTML Multiple Select element that has been Chosenified!",invalid_selection_array:"ChosenOrder::{{function}}: second argument must be an Array!",unreachable_chosen_container:'ChosenOrder::{{function}}: could not find the Chosen UI container! To solve the problem, try adding an "id" attribute to your <select> element.',ordering_unselected_option:"ChosenOrder::{{function}}: ignoring option '{{option}}' which is not selected. Set optional parameter \"force\" to 'true' to get the ordered selection forced first."},t.insertAt=function(e,t,i){return i.insertBefore(e,i.children[t].nextSibling)},t.getFlattenedOptionsAndGroups=function(e){var t,i,n,a,o,r,s,l,d;for(t=[],r=0,l=(n=Array.prototype.filter.call(e.childNodes,(function(e){var t;return"OPTION"===(t=e.nodeName.toUpperCase())||"OPTGROUP"===t}))).length;r<l;r++)if(i=n[r],t.push(i),"OPTGROUP"===i.nodeName.toUpperCase())for(s=0,d=(o=Array.prototype.filter.call(i.childNodes,(function(e){return"OPTION"===e.nodeName.toUpperCase()}))).length;s<d;s++)a=o[s],t.push(a);return t},t.isValidMultipleSelectElement=function(e){return null!=e&&"SELECT"===e.nodeName&&e.multiple},t.getChosenUIContainer=function(e){return""!==e.id?document.getElementById(e.id.replace(/-/g,"_")+"_chosen"):this.searchChosenUIContainer(e)},t.isChosenified=function(e){return null!=this.getChosenUIContainer(e)},t.forceSelection=function(e,t){var n,a,o,r;for(o=this.getFlattenedOptionsAndGroups(e),n=0;n<o.length;)r=(a=o[n]).getAttribute("value"),i.call(t,r)>=0?(a.selected=!0,a.setAttribute("selected","")):(a.selected=!1,a.removeAttribute("selected")),n++;return this.triggerEvent(e,"chosen:updated")},t.getSelectionOrder=function(t){var i,n,a,o,r,s,l,d,c;if(null!=this.getDOMElement&&(t=this.getDOMElement(t)),s=[],!this.isValidMultipleSelectElement(t))return console.error(e.invalid_select_element.replace("{{function}}","getSelectionOrder")),s;if(null==(n=this.getChosenUIContainer(t)))return console.error(e.unreachable_chosen_container.replace("{{function}}","getSelectionOrder")),s;for(i=n.querySelectorAll(".search-choice"),r=this.getFlattenedOptionsAndGroups(t),d=0,c=i.length;d<c;d++)null!=(a=i[d].querySelectorAll(".search-choice-close")[0])&&(l=a.getAttribute(this.relAttributeName)),o=r[l],s.push(o.value);return s},t.setSelectionOrder=function(t,i,n){var a,o,r,s,l,d,c,u,f,h,p,m,g,v;if(null!=this.getDOMElement&&(t=this.getDOMElement(t)),this.isValidMultipleSelectElement(t)){if(null!=(o=this.getChosenUIContainer(t))){if(i instanceof Array){for(i=i.map(Function.prototype.call,String.prototype.trim),c=this.getFlattenedOptionsAndGroups(t),null!=n&&!0===n&&this.forceSelection(t,i),v=[],r=h=0,m=i.length;h<m;r=++h){for(l=i[r],u=null,s=p=0,g=c.length;p<g;s=++p)c[s].value===l&&(u=s);a=o.querySelectorAll(".search-choice"),f=this.relAttributeName,null!=(d=Array.prototype.filter.call(a,(function(e){return null!=e.querySelector("a.search-choice-close["+f+'="'+u+'"]')}))[0])?(o.querySelector("ul.chosen-choices"),v.push(this.insertAt(d,r,o.querySelector("ul.chosen-choices")))):console.warn(e.ordering_unselected_option.replace("{{function}}","setSelectionOrder").replace("{{option}}",l))}return v}return console.error(e.invalid_selection_array.replace("{{function}}","setSelectionOrder"))}console.error(e.unreachable_chosen_container.replace("{{function}}","setSelectionOrder"))}else console.error(e.invalid_select_element.replace("{{function}}","setSelectionOrder"))},t}(),(e=jQuery).fn.extend({getSelectionOrder:function(){return a.getSelectionOrder(this)},setSelectionOrder:function(e,t){return a.setSelectionOrder(this,e,t)}});var a=this.ChosenOrder=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return function(e,t){for(var i in t)n.call(t,i)&&(e[i]=t[i]);function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype}(i,t),i.relAttributeName="data-option-array-index",i.isjQueryObject=function(e){return"undefined"!=typeof jQuery&&null!==jQuery&&e instanceof jQuery},i.getDOMElement=function(e){return this.isjQueryObject(e)?e.get(0):e},i.searchChosenUIContainer=function(t){return null!=e(t).data("chosen")?e(t).data("chosen").container[0]:e(t).next(".chosen-container.chosen-container-multi").get(0)},i.triggerEvent=function(t,i){return e(t).trigger(i)},i}(t)}).call(this)},158:function(e,t){jQuery.fn.ckEditors=function(){if(this.length<0)return this;$(this).each((function(){var e=this;$(this).hasClass("js_editor")&&!$(this).hasClass("editor_replaced")&&($(this).addClass("editor_replaced"),CKEDITOR.config.height=$(this).attr("data-height")?$(this).attr("data-height"):"250px",CKEDITOR.replace($(this).attr("id")).on("instanceReady",(function(){$(e).removeClass("js_editor")})))}))},jQuery.fn.firstLevelForm=function(e){return $(this).filter((function(){return $(this).parents("form")[0]==e}))}},159:function(e,t){var i,n,a;i={},n={},a={},window.startTest=function(e){var t;try{throw new Error}catch(e){t=e.stack.split("\n")[2].trim().split(" ")[1]}return t in i||(i[t]=0,n[t]=0),n[t]++,{name:t,t:(new Date).getTime()}},window.endTest=function(e){i[e.name]+=(new Date).getTime()-e.t,a[e.name]&&clearTimeout(a[e.name]),a[e.name]=setTimeout((function(){console.log(n[e.name]+"x "+e.name+" "+i[e.name]/1e6+"s"),n[e.name]=0,i[e.name]=0}),100)}},161:function(e,t,i){var n=function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,i,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),r=new $(n||[]);return o._invoke=function(e,t,i){var n=c;return function(a,o){if(n===f)throw new Error("Generator is already running");if(n===h){if("throw"===a)throw o;return D()}for(i.method=a,i.arg=o;;){var r=i.delegate;if(r){var s=k(r,i);if(s){if(s===p)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===c)throw n=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var l=d(e,t,i);if("normal"===l.type){if(n=i.done?h:u,l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=h,i.method="throw",i.arg=l.arg)}}}(e,i,r),o}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c="suspendedStart",u="suspendedYield",f="executing",h="completed",p={};function m(){}function g(){}function v(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,y=_&&_(_(E([])));y&&y!==i&&n.call(y,o)&&(b=y);var w=v.prototype=m.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function C(e){var t;this._invoke=function(i,a){function o(){return new Promise((function(t,o){!function t(i,a,o,r){var s=d(e[i],e,a);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,o,r)}),(function(e){t("throw",e,o,r)})):Promise.resolve(c).then((function(e){l.value=e,o(l)}),(function(e){return t("throw",e,o,r)}))}r(s.arg)}(i,a,t,o)}))}return t=t?t.then(o,o):o()}}function k(e,i){var n=e.iterator[i.method];if(n===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,k(e,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=d(n,e.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,p;var o=a.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,p):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var i=e[o];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function i(){for(;++a<e.length;)if(n.call(e,a))return i.value=e[a],i.done=!1,i;return i.value=t,i.done=!0,i};return r.next=r}}return{next:D}}function D(){return{value:t,done:!0}}return g.prototype=w.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(C.prototype),C.prototype[r]=function(){return this},e.AsyncIterator=C,e.async=function(t,i,n,a){var o=new C(l(t,i,n,a));return e.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=E,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function a(n,a){return s.type="throw",s.arg=e,i.next=n,a&&(i.method="next",i.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),d=n.call(r,"finallyLoc");if(l&&d){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),O(i),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var a=n.arg;O(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:E(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},162:function(e,t,i){"use strict";var n=i(167);i.n(n).a},163:function(e,t,i){"use strict";var n=i(172);i.n(n).a},164:function(e,t,i){"use strict";i.r(t);var n=i(6),a=i(139),o=i(140),r={methods:{asset:function(e){return window.crudadmin.admin_assets+"/"+e},isMobileDevice:function(){return $(window).width()<768}}};function s(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,i){if(["getParentRow"].indexOf(e)>-1){var n=i.$parent.depth_level||i.$parent.$parent.depth_level;if(void 0!==t.depth_level&&t.depth_level>n)return!1}return!0},c=function(e,t,i){return"sendParentRow"==e&&(t={depth_level:i.$parent.depth_level}),t},u={methods:{generateUuid:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))},getModelBuilder:function(e,t){var i=this.$parent;for(t="$parent"===e?this.model.slug:null,e="$parent"===e?null:e;i&&("model-builder"!=i.$options.name||e&&i.model.slug!=e||t&&i.model.slug===t);)i=i.$parent;return!e||i&&i.model.slug==e?i:(console.error('Model with table name "'+e+'" does not exists in parents tree of models'),null)},registerFieldComponents:function(e,t,i){if(t&&i in t){for(var n=t[i].split(","),a=null,o=0;o<n.length;o++){var r,s=n[o].toLowerCase(),l=e.components[s];if(l){try{r=this.getComponentObject(l)}catch(e){console.error("Syntax error in component "+n[o]+".Vue\n",e);continue}a?("components"in a||(a.components={}),a.components[n[o]]=r):a=r}}a&&Vue.component(this.componentName(e,t[i]),a)}},componentName:function(e,t){if(t){var i,n,a=t.split(",").filter((function(e){return e})),o=a[0].toLowerCase();return(i=o in e.components?o:a[0])&&(n=this.isGlobalComponent(i))&&this.getComponentObject(n),i}},isGlobalComponent:function(e){var t=Vue.options.components[e];return!(!t||!t.options)&&t.options},getComponentObject:function(e){var t;if("string"==typeof e)try{t=new Function("return "+e)()}catch(i){t=this.isGlobalComponent(e)}else"object"==l(e)&&(t=e);if(!t||1==t.$CA)return t||null;t.$CA=!0,t.template||t.__file||(t.template="<div></div>"),t.ready&&!t.mounted&&(t.mounted=t.ready),t.created=_.castArray(t.created),t.destroyed=_.castArray(t.destroyed);var i=["sendRow","sendParentRow","reloadRows"],n=["getRow","getParentRow","onCreate","onUpdate","onDelete","onSubmit","buttonAction","changeFormSaveState","selectHistoryRow"],a={};return t.created=[function(){var e=this;for(var t in i)!function(t){e.$on(t,a[t]=function(i){eventHub.$emit(t,c(t,i,e))})}(i[t]);for(var t in n)!function(t){eventHub.$on(t,a[t]=function(i){d(t,i,e)&&e.$emit(t,i)})}(n[t])}].concat(s(t.created)).filter((function(e){return e})),t.destroyed=[function(){for(var e in n)t=n[e],eventHub.$off(t,a[t]);var t}].concat(s(t.destroyed)).filter((function(e){return e})),t},getLocaleFieldValue:function(e,t){if(e&&"object"===l(e)){if(t in e&&(e[t]||0==e[t]))e=e[t];else for(var i in e)if(e[i]||0===e[i]){e=e[i];break}"object"==l(e)&&(e="")}return e}}},f={methods:{openAlert:function(e,t,i,n,a,o){return i||(i="success"),"error"==i&&(i="danger"),this.$root.alert.type=i,this.$root.alert.title=e,this.$root.alert.message=t,this.$root.alert.success=n,this.$root.alert.close=a,this.$root.alert.opened=(new Date).getTime(),this.$root.alert.component=o,"activeElement"in document&&document.activeElement.blur(),this.$root.alert},errorAlert:function(e){this.openAlert(this.trans("warning"),this.trans("unknown-error"),"danger",null,e||function(){})}}},h="#$_",p=function(){};p.prototype.get=function(e,t){var i=this[e];if(!t)return i;for(var n in t)i=i.replace(":"+n,null==t[n]?"":t[n]);return i};var m,g,v=function(e){var t=new p;for(var i in e)t[i]=e[i];return t},b=i(5),y=i.n(b);function w(e,t,i,n,a,o,r){try{var s=e[o](r),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function x(e,t,i,n,a,o,r,s){var l,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),o&&(d._scopeId="data-v-"+o),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},d._ssrRegister=l):a&&(l=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,t){return l.call(t),c(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:d}}var C=x({props:["user"],computed:{language:function(){return this.$root.admin_language},languages:function(){return this.$root.admin_languages},logout:function(){return window.crudadmin.logout},getPermissions:function(){if("roles"in this.user){for(var e=[],t=0;t<this.user.roles.length;t++)e.push(this.user.roles[t].name);if(e.length>0)return e.join(", ")}return this.trans("admin-user")}},methods:{changeLocale:(m=y.a.mark((function e(t){var i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.$root.requests.get("switch_locale",{id:t.id}),e.next=3,this.$http.get(i);case 3:window.location.reload();case 4:case"end":return e.stop()}}),e,this)})),g=function(){var e=this,t=arguments;return new Promise((function(i,n){var a=m.apply(e,t);function o(e){w(a,i,n,o,r,"next",e)}function r(e){w(a,i,n,o,r,"throw",e)}o(void 0)}))},function(e){return g.apply(this,arguments)})}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user?i("div",{staticClass:"navbar-custom-menu"},[i("div",{staticClass:"dropdown fields-list mr-4",attrs:{"fields-list":""}},[e.languages.length>1?i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[i("i",{staticClass:"--icon-left fa fa-globe"}),e._v("\n            "+e._s(e.language?e.language.name:"")+"\n            "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]):e._e(),e._v(" "),i("ul",{staticClass:"dropdown-menu menu-left dropdown-menu-right"},e._l(e.languages,(function(t){return i("li",{class:{active:e.language&&e.language.id==t.id},on:{click:function(i){return i.preventDefault(),e.changeLocale(t)}}},[e._v("\n                "+e._s(t.name)+"\n            ")])})),0)]),e._v(" "),i("ul",{staticClass:"nav navbar-nav"},[i("li",{staticClass:"user user-menu"},[i("a",{staticClass:"user-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[i("img",{staticClass:"user-image",attrs:{src:e.getAvatar,alt:"User Image"}}),e._v(" "),e.user?i("span",[e._v(e._s(e.user.username))]):e._e(),e._v(" "),i("i",{staticClass:"fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu"},[i("li",{staticClass:"user-header"},[i("img",{staticClass:"img-circle",attrs:{src:e.getAvatar,alt:"User Image"}}),e._v(" "),e.user?i("p",[e._v("\n                        "+e._s(e.user.username)+" - "+e._s(e.getPermissions)+"\n                    ")]):e._e()]),e._v(" "),i("li",{staticClass:"user-body"}),e._v(" "),i("li",{staticClass:"user-footer"},[i("a",{staticClass:"btn btn-primary",attrs:{href:e.logout}},[e._v(e._s(e.trans("logout")))])])])])])]):e._e()}),[],!1,null,null,null).exports,k=x({name:"sidebar-row",props:["row","parent"],data:function(){return{opened:!1,levels:[],defaultIcon:"fa-link"}},created:function(){var e=[];if(this.parent)for(var t=0;t<this.parent.length;t++)e.push(this.parent[t]);return e.push(this.row),this.levels=e},mounted:function(){var e=this;this.openTree(),eventHub.$on("closeMenu",(function(t){e.getParentLi()!=t&&e!=t&&(e.opened=!1)}))},computed:{hasSubmenu:function(){return 0!==this.row.submenu.length},isGroup:function(){return this.row.slug.substr(0,h.length)==h},hasChilds:function(){for(var e in this.row.submenu)return!0;return!1},isActive:function(){return!1!==this.row.active&&!1!==this.row.in_menu||1==this.opened}},methods:{getParentLi:function(){for(var e=this,t=[];"sidebar-row"==e.$options.name;)e=e.$parent,t.push(e);return t[t.length-2]||this},openTree:function(){if(this.row.table==this.$router.history.current.params.model)for(var e=this;"sidebar-row"==e.$options.name;)e.opened=!0,e=e.$parent},toggleMenu:function(){this.opened=!this.opened,eventHub.$emit("closeMenu",this.getParentLi())}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("fragment",[e.isActive&&!e.isGroup?i("router-link",{staticClass:"treeview",attrs:{tag:"li","data-slug":e.row.slug,to:{name:"admin-model",params:{model:e.row.slug}},"exact-active-class":"active","active-class":"active"}},[i("a",{on:{click:e.toggleMenu}},[i("i",{staticClass:"icon",class:["fa",e.faMigrator(e.row.icon||e.defaultIcon)]}),e._v(" "),i("span",[e._v(e._s(e.row.name))]),e._v(" "),e.hasSubmenu?i("i",{staticClass:"fa side-arrow",class:{"fa-angle-down":e.opened,"fa-angle-left":!e.opened}}):e._e()]),e._v(" "),e.hasSubmenu?i("ul",{staticClass:"treeview-menu"},e._l(e.row.submenu,(function(t,n){return i("sidebar-row",{key:n,attrs:{row:t,parent:e.levels}})})),1):e._e()]):e._e(),e._v(" "),e.isActive&&e.isGroup&&e.hasChilds?i("li",{staticClass:"treeview treeview-list",class:{active:e.opened},attrs:{"data-slug":e.row.slug}},[i("a",{on:{click:e.toggleMenu}},[i("i",{staticClass:"fa icon",class:e.faMigrator(e.row.icon||"fa-folder-open far")}),e._v(" "),i("span",[e._v(e._s(e.row.name))]),e._v(" "),e.hasSubmenu?i("i",{staticClass:"fa side-arrow",class:{"fa-angle-down":e.opened,"fa-angle-left":!e.opened}}):e._e()]),e._v(" "),e.hasSubmenu?i("ul",{staticClass:"treeview-menu"},e._l(e.row.submenu,(function(t,n){return i("sidebar-row",{key:n,attrs:{row:t,parent:e.levels}})})),1):e._e()]):e._e()],1)}),[],!1,null,null,null).exports,S=i(2);function O(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?O(Object(i),!0).forEach((function(t){D(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function D(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var M=x({props:["rows","languages","langid","user","version","author"],components:{SidebarRow:k},watch:{rows:function(e){var t=this;this.$nextTick((function(){t.addActiveTreeClasses()}))}},computed:E({},Object(S.c)("header",["sidebarMenuVisible"]),{year:function(){return moment().format("Y")},groups:function(){var e=this.rows;for(var t in e)!0!==e[t].active&&(!1!==e[t].active&&this.hasActiveModule(e[t].submenu)||delete e[t]);return e}}),methods:E({},Object(S.b)("header",["toggleSidebarMenu"]),{addActiveTreeClasses:function(){$('.sidebar li[data-slug="'+this.$router.currentRoute.params.model+'"]').parent().addClass("menu-open").css("display","block").parents(".treeview").addClass("active"),$(".sidebar .treeview-menu a").click((function(){$(this).parent().siblings(".active").removeClass("active").find(".menu-open").slideUp()}))},hasActiveModule:function(e){for(var t in e){if(!0===e[t].active)return!0;if(e[t].submenu&&this.hasActiveModule(e[t].submenu))return!0}return!1}})},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section",{staticClass:"sidebar"},[i("ul",{staticClass:"sidebar-menu"},e._l(e.groups,(function(e,t){return i("sidebar-row",{key:t,attrs:{row:e}})})),1)]),e._v(" "),i("div",{staticClass:"footer-sidebar"},[i("div",{staticClass:"footer-content"},[!1!==e.author?i("p",[e._v("Developed by "),i("a",{attrs:{href:"https://www.marekgogol.sk",target:"_blank"}},[e._v("Marek Gogo")])]):e._e(),e._v(" "),i("p",[e._v(" 2016 - "+e._s(e.year)+" "),i("a",{attrs:{href:"https://www.crudadmin.com",target:"_blank"}},[e._v("CrudAdmin")])]),e._v(" "),!1!==e.author?i("br"):e._e(),e._v(" "),i("p",[e._v("Version "),i("a",{attrs:{target:"_blank",href:"https://packagist.org/packages/crudadmin/crudadmin#"+e.version}},[e._v(e._s(e.version))])])]),e._v(" "),i("div",{staticClass:"toggle-menu-size",on:{click:e.toggleSidebarMenu}},[i("i",{staticClass:"fa",class:{"fa-angle-left":e.sidebarMenuVisible,"fa-angle-right":!e.sidebarMenuVisible}})])])])}),[],!1,null,null,null).exports,T=x({props:["alert"],data:function(){return{registredComponents:[]}},mounted:function(){var e=this;this.$watch("alert.component",(function(t){e.bindAlertComponent(t)})),this.checkAlertEvents()},computed:{canShowAlert:function(){return null!=this.alert.title&&null!=this.alert.message||this.alert.component},getRegistredComponent:function(){var e=this.alert.component;if(e&&e.name)return this.isGlobalComponent(e.component)?e.component:this.registredComponents.indexOf(e.name)>-1?e.name:void 0}},methods:{checkAlertEvents:function(){var e=this;$(window).keyup((function(t){!0===e.canShowAlert?e.alert.opened&&(new Date).getTime()-e.alert.opened<300||(13==t.keyCode&&e.closeAlert(e.alert.success||e.alert.close),27==t.keyCode&&e.closeAlert(e.alert.close)):27==t.keyCode&&$(".modal .modal-header .close:visible").last().click()}))},bindAlertComponent:function(e){var t;if(e)try{t=this.getComponentObject(e.component),this.isGlobalComponent(e.component)||(t.name=e.name,this.$options.components[t.name]=t,this.registredComponents.push(t.name))}catch(e){console.error("Syntax error in component button component.\n",e),this.alert.component=null}},closeAlert:function(e){for(var t in"function"==typeof e&&e.call(this.$parent),this.alert)this.$parent.alert[t]=null}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.canShowAlert?i("div",{staticClass:"message-modal"},[i("div",{staticClass:"modal",class:"modal-"+e.alert.type,style:{display:e.canShowAlert?"block":"none"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[e._v(e._s(e.alert.title))]),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return e.closeAlert(e.alert.close)}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])]),e._v(" "),i("div",{staticClass:"modal-body"},[e.alert.message?i("p",{domProps:{innerHTML:e._s(e.alert.message)}}):e._e(),e._v(" "),e.getRegistredComponent?i(e.getRegistredComponent,{tag:"component",attrs:{model:e.alert.component.model,rows:e.alert.component.rows,row:e.alert.component.row,request:e.alert.component.request,data:e.alert.component.data}}):e._e()],1),e._v(" "),i("div",{staticClass:"modal-footer"},[e.alert.close||"success"==e.alert.type&&!e.alert.close||!e.alert.close&&!e.alert.success?i("button",{staticClass:"btn btn-secondary",class:{"pull-left":e.alert.success},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.closeAlert(e.alert.close)}}},[e._v(e._s(e.trans("close")))]):e._e(),e._v(" "),e.alert.success?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.closeAlert(e.alert.success)}}},[e._v(e._s(e.trans("accept")))]):e._e()])])])])]):e._e()}),[],!1,null,null,null).exports;function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,i,n,a,o,r){try{var s=e[o](r),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P=function(){},R=[function(e){e.prototype.showTab=function(e){if(-1!==this.hidden_tabs.indexOf(e)){var t=_.cloneDeep(this.hidden_tabs);t.splice(this.hidden_tabs.indexOf(e),1),this.hidden_tabs=t}},e.prototype.hideTab=function(e){-1===this.hidden_tabs.indexOf(e)&&(this.hidden_tabs=_.cloneDeep(this.hidden_tabs).concat(e))},e.prototype.setTabVisibility=function(e,t){!0===t?this.showTab(e):this.hideTab(e)}},function(e){e.prototype.showGroup=function(e){-1!==this.hidden_groups.indexOf(e)&&this.hidden_groups.splice(this.hidden_groups.indexOf(e),1)},e.prototype.hideGroup=function(e){-1===this.hidden_groups.indexOf(e)&&this.hidden_groups.push(e)},e.prototype.setGroupVisibility=function(e,t){!0===t?this.showGroup(e):this.hideGroup(e)}},function(e){e.prototype.hideFromForm=function(e,t){Vue.set(this.fields[e],"hideFromForm",t)},e.prototype.removeFromForm=function(e,t){Vue.set(this.fields[e],"removeFromForm",t)},e.prototype.optionsFilter=function(e,t){this.fields[e].optionsFilter=t},e.prototype.getOptionValue=function(e,t){var i=this.fields[e].options.filter((function(e){return e[0]==t}))[0];return _.isNil(i)?null:i[1]},e.prototype.isMatchedAttributesValues=function(e,t,i){var n=(e||"").split(","),a=n[0].split("."),o=this.fields[a[0]]||this.fields[a[0]+"_id"],r=o?o.value:i[a[0]];if(n=n.map((function(e){var t=e;return t=_.isNil(e)||["","NULL"].indexOf(e)>-1?null:t,t=["TRUE"].indexOf(e)>-1||t,t=!(["FALSE"].indexOf(e)>-1)&&t})),o&&a.length>1){var s=o.options,l=_.find(s,(function(e){return e[0]==r}));if(t){if(l&&n.slice(1).filter((function(e){return e==l[1][a[1]]})).length>0)return!0}else if(l&&l[1][a[1]]===n[1])return!0;return!1}return(_.isNil(r)||""===r)&&(r=null),t?n.slice(1).filter((function(e){return e==r})).length>0:r==n[1]},e.prototype.tryAttribute=function(e,t,i){var n;if(n=e[t]){if(!0===n)return!0;if(!1===n)return!1}return(n=e[t+"If"])?this.isMatchedAttributesValues(n,!1,i):(n=e[t+"IfIn"])?this.isMatchedAttributesValues(n,!0,i):(n=e[t+"IfNot"])?!this.isMatchedAttributesValues(n,!1,i):!!(n=e[t+"IfNotIn"])&&!this.isMatchedAttributesValues(n,!0,i)}},function(e){e.prototype.setScope=function(e,t){this.removeScope(e),this.scopes.push({key:e,params:t})},e.prototype.removeScope=function(e){var t=_.findIndex(this.scopes,{key:e});t>-1&&this.scopes.splice(t,1)},e.prototype.isInParent=function(){return!0===this.inParent},e.prototype.isSingle=function(){return 1==this.minimum&&1==this.maximum||!0===this.single},e.prototype.formPrefix=function(){return this.isInParent()?"$"+this.table+"_":""},e.prototype.hasAccess=function(e){return!0===this.permissions[e]},e.prototype.getModelProperty=function(e,t){var i=e.split("."),n=this;if(this._settings||(this._settings={}),e in this._settings)n=this._settings[e];else for(var a=0;a<i.length;a++){if(!(i[a]in n)){n=void 0;break}n=n[i[a]]}return this._settings[e]=n,void 0===n?_.isNil(t)?null:t:n},e.prototype.getSettings=function(e,t){return this.getModelProperty("settings."+e,t)},e.prototype.fieldName=function(e){if(e in this.fields)return this.fields[e].column_name||this.getSettings("columns."+e+".name")||this.fields[e].name;switch(e){case"id":return trans("number");case"created_at":return trans("created");case"updated_at":return trans("updated");default:return e}}},function(e,t){void 0===t.data&&(t.data={uuid:$app.generateUuid(),depth_level:0,tree:[],row:{},hasparentmodel:null,parentrow:null,pagination:{},search:{},checked:[],mapValues:[]}),e.prototype.setData=function(e,t){this.data[e]=t;for(var i=this.data.mapValues,n=0;n<i.length;n++)i[n].key===e&&i[n].callback(t);return this},e.prototype.getData=function(e){return this.data[e]},e.prototype.mapData=function(e,t){var i=this;return _.castArray(e).forEach((function(e){var n="function"==typeof t?t:function(i){t[e]=i};i.data.mapValues.push({key:e,callback:n})})),this},e.prototype.getRow=function(e){return this.getData("row")},e.prototype.getParentModel=function(){return $store.getters["models/getModel"](this.data.tree[0])},e.prototype.getParentModels=function(){return this.data.tree.map((function(e){return $store.getters["models/getModel"](e)}))},e.prototype.emptyRowInstance=function(){var e,t={};for(var i in this.getData("parentrow")&&null!=this.foreign_column&&(e=this.foreign_column[this.getParentTableName()])&&(t[e]=this.getData("parentrow").id),this.fields)t[i]=null;return t},e.prototype.isOpenedRow=function(){var e=this.getData("row");return e&&"id"in e&&e.id},e.prototype.resetChecked=function(){return this.data.checked.length=0},e.prototype.resetForm=function(){return this.setData("row",this.emptyRowInstance())}},function(e){e.prototype.hasParentFormModel=function(){var e=this.getData("hasparentmodel");return!!_.isNil(e)||e},e.prototype.getParentTableName=function(e){var t=this.getParentModel(),i=t?t.getRow():null;if(this.hasParentFormModel()&&"object"==j(this.hasParentFormModel())&&"slug"in this.hasParentFormModel())return this.hasParentFormModel().slug;if(!(!0===e||i&&"id"in i&&!1!==this.hasParentFormModel()))return 0;var n=this.getParentModel();return n?n.table:null},e.prototype.getParentRowId=function(){var e=this.getData("parentrow");return e&&"id"in e?e.id:0},e.prototype.isWithoutParentRow=function(){return 1==this.without_parent&&!this.getParentRowId()&&1==this.hasParentFormModel()},e.prototype.updateRowsData=function(e,t){var i=this.getData("rows");if(!0===t||i.data.length==e.length&&0!=i.data.length&&i.data[0].id==e[0].id&&1!==t)for(var n in i.data)for(var a in e[n]){var o=$.isArray(e[n][a]);(o&&!_.isEqual(i.data[n][a],e[n][a])||!o)&&(i.data[n][a]=e[n][a])}else i.data=e}},function(e){e.prototype.isReservedRow=function(e){if("object"===F(e)&&e.length&&this.reserved){for(var t=0;t<e.length;t++)if(this.reserved.indexOf(e[t])>-1)return!0;return!1}return!!(this.reserved&&this.reserved.indexOf(e)>-1)},e.prototype.removeRow=function(e,t){var i=this;e=_.castArray(e);var n=function(){var n=function(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var o=e.apply(t,i);function r(e){A(o,n,a,r,s,"next",e)}function s(e){A(o,n,a,r,s,"throw",e)}r(void 0)}))}}(y.a.mark((function n(){var a,o,r,s,l,d;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={model:i.slug,parent:i.getParentTableName(i.without_parent),id:e,subid:i.getParentRowId(),limit:i.getData("pagination").limit,page:i.getData("pagination").position,_method:"delete"},null!=$app.$root.language_id&&(a.language_id=parseInt($app.$root.language_id)),n.prev=2,n.next=5,$app.$http.post($app.$root.requests.delete,a);case 5:if(o=n.sent,!((r=o.data)&&"type"in r&&"error"==r.type)){n.next=9;break}return n.abrupt("return",$app.openAlert(r.title,r.message,"danger"));case 9:if(i.isWithoutParentRow()){for(l in s=[],i.data.rows.data)e.indexOf(i.data.rows.data[l].id)>-1&&s.push(l);for(d=0;d<s.sort((function(e,t){return t-e})).length;d++)i.data.rows.data.splice(s[d],1)}else i.updateRowsData(r.data.rows.rows),i.data.rows.count=r.data.rows.count,i.data.pagination.position=r.data.rows.page;i.getRow()&&e.indexOf(i.getRow().id)>-1&&i.resetForm(),i.emitRowData("onDelete",e),"function"==typeof t&&t(o,a),n.next=20;break;case 15:throw n.prev=15,n.t0=n.catch(2),console.error(n.t0),$app.errorResponseLayer(n.t0),n.t0;case 20:case"end":return n.stop()}}),n,null,[[2,15]])})));return function(){return n.apply(this,arguments)}}();if(this.isReservedRow(e))return $app.openAlert($app.trans("warning"),$app.trans(e.length>1?"cannot-delete-multiple":"cannot-delete"),"warning");$app.openAlert($app.trans("warning"),$app.trans("delete-warning"),"warning",n,!0)}},function(e){e.prototype.emitRowData=function(e,t){t&&t.table&&t.table!=this.table||eventHub.$emit(e,{model:this,table:this.table,slug:this.table,row:this.getRow(),rows:this.data.rows.data,count:this.data.rows.count,component:this.data.component,depth_level:this.data.depth_level})}}],I=function(e){void 0===e.scopes&&(e.scopes=[]);var t=new P;for(var i in e)t[i]=e[i];for(var i in R)R[i](P,t);return t};function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){z(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var V=function(e,t){return{el:"#app",router:e,store:t,data:function(){return{mobile_menu:!1,csrf_token:null,version:null,version_resources:null,version_assets:null,gettext:null,locale:null,dashboard:null,license_key:null,requests:{},user:null,tree:[],originalModels:{},models:{},localization:{},languages:[],admin_languages:[],language_id:null,languages_active:!1,alert:{type:null,title:null,message:null,success:null,close:null,component:null,opened:null}}},watch:{language_id:function(e){localStorage.language_id=e}},components:{Sidebar:M,RightNavbar:C,Modal:T},created:function(){this.reloadCSRFToken($('meta[name="csrf-token"]')[0].content),this.bootApp(),jQuery.datetimepicker.setLocale(this.locale)},mounted:function(){this.bootTooltips()},computed:q({},Object(S.c)("header",["isActiveMobileMenu","sidebarMenuVisible"]),{isTest:function(){return this.version.indexOf("test")>-1}}),methods:q({},Object(S.b)("header",["toggleMobileMenu"]),{setDefaultRoute:function(){var t=this;if("dashboard"==e.currentRoute.name){var i,n=function(e){return t.models[e].hasAccess("read")};for(var a in this.models)if(n(a)&&!0===this.models[a].getSettings("default",!1)){i=this.models[a].table;break}var o=this.user.roles.filter((function(e){return e.default_model&&n(e.default_model)})).map((function(e){return e.default_model}));(o.length>0||i)&&e.push({name:"admin-model",params:{model:o[0]||i}})}},bootTooltips:function(){$("body").tooltip({selector:"[data-toggle='tooltip']"}),$("body").on("click",(function(){$('[data-toggle="tooltip"]').tooltip("dispose"),$(".tooltip.show").remove()}))},reloadCSRFToken:function(e){this.csrf_token=e,Vue.http.options.headers={"X-CSRF-TOKEN":e},$.ajaxSetup({headers:{"X-CSRF-TOKEN":e}})},bootApp:function(){var e=this;window.crudadmin.logged&&this.$http.get(window.crudadmin.baseURL+"/api/layout").then((function(t){var i=t.data;e.version=i.version,e.version_resources=i.version_resources,e.version_assets=i.version_assets,e.gettext=i.gettext,e.locale=i.locale,e.dashboard=i.dashboard,e.license_key=i.license_key,e.requests=v(i.requests),e.user=i.user,e.tree=i.models,e.models=e.flattenModelsWithChilds(i.models),e.originalModels=e.flattenModelsWithChilds(i.models),e.localization=i.localization||{},e.languages=i.languages||[],e.admin_language=i.admin_language||{},e.admin_languages=i.admin_languages||[],e.bootLanguages(),e.setDefaultRoute()})).catch((function(t){e.errorResponseLayer(t)}))},getModelsFromGroups:function(e,t){for(var i in e)if(i.substr(0,h.length)==h)for(var n in e[i].submenu)n.substr(0,h.length)==h?t=t.concat(this.getModelsFromGroups(e[i].submenu[n].submenu,t)):t.push(e[i].submenu[n]);else t.push(e[i]);return t},flattenModelsWithChilds:function(e){var t={};for(var i in e=this.getModelsFromGroups(e,[]))"object"==N(e[i])&&(t[e[i].slug]=I(e[i]),Object.keys(e[i].childs).length>0&&(t=_.merge(t,this.flattenModelsWithChilds(e[i].childs))));return t},bootLanguages:function(){0!=this.languages.length&&("language_id"in localStorage&&$.isNumeric(localStorage.language_id)||(localStorage.language_id=this.languages[0].id),this.language_id=localStorage.language_id)},errorResponseLayer:function(e,t,i){return"responseJSON"in e&&(e.data=e.responseJSON),!e.data&&e.body&&(e.data=e.body),e.data&&e.data.message&&e.data.title&&e.data.type?this.$root.openAlert(e.data.title,e.data.message,e.data.type,null,(function(){401==e.status&&(window.location.href=window.crudadmin.baseURL)})):404==e.status?this.$root.openAlert(this.trans("warning"),this.trans("row-error"),"warning"):401==e.status?this.$root.openAlert(this.trans("warning"),this.trans("auto-logout"),"warning",null,(function(){window.location.reload()})):!i||t!==e.status&&null!==t?e.data.message?this.$root.openAlert("Error "+e.status,e.data.message,"error"):void this.$root.errorAlert():i(e)},getModelProperty:function(e,t,i){return e?e.getModelProperty(t,i):null},languageOptions:function(e,t,i,n){var a,o,r,s,l=[],d=i&&Object.keys(i).length>0;t&&(a=t.belongsTo||t.belongsToMany)&&(o=a.split(",")[1])&&(s=o.replace(/\\:/g,"").match(new RegExp(/[\:^]([0-9,a-z,A-Z$_]+)+/,"g"))),t&&t.option&&(s=(o=t.option).replace(/\\:/g,"").match(new RegExp(/[\:^]([0-9,a-z,A-Z$_]+)+/,"g")));e:for(var c in e){if(d)for(var u in i){if(null==e[c][1][u])continue e;if(i[u]&&"object"==N(i[u])){if(-1==i[u].indexOf(e[c][1][u]))continue e}else if(e[c][1][u]!=i[u])continue e}if(s)for(var f=o.replace(/\\:/g,":"),h=0;h<s.length;h++){var p=s[h].substr(1),m=a?this.models[a.split(",")[0]].fields[p]:t,g="id"==p?e[c][0]:this.getLangValue(e[c][1][p],m);f=f.replace(new RegExp(s[h],"g"),g||0===g?g:"")}else{o&&(r=a?this.models[a.split(",")[0]].fields[o]:t);f="object"==N(e[c][1])&&null!==e[c][1]?this.getLangValue(e[c][1][o],r):e[c][1]}f=null==f?null:f;var v=t.hiddenOptions||t.optionsFilter;if(v&&!1!==n){if("object"==N(v)&&v.indexOf(e[c][0])>-1)continue;if("function"==typeof v&&!1===v(e[c][0],f,e[c][1]))continue}l.push([e[c][0],f])}return l},getLangValue:function(e,t){if(t&&e&&"object"==N(e)&&"locale"in t){if(this.languages[0].slug in e&&(e[this.languages[0].slug]||0==e[this.languages[0].slug]))return e[this.languages[0].slug];for(var i in e)if(e[i]||0==e[i])return e[i];return null}return e},fromPHPFormatToMoment:function(e){var t={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:"o",w:"e",z:"DDD",W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:"",L:"",o:"YYYY",Y:"YYYY",y:"YY",a:"a",A:"A",B:"",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSS",e:"zz",I:"",O:"",P:"",T:"",Z:"",c:"",r:"",U:"X"},i=new RegExp(Object.keys(t).join("|"),"gi");return e.replace(i,(function(e){return e in t?t[e]:e}))},runInlineScripts:function(e){$("<div>"+e+"</div>").find("script").each((function(){if($(this).attr("src")){var e=document.createElement("script");e.src=$(this).attr("src"),e.type="text/javascript",$("body").append(e)}else try{new Function($(this).html()).call(Vue)}catch(e){console.error(e)}})),$("<div>"+e+"</div>").find("style").each((function(){$("body").append($(this)[0].outerHTML)}))},getLangName:function(e){return"object"==N(e.name)?e.name[Object.keys(e.name)[0]]:e.name}})}},B={"fa-500px":"fab fa-500px","fa-address-book-o":"far fa-address-book","fa-address-card-o":"far fa-address-card","fa-adn":"fab fa-adn","fa-amazon":"fab fa-amazon","fa-android":"fab fa-android","fa-angellist":"fab fa-angellist","fa-apple":"fab fa-apple","fa-area-chart":"fas fa-chart-area","fa-arrow-circle-o-down":"far fa-arrow-alt-circle-down","fa-arrow-circle-o-left":"far fa-arrow-alt-circle-left","fa-arrow-circle-o-right":"far fa-arrow-alt-circle-right","fa-arrow-circle-o-up":"far fa-arrow-alt-circle-up","fa-arrows":"fas fa-arrows-alt","fa-arrows-alt":"fas fa-expand-arrows-alt","fa-arrows-h":"fas fa-arrows-alt-h","fa-arrows-v":"fas fa-arrows-alt-v","fa-asl-interpreting":"fas fa-american-sign-language-interpreting","fa-automobile":"fas fa-car","fa-bandcamp":"fab fa-bandcamp","fa-bank":"fas fa-university","fa-bar-chart":"far fa-chart-bar","fa-bar-chart-o":"far fa-chart-bar","fa-bathtub":"fas fa-bath","fa-battery":"fas fa-battery-full","fa-battery-0":"fas fa-battery-empty","fa-battery-1":"fas fa-battery-quarter","fa-battery-2":"fas fa-battery-half","fa-battery-3":"fas fa-battery-three-quarters","fa-battery-4":"fas fa-battery-full","fa-behance":"fab fa-behance","fa-behance-square":"fab fa-behance-square","fa-bell-o":"far fa-bell","fa-bell-slash-o":"far fa-bell-slash","fa-bitbucket":"fab fa-bitbucket","fa-bitbucket-square":"fab fa-bitbucket","fa-bitcoin":"fab fa-btc","fa-black-tie":"fab fa-black-tie","fa-bluetooth":"fab fa-bluetooth","fa-bluetooth-b":"fab fa-bluetooth-b","fa-bookmark-o":"far fa-bookmark","fa-btc":"fab fa-btc","fa-building-o":"far fa-building","fa-buysellads":"fab fa-buysellads","fa-cab":"fas fa-taxi","fa-calendar":"fas fa-calendar-alt","fa-calendar-check-o":"far fa-calendar-check","fa-calendar-minus-o":"far fa-calendar-minus","fa-calendar-o":"far fa-calendar","fa-calendar-plus-o":"far fa-calendar-plus","fa-calendar-times-o":"far fa-calendar-times","fa-caret-square-o-down":"far fa-caret-square-down","fa-caret-square-o-left":"far fa-caret-square-left","fa-caret-square-o-right":"far fa-caret-square-right","fa-caret-square-o-up":"far fa-caret-square-up","fa-cc":"far fa-closed-captioning","fa-cc-amex":"fab fa-cc-amex","fa-cc-diners-club":"fab fa-cc-diners-club","fa-cc-discover":"fab fa-cc-discover","fa-cc-jcb":"fab fa-cc-jcb","fa-cc-mastercard":"fab fa-cc-mastercard","fa-cc-paypal":"fab fa-cc-paypal","fa-cc-stripe":"fab fa-cc-stripe","fa-cc-visa":"fab fa-cc-visa","fa-chain":"fas fa-link","fa-chain-broken":"fas fa-unlink","fa-check-circle-o":"far fa-check-circle","fa-check-square-o":"far fa-check-square","fa-chrome":"fab fa-chrome","fa-circle-o":"far fa-circle","fa-circle-o-notch":"fas fa-circle-notch","fa-circle-thin":"far fa-circle","fa-clipboard":"far fa-clipboard","fa-clock-o":"far fa-clock","fa-clone":"far fa-clone","fa-close":"fas fa-times","fa-cloud-download":"fas fa-cloud-download-alt","fa-cloud-upload":"fas fa-cloud-upload-alt","fa-cny":"fas fa-yen-sign","fa-code-fork":"fas fa-code-branch","fa-codepen":"fab fa-codepen","fa-codiepie":"fab fa-codiepie","fa-comment-o":"far fa-comment","fa-commenting":"far fa-comment-dots","fa-commenting-o":"far fa-comment-dots","fa-comments-o":"far fa-comments","fa-compass":"far fa-compass","fa-connectdevelop":"fab fa-connectdevelop","fa-contao":"fab fa-contao","fa-copyright":"far fa-copyright","fa-creative-commons":"fab fa-creative-commons","fa-credit-card":"far fa-credit-card","fa-credit-card-alt":"fas fa-credit-card","fa-css3":"fab fa-css3","fa-cutlery":"fas fa-utensils","fa-dashboard":"fas fa-tachometer-alt","fa-dashcube":"fab fa-dashcube","fa-deafness":"fas fa-deaf","fa-dedent":"fas fa-outdent","fa-delicious":"fab fa-delicious","fa-deviantart":"fab fa-deviantart","fa-diamond":"far fa-gem","fa-digg":"fab fa-digg","fa-dollar":"fas fa-dollar-sign","fa-dot-circle-o":"far fa-dot-circle","fa-dribbble":"fab fa-dribbble","fa-drivers-license":"fas fa-id-card","fa-drivers-license-o":"far fa-id-card","fa-dropbox":"fab fa-dropbox","fa-drupal":"fab fa-drupal","fa-edge":"fab fa-edge","fa-eercast":"fab fa-sellcast","fa-empire":"fab fa-empire","fa-envelope-o":"far fa-envelope","fa-envelope-open-o":"far fa-envelope-open","fa-envira":"fab fa-envira","fa-etsy":"fab fa-etsy","fa-eur":"fas fa-euro-sign","fa-euro":"fas fa-euro-sign","fa-exchange":"fas fa-exchange-alt","fa-expeditedssl":"fab fa-expeditedssl","fa-external-link":"fas fa-external-link-alt","fa-external-link-square":"fas fa-external-link-square-alt","fa-eye":"far fa-eye","fa-eye-slash":"far fa-eye-slash","fa-eyedropper":"fas fa-eye-dropper","fa-fa":"fab fa-font-awesome","fa-facebook":"fab fa-facebook-f","fa-facebook-f":"fab fa-facebook-f","fa-facebook-official":"fab fa-facebook","fa-facebook-square":"fab fa-facebook-square","fa-feed":"fas fa-rss","fa-file-archive-o":"far fa-file-archive","fa-file-audio-o":"far fa-file-audio","fa-file-code-o":"far fa-file-code","fa-file-excel-o":"far fa-file-excel","fa-file-image-o":"far fa-file-image","fa-file-movie-o":"far fa-file-video","fa-file-o":"far fa-file","fa-file-pdf-o":"far fa-file-pdf","fa-file-photo-o":"far fa-file-image","fa-file-picture-o":"far fa-file-image","fa-file-powerpoint-o":"far fa-file-powerpoint","fa-file-sound-o":"far fa-file-audio","fa-file-text":"fas fa-file-alt","fa-file-text-o":"far fa-file-alt","fa-file-video-o":"far fa-file-video","fa-file-word-o":"far fa-file-word","fa-file-zip-o":"far fa-file-archive","fa-files-o":"far fa-copy","fa-firefox":"fab fa-firefox","fa-first-order":"fab fa-first-order","fa-flag-o":"far fa-flag","fa-flash":"fas fa-bolt","fa-flickr":"fab fa-flickr","fa-floppy-o":"far fa-save","fa-folder-o":"far fa-folder","fa-folder-open-o":"far fa-folder-open","fa-font-awesome":"fab fa-font-awesome","fa-fonticons":"fab fa-fonticons","fa-fort-awesome":"fab fa-fort-awesome","fa-forumbee":"fab fa-forumbee","fa-foursquare":"fab fa-foursquare","fa-free-code-camp":"fab fa-free-code-camp","fa-frown-o":"far fa-frown","fa-futbol-o":"far fa-futbol","fa-gbp":"fas fa-pound-sign","fa-ge":"fab fa-empire","fa-gear":"fas fa-cog","fa-gears":"fas fa-cogs","fa-get-pocket":"fab fa-get-pocket","fa-gg":"fab fa-gg","fa-gg-circle":"fab fa-gg-circle","fa-globe":"fa fa-globe-americas","fa-git":"fab fa-git","fa-git-square":"fab fa-git-square","fa-github":"fab fa-github","fa-github-alt":"fab fa-github-alt","fa-github-square":"fab fa-github-square","fa-gitlab":"fab fa-gitlab","fa-gittip":"fab fa-gratipay","fa-glass":"fas fa-glass-martini","fa-glide":"fab fa-glide","fa-glide-g":"fab fa-glide-g","fa-google":"fab fa-google","fa-google-plus":"fab fa-google-plus-g","fa-google-plus-circle":"fab fa-google-plus","fa-google-plus-official":"fab fa-google-plus","fa-google-plus-square":"fab fa-google-plus-square","fa-google-wallet":"fab fa-google-wallet","fa-gratipay":"fab fa-gratipay","fa-grav":"fab fa-grav","fa-group":"fas fa-users","fa-hacker-news":"fab fa-hacker-news","fa-hand-grab-o":"far fa-hand-rock","fa-hand-lizard-o":"far fa-hand-lizard","fa-hand-o-down":"far fa-hand-point-down","fa-hand-o-left":"far fa-hand-point-left","fa-hand-o-right":"far fa-hand-point-right","fa-hand-o-up":"far fa-hand-point-up","fa-hand-paper-o":"far fa-hand-paper","fa-hand-peace-o":"far fa-hand-peace","fa-hand-pointer-o":"far fa-hand-pointer","fa-hand-rock-o":"far fa-hand-rock","fa-hand-scissors-o":"far fa-hand-scissors","fa-hand-spock-o":"far fa-hand-spock","fa-hand-stop-o":"far fa-hand-paper","fa-handshake-o":"far fa-handshake","fa-hard-of-hearing":"fas fa-deaf","fa-hdd-o":"far fa-hdd","fa-header":"fas fa-heading","fa-heart-o":"far fa-heart","fa-hospital-o":"far fa-hospital","fa-hotel":"fas fa-bed","fa-hourglass-1":"fas fa-hourglass-start","fa-hourglass-2":"fas fa-hourglass-half","fa-hourglass-3":"fas fa-hourglass-end","fa-hourglass-o":"far fa-hourglass","fa-houzz":"fab fa-houzz","fa-html5":"fab fa-html5","fa-id-badge":"far fa-id-badge","fa-id-card-o":"far fa-id-card","fa-ils":"fas fa-shekel-sign","fa-image":"far fa-image","fa-imdb":"fab fa-imdb","fa-inr":"fas fa-rupee-sign","fa-instagram":"fab fa-instagram","fa-institution":"fas fa-university","fa-internet-explorer":"fab fa-internet-explorer","fa-intersex":"fas fa-transgender","fa-ioxhost":"fab fa-ioxhost","fa-joomla":"fab fa-joomla","fa-jpy":"fas fa-yen-sign","fa-jsfiddle":"fab fa-jsfiddle","fa-keyboard-o":"far fa-keyboard","fa-krw":"fas fa-won-sign","fa-lastfm":"fab fa-lastfm","fa-lastfm-square":"fab fa-lastfm-square","fa-leanpub":"fab fa-leanpub","fa-legal":"fas fa-gavel","fa-lemon-o":"far fa-lemon","fa-level-down":"fas fa-level-down-alt","fa-level-up":"fas fa-level-up-alt","fa-life-bouy":"far fa-life-ring","fa-life-buoy":"far fa-life-ring","fa-life-ring":"far fa-life-ring","fa-life-saver":"far fa-life-ring","fa-lightbulb-o":"far fa-lightbulb","fa-line-chart":"fas fa-chart-line","fa-linkedin":"fab fa-linkedin-in","fa-linkedin-square":"fab fa-linkedin","fa-linode":"fab fa-linode","fa-linux":"fab fa-linux","fa-list-alt":"far fa-list-alt","fa-long-arrow-down":"fas fa-long-arrow-alt-down","fa-long-arrow-left":"fas fa-long-arrow-alt-left","fa-long-arrow-right":"fas fa-long-arrow-alt-right","fa-long-arrow-up":"fas fa-long-arrow-alt-up","fa-mail-forward":"fas fa-share","fa-mail-reply":"fas fa-reply","fa-mail-reply-all":"fas fa-reply-all","fa-map-marker":"fas fa-map-marker-alt","fa-map-o":"far fa-map","fa-maxcdn":"fab fa-maxcdn","fa-meanpath":"fab fa-font-awesome","fa-medium":"fab fa-medium","fa-meetup":"fab fa-meetup","fa-meh-o":"far fa-meh","fa-minus-square-o":"far fa-minus-square","fa-mixcloud":"fab fa-mixcloud","fa-mobile":"fas fa-mobile-alt","fa-mobile-phone":"fas fa-mobile-alt","fa-modx":"fab fa-modx","fa-money":"far fa-money-bill-alt","fa-moon-o":"far fa-moon","fa-mortar-board":"fas fa-graduation-cap","fa-navicon":"fas fa-bars","fa-newspaper-o":"far fa-newspaper","fa-object-group":"far fa-object-group","fa-object-ungroup":"far fa-object-ungroup","fa-odnoklassniki":"fab fa-odnoklassniki","fa-odnoklassniki-square":"fab fa-odnoklassniki-square","fa-opencart":"fab fa-opencart","fa-openid":"fab fa-openid","fa-opera":"fab fa-opera","fa-optin-monster":"fab fa-optin-monster","fa-pagelines":"fab fa-pagelines","fa-paper-plane-o":"far fa-paper-plane","fa-paste":"far fa-clipboard","fa-pause-circle-o":"far fa-pause-circle","fa-paypal":"fab fa-paypal","fa-pencil":"fas fa-pencil-alt","fa-pencil-square":"fas fa-pen-square","fa-pencil-square-o":"far fa-edit","fa-photo":"far fa-image","fa-picture-o":"far fa-image","fa-pie-chart":"fas fa-chart-pie","fa-pied-piper":"fab fa-pied-piper","fa-pied-piper-alt":"fab fa-pied-piper-alt","fa-pied-piper-pp":"fab fa-pied-piper-pp","fa-pinterest":"fab fa-pinterest","fa-pinterest-p":"fab fa-pinterest-p","fa-pinterest-square":"fab fa-pinterest-square","fa-play-circle-o":"far fa-play-circle","fa-plus-square-o":"far fa-plus-square","fa-product-hunt":"fab fa-product-hunt","fa-qq":"fab fa-qq","fa-question-circle-o":"far fa-question-circle","fa-quora":"fab fa-quora","fa-ra":"fab fa-rebel","fa-ravelry":"fab fa-ravelry","fa-rebel":"fab fa-rebel","fa-reddit":"fab fa-reddit","fa-reddit-alien":"fab fa-reddit-alien","fa-reddit-square":"fab fa-reddit-square","fa-refresh":"fas fa-sync","fa-registered":"far fa-registered","fa-remove":"fas fa-times","fa-renren":"fab fa-renren","fa-reorder":"fas fa-bars","fa-repeat":"fas fa-redo","fa-resistance":"fab fa-rebel","fa-rmb":"fas fa-yen-sign","fa-rotate-left":"fas fa-undo","fa-rotate-right":"fas fa-redo","fa-rouble":"fas fa-ruble-sign","fa-rub":"fas fa-ruble-sign","fa-ruble":"fas fa-ruble-sign","fa-rupee":"fas fa-rupee-sign","fa-s15":"fas fa-bath","fa-safari":"fab fa-safari","fa-scissors":"fas fa-cut","fa-scribd":"fab fa-scribd","fa-sellsy":"fab fa-sellsy","fa-send":"fas fa-paper-plane","fa-send-o":"far fa-paper-plane","fa-share-square-o":"far fa-share-square","fa-shekel":"fas fa-shekel-sign","fa-sheqel":"fas fa-shekel-sign","fa-shield":"fas fa-shield-alt","fa-shirtsinbulk":"fab fa-shirtsinbulk","fa-sign-in":"fas fa-sign-in-alt","fa-sign-out":"fas fa-sign-out-alt","fa-signing":"fas fa-sign-language","fa-simplybuilt":"fab fa-simplybuilt","fa-skyatlas":"fab fa-skyatlas","fa-skype":"fab fa-skype","fa-slack":"fab fa-slack","fa-sliders":"fas fa-sliders-h","fa-slideshare":"fab fa-slideshare","fa-smile-o":"far fa-smile","fa-snapchat":"fab fa-snapchat","fa-snapchat-ghost":"fab fa-snapchat-ghost","fa-snapchat-square":"fab fa-snapchat-square","fa-snowflake-o":"far fa-snowflake","fa-soccer-ball-o":"far fa-futbol","fa-sort-alpha-asc":"fas fa-sort-alpha-down","fa-sort-alpha-desc":"fas fa-sort-alpha-up","fa-sort-amount-asc":"fas fa-sort-amount-down","fa-sort-amount-desc":"fas fa-sort-amount-up","fa-sort-asc":"fas fa-sort-up","fa-sort-desc":"fas fa-sort-down","fa-sort-numeric-asc":"fas fa-sort-numeric-down","fa-sort-numeric-desc":"fas fa-sort-numeric-up","fa-soundcloud":"fab fa-soundcloud","fa-spoon":"fas fa-utensil-spoon","fa-spotify":"fab fa-spotify","fa-square-o":"far fa-square","fa-stack-exchange":"fab fa-stack-exchange","fa-stack-overflow":"fab fa-stack-overflow","fa-star-half-empty":"far fa-star-half","fa-star-half-full":"far fa-star-half","fa-star-half-o":"far fa-star-half","fa-star-o":"far fa-star","fa-steam":"fab fa-steam","fa-steam-square":"fab fa-steam-square","fa-sticky-note-o":"far fa-sticky-note","fa-stop-circle-o":"far fa-stop-circle","fa-stumbleupon":"fab fa-stumbleupon","fa-stumbleupon-circle":"fab fa-stumbleupon-circle","fa-sun-o":"far fa-sun","fa-superpowers":"fab fa-superpowers","fa-support":"far fa-life-ring","fa-tablet":"fas fa-tablet-alt","fa-tachometer":"fas fa-tachometer-alt","fa-telegram":"fab fa-telegram","fa-television":"fas fa-tv","fa-tencent-weibo":"fab fa-tencent-weibo","fa-themeisle":"fab fa-themeisle","fa-thermometer":"fas fa-thermometer-full","fa-thermometer-0":"fas fa-thermometer-empty","fa-thermometer-1":"fas fa-thermometer-quarter","fa-thermometer-2":"fas fa-thermometer-half","fa-thermometer-3":"fas fa-thermometer-three-quarters","fa-thermometer-4":"fas fa-thermometer-full","fa-thumb-tack":"fas fa-thumbtack","fa-thumbs-o-down":"far fa-thumbs-down","fa-thumbs-o-up":"far fa-thumbs-up","fa-ticket":"fas fa-ticket-alt","fa-times-circle-o":"far fa-times-circle","fa-times-rectangle":"fas fa-window-close","fa-times-rectangle-o":"far fa-window-close","fa-toggle-down":"far fa-caret-square-down","fa-toggle-left":"far fa-caret-square-left","fa-toggle-right":"far fa-caret-square-right","fa-toggle-up":"far fa-caret-square-up","fa-trash":"fas fa-trash-alt","fa-trash-o":"far fa-trash-alt","fa-trello":"fab fa-trello","fa-tripadvisor":"fab fa-tripadvisor","fa-try":"fas fa-lira-sign","fa-tumblr":"fab fa-tumblr","fa-tumblr-square":"fab fa-tumblr-square","fa-turkish-lira":"fas fa-lira-sign","fa-twitch":"fab fa-twitch","fa-twitter":"fab fa-twitter","fa-twitter-square":"fab fa-twitter-square","fa-unsorted":"fas fa-sort","fa-usb":"fab fa-usb","fa-usd":"fas fa-dollar-sign","fa-user-circle-o":"far fa-user-circle","fa-user-o":"far fa-user","fa-vcard":"fas fa-address-card","fa-vcard-o":"far fa-address-card","fa-viacoin":"fab fa-viacoin","fa-viadeo":"fab fa-viadeo","fa-viadeo-square":"fab fa-viadeo-square","fa-video-camera":"fas fa-video","fa-vimeo":"fab fa-vimeo-v","fa-vimeo-square":"fab fa-vimeo-square","fa-vine":"fab fa-vine","fa-vk":"fab fa-vk","fa-volume-control-phone":"fas fa-phone-volume","fa-warning":"fas fa-exclamation-triangle","fa-wechat":"fab fa-weixin","fa-weibo":"fab fa-weibo","fa-weixin":"fab fa-weixin","fa-whatsapp":"fab fa-whatsapp","fa-wheelchair-alt":"fab fa-accessible-icon","fa-wikipedia-w":"fab fa-wikipedia-w","fa-window-close-o":"far fa-window-close","fa-window-maximize":"far fa-window-maximize","fa-window-restore":"far fa-window-restore","fa-windows":"fab fa-windows","fa-won":"fas fa-won-sign","fa-wordpress":"fab fa-wordpress","fa-wpbeginner":"fab fa-wpbeginner","fa-wpexplorer":"fab fa-wpexplorer","fa-wpforms":"fab fa-wpforms","fa-xing":"fab fa-xing","fa-xing-square":"fab fa-xing-square","fa-y-combinator":"fab fa-y-combinator","fa-y-combinator-square":"fab fa-hacker-news","fa-yahoo":"fab fa-yahoo","fa-yc":"fab fa-y-combinator","fa-yc-square":"fab fa-hacker-news","fa-yelp":"fab fa-yelp","fa-yen":"fas fa-yen-sign","fa-yoast":"fab fa-yoast","fa-youtube":"fab fa-youtube","fa-youtube-play":"fab fa-youtube","fa-youtube-square":"fab fa-youtube-square"},H=function(e){return e in B?B[e]:e},G={computed:{getAvatar:function(){return this.user&&this.user.avatar?this.user.avatar:this.$http.options.root+"/../"+window.crudadmin.path+"/dist/img/avatar5.png"}},created:function(){window.trans||(window.trans=this.trans)},methods:{trans:function(e){return e in this.$root.localization?this.$root.localization[e]:e},faMigrator:function(e){return H(e)},scrollTo:function(e,t){$("html, body").animate({scrollTop:$(e).offset().top-10},500,t)}}},U=i(1),Y=i.n(U);function W(e,t,i,n,a,o,r){try{var s=e[o](r),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function X(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?X(Object(i),!0).forEach((function(t){Q(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):X(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Z,J={name:null,type:null,row_id:null},ee={name:"TreeItem",props:["item"],components:{TreeItem:te},data:function(){return{row:this.item||Y.a.cloneDeep(J)}},watch:{"row.name":Y.a.debounce((function(){this.saveItem()}),1e3),"row.type":Y.a.debounce((function(){this.saveItem()}),1e3),"row.row_id":Y.a.debounce((function(){this.saveItem()}),1e3)},computed:K({},Object(S.c)("sitetree",["models"]),{modelsOptions:function(){var e={};for(var t in this.models)e[t]=this.models[t].name;return e.$group=this._("Skupina"),e},selectedModelRows:function(){var e=this,t=this.models[this.row.type];return t&&0!=t.rows.length?t.rows.map((function(t){return t.name=e.getLocaleFieldValue(t.name),t})):{}}}),methods:{saveItem:(Z=function(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var o=e.apply(t,i);function r(e){W(o,n,a,r,s,"next",e)}function s(e){W(o,n,a,r,s,"throw",e)}r(void 0)}))}}(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post(crudadmin.baseURL+"/sitetree/store",K({},this.row));case 2:e.sent,this.row.id||(this.row=Y.a.cloneDeep(J),$bus.$emit("reloadRows","site_trees"));case 4:case"end":return e.stop()}}),e,this)}))),function(){return Z.apply(this,arguments)}),removeItem:function(e){console.log(e)}}},te=(i(162),x(ee,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sitetree__item__wrapper"},[i("div",{staticClass:"sitetree__item"},[e._m(0),e._v(" "),i("div",{staticClass:"sitetree__item__inputs"},[i("div",{staticClass:"input_wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:e._("Zadajte nzov odkazu")},domProps:{value:e.row.name},on:{input:function(t){t.target.composing||e.$set(e.row,"name",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input_wrapper"},[i("vue-chosen",{attrs:{placeholder:e._("Vyberte typ podstrnky"),options:e.modelsOptions},model:{value:e.row.type,callback:function(t){e.$set(e.row,"type",t)},expression:"row.type"}})],1),e._v(" "),"$group"!==e.row.type?i("div",{staticClass:"input_wrapper"},[i("vue-chosen",{attrs:{placeholder:e._("Vyberte typ podstrnky"),"track-by":"id",label:"name",options:e.selectedModelRows},model:{value:e.row.row_id,callback:function(t){e.$set(e.row,"row_id",t)},expression:"row.row_id"}})],1):e._e()]),e._v(" "),i("div",{staticClass:"sitetree__item__actions"},[i("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(t){return e.removeItem(e.row)}}},[i("i",{staticClass:"fa fa-trash"})])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sitetree__item__drag"},[t("i",{staticClass:"fa fa-grip-vertical"})])}],!1,null,"38ce60ec",null).exports);function ie(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ne(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ae=x({props:["rows","model"],components:{TreeItem:te},mounted:function(){this.setModels(this.model.sitetree_models)},computed:{items:function(){return this.rows}},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(i),!0).forEach((function(t){ne(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ie(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(S.b)("sitetree",["setModels"]))},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"box box--presets"},[i("div",{staticClass:"box-header box-header--actions"},[e._m(0),e._v(" "),i("div",{staticClass:"box-header__right"},[i("button",{staticClass:"btn btn-light"},[e._v("right action 1")]),e._v(" "),i("button",{staticClass:"btn btn-danger"},[e._v(e._s(e._("Vymaza"))+" "),i("i",{staticClass:"--icon-right fa fa-trash"})])])]),e._v(" "),i("div",{staticClass:"box-body"},[e._l(e.items,(function(t){return i("TreeItem",{key:t.id,attrs:{item:t,items:e.items,level:0}})})),e._v(" "),i("TreeItem",{attrs:{level:0}})],2)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"box-header__left"},[t("div",[t("h1",{staticClass:"box-header__title"},[this._v("Header with actions")]),this._v(" "),t("p",{staticClass:"box-header__description"},[this._v("This is header with icons on right side")])])])}],!1,null,"6770df38",null).exports;function oe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var re=x({props:{value:{type:[String,Number,Array,Object],default:null},options:{type:[Array,Object],default:function(){return[]}},label:{type:String,default:"label"},trackBy:{type:String,default:"id"},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:"Select"},searchable:{type:Boolean,default:!0},searchableMin:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},allowAll:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onValueReturn:{type:Object,default:function(){return{}}}},computed:{localOptions:function(){var e,t,i=this,n=[];this.allowAll&&n.push((oe(t={},this.trackBy,-1),oe(t,this.label,"All"),t));return Array.isArray(this.options)?n.concat(this.options):(Object.keys(this.options).forEach((function(e){var t;n.push((oe(t={},i.trackBy,e),oe(t,i.label,i.options[e]),t))})),this.allowEmpty?[(e={},oe(e,this.trackBy,null),oe(e,this.label,""),e)].concat(n):n)},localValue:function(){var e=this.allowAll&&null===this.value?-1:this.value;return this.$nextTick((function(){$(this.$el).val(e).trigger("chosen:updated")})),e}},watch:{localValue:function(){},localOptions:function(){this.$nextTick((function(){var e=this.allowAll&&null===this.value?"-1":this.value;$(this.$el).val(e).trigger("chosen:updated")}))}},mounted:function(){var e=this;$(this.$el).chosen({width:"100%",disable_search_threshold:this.searchable?this.searchableMin:1e5}).change((function(t){var i=$(t.target).val();return void 0!==e.onValueReturn[i]?e.$emit("input",e.onValueReturn[i]):!e.allowAll||"-1"!==$(t.target).val()&&-1!==$(t.target).val()?void e.$emit("input",$(t.target).val()):e.$emit("input",null)}))}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("select",{attrs:{"data-placeholder":e.placeholder,multiple:e.multiple,disabled:e.disabled}},e._l(e.localOptions,(function(t){return i("option",{domProps:{value:t[e.trackBy]}},[e._v("\n        "+e._s(t[e.label])+"\n    ")])})),0)}),[],!1,null,null,null).exports,se=x({props:["langid"],mounted:function(){},computed:{user:function(){return this.$root.user},layout:function(){var e=this;return this.$nextTick((function(){e.$root.runInlineScripts(e.$root.dashboard)})),this.$root.dashboard}},methods:{trans:function(e){return this.$root.trans(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._m(0),e._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:e.user,expression:"user"}],staticClass:"crudadmin-wrapper"},[e.layout?e._e():i("div",{staticClass:"box"},[i("div",{staticClass:"box-body"},[i("div",{staticClass:"box-body-wrapper"},[e.user?i("h2",[e._v(e._s(e.trans("welcome"))+" "+e._s(e.user.username))]):e._e()])])]),e._v(" "),i("div",{domProps:{innerHTML:e._s(e.layout)}})])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"content-header"},[t("ol",{staticClass:"breadcrumb"},[t("li",{staticClass:"active"},[t("a",{staticClass:"active"},[this._v("Dashboard")])])])])}],!1,null,null,null).exports,le=x({props:["model","field_name","field_key","field","value","required","disabled","readonly"],computed:{isPassword:function(){return"password"==this.field.type}},methods:{changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled||e.readonly},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("input",{staticClass:"form-control",attrs:{autocomplete:e.isPassword?"new-password":"",type:e.isPassword?"password":"text",name:e.field_key,maxlength:e.field.max,placeholder:e.field.placeholder||e.field_name,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.value},on:{change:e.changeValue,keyup:e.changeValue}}),e._v(" "),i("small",[e._v(e._s(e.field.title))])])}),[],!1,null,null,null).exports,de=x({props:["model","field_name","field_key","field","value","required","disabled","readonly"],computed:{isDecimal:function(){return"decimal"==this.field.type},getDecimalStep:function(){var e=((this.field.decimal_length||"").replace(":",",")||"8,2").split(",");return"0."+_.repeat(0,e[1]-1)+"1"}},methods:{changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled||e.readonly},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("input",{staticClass:"form-control",attrs:{type:"number",name:e.field_key,step:e.isDecimal?e.getDecimalStep:"",placeholder:e.field.placeholder||e.field_name,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.value},on:{keyup:e.changeValue}}),e._v(" "),i("small",[e._v(e._s(e.field.title))])])}),[],!1,null,null,null).exports,ce=x({props:["model","field_name","field_key","field","value","required","disabled","readonly","depth_level"],mounted:function(){var e=this;this.bindDatepickers(),eventHub.$on("updateField",this.onUpdateEvent=function(t){t.table==e.model.slug&&t.depth_level==e.depth_level&&t.key==e.$parent.field_key&&e.bindDatepickers()})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent)},computed:{isMultipleDatepicker:function(){return 1==this.field.multiple},getMultiDates:function(){var e=this,t=this.field.value||[];return $.isArray(t)||(t=[]),_.cloneDeep(t).filter((function(t){return t.length==("time"==e.field.type?5:10)}))}},methods:{getInput:function(){return $(this.$refs.input)},bindDatepickers:function(){if(!0!==this.readonly){var e=this;this.getInput().datetimepicker({lang:this.$root.locale,format:this.field.date_format,timepicker:"date"!=this.field.type,datepicker:"time"!=this.field.type,scrollInput:!1,timepickerScrollbar:!1,step:this.field.date_step?parseInt(this.field.date_step):30,scrollMonth:!1,scrollYear:!1,inline:this.isMultipleDatepicker,onGenerate:function(t){e.onGenerate(this,t)},onChangeDateTime:this.onChangeDateTime})}},onGenerate:function(e,t){if(this.isMultipleDatepicker){e.addClass("multiple-dates");for(var i=this.getMultiDates,n=0;n<i.length;n++){var a="time"==this.field.type?i[n].split(":"):new Date(i[n]),o="time"==this.field.type?'div[data-hour="'+parseInt(a[0])+'"][data-minute="'+parseInt(a[1])+'"]':'td[data-date="'+a.getDate()+'"][data-month="'+a.getMonth()+'"][data-year="'+a.getFullYear()+'"]';e.find(o).addClass("multiple-selected")}}},onChangeDateTime:function(e){if(e)if(this.isMultipleDatepicker){var t=moment(e).format("time"==this.field.type?"HH:mm":"YYYY-MM-DD"),i=this.getMultiDates,n=i.indexOf(t);n>-1?i.splice(n,1):i.push(t),this.changeValue(null,i)}else{t=moment(e).format(this.$root.fromPHPFormatToMoment(this.field.date_format));this.changeValue(null,t)}},getMultiDateValue:function(e){return"time"==this.field.type&&5==e.length&&":"==e[2]?e:moment(e).format("YYYY-MM-DD")},changeValue:function(e,t){this.$parent.changeValue(e,t)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled||e.readonly,"multiple-date":e.isMultipleDatepicker},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+" "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("input",{ref:"input",staticClass:"form-control",attrs:{type:"text",disabled:e.disabled,readonly:e.readonly,name:e.isMultipleDatepicker?"":e.field_key,placeholder:e.field.placeholder||e.field_name},domProps:{value:e.value},on:{keyup:e.changeValue}}),e._v(" "),e.isMultipleDatepicker&&0==e.getMultiDates.length?i("input",{attrs:{type:"hidden",name:e.field_key+"[]",value:""}}):e._e(),e._v(" "),e._l(e.getMultiDates,(function(t){return e.isMultipleDatepicker?i("input",{attrs:{type:"hidden",name:e.field_key+"[]"},domProps:{value:e.getMultiDateValue(t)}}):e._e()})),e._v(" "),i("small",[e._v(e._s(e.field.title))])],2)}),[],!1,null,null,null).exports,ue=x({props:["model","field_name","field_key","field","value","required","disabled"],methods:{changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled}},[i("label",{staticClass:"checkbox",attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+" "),e.field.placeholder?i("span",[e._v(e._s(e.field.placeholder))]):e._e(),e._v(" "),i("input",{staticClass:"ios-switch green",attrs:{type:"checkbox",value:"1",disabled:e.disabled,name:e.field_key},domProps:{checked:1==e.value},on:{change:e.changeValue}}),e._v(" "),e._m(0)]),e._v(" "),i("small",[e._v(e._s(e.field.title))])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div")])}],!1,null,null,null).exports,fe=x({props:["id","model","field_name","field_key","field","value","required","disabled","readonly","depth_level"],mounted:function(){var e=this;$("#"+this.id).ckEditors();this.isEditor&&CKEDITOR.instances[this.id].on("change",(function(t){e.$parent.changeValue(null,t.editor.getData())})),eventHub.$on("updateField",this.onUpdateEvent=function(t){if(t.table==e.model.slug&&t.depth_level==e.depth_level&&t.key==e.$parent.field_key&&e.isEditor){var i=CKEDITOR.instances[e.id];if(i){var n=e.$parent.getLocalizedValue(e.field.value)||"";i.setData(n),i.on("instanceReady",(function(){e.onReadyInstance&&clearTimeout(e.onReadyInstance),e.onReadyInstance=setTimeout((function(){_.trim(i.getData())!=_.trim(n)&&i.setData(n)}),20)}))}}})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent)},computed:{isText:function(){return["text","longtext"].indexOf(this.field.type)>-1},isEditor:function(){return["editor","longeditor"].indexOf(this.field.type)>-1}},methods:{changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled||e.readonly},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v(" "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("textarea",{class:{"form-control":e.isText,js_editor:e.isEditor},attrs:{rows:"5",id:e.id,disabled:e.disabled,readonly:e.readonly,name:e.field_key,maxlength:e.field.max,placeholder:e.field.placeholder||e.field_name},domProps:{value:e.value},on:{keyup:e.changeValue}}),e._v(" "),i("small",[e._v(e._s(e.field.title))])])}),[],!1,null,null,null).exports,he={props:["id","model","field_name","field_key","field","value","required","disabled","readonly","depth_level"],data:function(){return{initializing:!1,initialized:!1,destroying:!1}},mounted:function(){var e=this;this.tryInitializeEditor(),eventHub.$on("disableGutenbergEditors",this.$disableGutenbergEditors=function(t){1!=e.initializing&&1!=e.initialized||t.id==e.id||e.removeEditor(t.callback)}),eventHub.$on("updateField",this.$updateField=function(t){if(1!=e.destroying&&t.table==e.model.slug&&t.depth_level==e.depth_level&&t.key==e.$parent.field_key){var i=e.$parent.getLocalizedValue(e.field.value)||"";1==e.initialized&&Gutenberg.setContent(i)}}),wp.data.subscribe(_.debounce((function(t){1!=e.destroying&&0!=e.initialized&&(e.field.value=Gutenberg.getContent())}),500))},beforeDestroy:function(){this.removeEditor(),eventHub.$off("updateField",this.$updateField),eventHub.$off("disableGutenbergEditors",this.$disableGutenbergEditors)},methods:{toggleEditorInstance:function(){var e=this;this.initializing||(this.initializing=!0,setTimeout((function(){Gutenberg.editor?eventHub.$emit("disableGutenbergEditors",{id:e.id,callback:function(){e.tryInitializeEditor()}}):e.tryInitializeEditor()}),100))},onEditorBoot:function(){!1!==this.initializing&&(this.initialized=!0,Gutenberg.setContent(this.field.value||""))},flushStorage:function(){sessionStorage.removeItem("wp-autosave-block-editor-post-1")},tryInitializeEditor:function(){Gutenberg.editor||this.initializeEditor()},initializeEditor:function(){var e=this;this.initializing=!0,this.destroying=!1,this.flushStorage(),Gutenberg.init(this.id,{laravelFilemanager:{prefix:"/admin/filemanager"},onBoot:function(){e.onEditorBoot()}})},removeEditor:function(e){this.initializing=!1,this.initialized=!1,this.destroying=!0;try{this.flushStorage();var t=wp.data.select("core/blocks").getBlockTypes().map((function(e){return e.name}));(0,wp.data.dispatch("core/blocks").removeBlockTypes)(t);wp.data.dispatch("core/edit-post").toggleFeature;(0,wp.data.dispatch("core/editor").__experimentalTearDownEditor)(),wp.element.unmountComponentAtNode(window.Gutenberg.editor),$("#laraberg__editor").remove()}catch(e){console.error(e)}window.Gutenberg.editor=void 0,"function"==typeof e&&e()},changeValue:function(e){this.$parent.changeValue(e)}}},pe=(i(163),x(he,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled||e.readonly},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v(" "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("textarea",{staticClass:"form-control d-none",attrs:{rows:"10",id:e.id,disabled:e.disabled,readonly:e.readonly,name:e.field_key,maxlength:e.field.max,placeholder:e.field.placeholder||e.field_name},domProps:{value:e.field.value}}),e._v(" "),0==e.initialized?i("div",{staticClass:"alert alert-warning",class:{"--loading":e.initializing&&!e.initialized}},[i("p",[e._v(e._s(e._("Intanciu editora je mon spusti len raz. Pre prepnutie intancie editora kliknite na nasledujce tlaidlo.")))]),e._v(" "),i("button",{staticClass:"btn btn-warning mt-3",attrs:{type:"button"},on:{click:e.toggleEditorInstance}},[e._v(e._s(e._("Zapn editor")))])]):e._e(),e._v(" "),i("small",[e._v(e._s(e.field.title))])])}),[],!1,null,"2a6b6452",null).exports),me=x({props:["file","field","model","image"],methods:{isExtension:function(e,t){var i=e.split(".").pop().toLowerCase();return t.indexOf(i)>-1},isImage:function(e){return this.isExtension(e,["jpg","jpeg","png","bmp","gif","svg"])},isPdf:function(e){return this.isExtension(e,["pdf"])},isZip:function(e){return this.isExtension(e,["zip","rar","7zip","gzip","7z"])},isDoc:function(e){return this.isExtension(e,["doc","docx","ppt","pptx","xls","txt"])},isOther:function(e){return!(this.isImage(e)||this.isPdf(e)||this.isZip(e)||this.isDoc(e))}},computed:{downloadPath:function(){return this.$root.requests.download+"?model="+encodeURIComponent(this.model.slug)+"&field="+encodeURIComponent(this.field)+"&file="+encodeURIComponent(this.file)},imagePath:function(){return this.isExtension(this.file,["svg"])?this.path:window.crudadmin.root+"/uploads/cache/"+this.model.slug+"/"+this.field+"/admin-thumbnails/"+this.file},path:function(){return window.crudadmin.root+"/uploads/"+this.model.slug+"/"+this.field+"/"+this.file}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isImage(e.file)&&1!=e.image?i("a",{attrs:{href:e.path,"data-lightbox":"gallery",title:""}},[e._v(e._s(e.trans("show-image")))]):e._e(),e._v(" "),e.isImage(e.file)&&1==e.image?i("a",{attrs:{href:e.path,"data-lightbox":"gallery",title:""}},[i("img",{attrs:{src:e.imagePath,alt:""}})]):e._e(),e._v(" "),e.isPdf(e.file)?i("a",{attrs:{href:e.path,target:"_blank",title:""}},[e._v(e._s(e.trans("show"))+" PDF")]):e._e(),e._v(" "),e.isZip(e.file)?i("a",{attrs:{href:e.downloadPath,target:"_blank",title:""}},[e._v(e._s(e.trans("download"))+" ZIP")]):e._e(),e._v(" "),e.isDoc(e.file)?i("a",{attrs:{href:e.downloadPath,target:"_blank",title:""}},[e._v(e._s(e.trans("download-document")))]):e._e(),e._v(" "),e.isOther(e.file)?i("a",{attrs:{href:e.downloadPath,target:"_blank",title:""}},[e._v(e._s(e.trans("download-file")))]):e._e()])}),[],!1,null,null,null).exports,ge=x({props:["id","row","model","field_name","field_key","field_key_original","field","value","required","disabled","depth_level"],components:{File:me},data:function(){return{file_will_remove:!1,file_from_server:!0}},mounted:function(){var e=this;this.addMultipleFilesSupport(!0),eventHub.$on("updateField",this.onUpdateEvent=function(t){t.table==e.model.slug&&t.depth_level==e.depth_level&&t.key==e.$parent.field_key&&(e.file_from_server=!0,e.addMultipleFilesSupport())}),eventHub.$on("onSubmit",this.onSubmitEvent=function(t){var i=t.row;t.table==e.model.slug&&t.depth_level==e.depth_level&&(1==e.file_from_server&&null!=i||(e.file_from_server=!!i,e.field.value=i?i[e.field_key]:"",$(e.$refs.fileInput).val("")))})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent),eventHub.$off("onSubmit",this.onSubmitEvent)},computed:{canFileBeDeleted:function(){return!this.disabled&&(this.value&&!this.isMultipleUpload||!this.file_from_server)&&this.model.getSettings("fields."+this.field_key+".canDelete",!0)},canFileBeDownloaded:function(){return this.value&&!this.hasMultipleFilesValue&&this.file_from_server&&!this.isMultiple&&this.model.getSettings("fields."+this.field_key+".canDownload",!0)},isMultiple:function(){return!0===this.field.multiple},isMultirows:function(){return this.field.multirows&&!0===this.field.multirows},isMultipleUpload:function(){return this.isMultirows&&!this.model.isOpenedRow()||this.isMultiple},hasMultipleFilesValue:function(){return $.isArray(this.field.value)},hasLocale:function(){return"locale"in this.field},getFiles:function(){var e=this.value;return e?$.isArray(e)?e:[e]:[]}},methods:{changeValue:function(e){this.$parent.changeValue(e)},addMultipleFilesSupport:function(e){var t=this;"file"==this.field.type&&this.isMultiple&&!this.isMultirows&&$(this.$refs.multipleFiles).chosen({disable_search_threshold:10,search_contains:!0}).trigger("chosen:updated"),1==e&&this.$watch("field.value",(function(){t.$nextTick((function(){$(t.$refs.multipleFiles).trigger("chosen:updated")}))}))},removeFile:function(){this.isMultiple||(this.hasLocale?this.field.value[this.langslug]=null:this.field.value=null),this.file_will_remove=!0,this.file_from_server=!0,$("#"+this.getId).val("")},addFile:function(e){this.file_will_remove=!1,this.file_from_server=!1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:{disabled:e.disabled},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("div",{staticClass:"file-group"},[i("div",{staticClass:"upload-file-wrapper"},[i("input",{ref:"fileInput",staticClass:"form-control",attrs:{disabled:e.disabled,type:"file",multiple:e.isMultipleUpload,name:e.isMultipleUpload?e.field_key+"[]":e.field_key,placeholder:e.field.placeholder||e.field_name},on:{change:e.addFile}}),e._v(" "),e.value||1!=e.file_will_remove?e._e():i("input",{attrs:{type:"hidden",name:"$remove_"+e.field_key},domProps:{value:1}}),e._v(" "),e.canFileBeDeleted?i("button",{staticClass:"btn btn-danger remove-file",attrs:{type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("delete-file")},on:{click:function(t){return t.preventDefault(),e.removeFile(t)}}},[i("i",{staticClass:"far fa-trash-alt"})]):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isMultiple&&!e.isMultirows&&e.getFiles.length>0,expression:"(isMultiple && !isMultirows) && getFiles.length > 0"}]},[i("select",{ref:"multipleFiles",attrs:{name:e.hasLocale||e.isMultiple&&!e.isMultirows&&e.getFiles.length>0?"$uploaded_"+e.field_key+"[]":"","data-placeholder":" ",multiple:""}},e._l(e.getFiles,(function(t){return i("option",{key:t,attrs:{selected:""}},[e._v(e._s(t))])})),0)]),e._v(" "),i("small",[e._v(e._s(e.field.title))]),e._v(" "),e.canFileBeDownloaded?i("span",[i("file",{attrs:{file:e.value,field:e.field_key_original,model:e.model}})],1):e._e()])])}),[],!1,null,null,null).exports;function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var be=x({props:["id","row","model","field_name","field_key","field","value","required","disabled","readonly","inputlang","langid","depth_level"],data:function(){return{filterBy:null,allowRelation:!1}},watch:{value:function(e){this.$nextTick(this.reloadSelectWithMultipleOrders)},disabled:function(){this.$nextTick(this.reloadSelectWithMultipleOrders)},readonly:function(){this.$nextTick(this.reloadSelectWithMultipleOrders)}},mounted:function(){var e=this;this.$options.components["model-builder"]=Vue.extend(Xe),this.onChangeSelect(),this.bindFilters(),eventHub.$on("updateField",this.onUpdateEvent=function(t){t.table==e.model.slug&&t.depth_level==e.depth_level&&t.key==e.$parent.field_key&&e.$nextTick(e.reloadSelectWithMultipleOrders)})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent)},computed:{isCanAddInParentMode:function(){return["parent"].indexOf(this.field.canAdd)>-1},modelBuilderId:function(){return this.isCanAddInParentMode?this.id+this.row.id:"key"},getModalId:function(){return"form-relation-modal-"+this.id},relationTable:function(){return(this.field.belongsTo||this.field.belongsToMany||"").split(",")[0]},getRelationModel:function(){if(this.canAddRow)return _.cloneDeep(this.$root.models[this.relationTable])},getRelationRow:function(){var e=this.getFilterBy;return e&&this.row[e[0]]?{id:this.row[e[0]]}:{}},getRelationModelParent:function(){var e=this.getFilterBy;if(!e||!this.row[e[0]])return!1;var t=this.model.fields[e[0]],i=(t.belongsTo||t.belongsToMany).split(",")[0];return _.cloneDeep(this.$root.models[i])},canAddRow:function(){if(!this.field.canAdd)return!1;var e=this.$root.models[this.relationTable];return(!e||e.hasAccess("insert"))&&(!0===this.field.canAdd||this.isCanAddInParentMode)&&(!this.getFilterBy||this.filterBy)},isModalInModal:function(){return!1===this.$parent.hasparentmodel},canAddScopes:function(){return 0==this.isCanAddInParentMode?{}:{filterByParentField:[this.model.table,this.field_key,this.row.id]}},getFilterBy:function(){if(!("filterBy"in this.field))return null;var e,t=this.field.filterBy.split(",");return this.model.fields[e=t[0]+"_id"]||this.model.fields[e=t[0]],t[0]=e,t},isMultiple:function(){return this.field.multiple&&!0===this.field.multiple||"belongsToMany"in this.field},fieldOptions:function(){return"object"!=ve(this.field.options)?[]:(this.$nextTick(this.reloadSelectWithMultipleOrders),this.$root.languageOptions(this.field.options,this.field,this.getFilter(this.field.options)))},missingValueInSelectOptions:function(){if(!this.row)return[];var e=this.fieldOptions,t=[],i=this.$parent.getLocalizedValue(this.field.$original_value);if(!this.isMultiple){for(n=0;n<e.length;n++)if(e[n][0]==i)return[];return this.filterBy||[null,void 0].indexOf(i)>-1?[]:[i]}if(i)for(var n=0;n<i.length;n++){0!=e.filter(function(e){return e[0]==i[n]}.bind(this)).length||this.filterBy||t.push(i[n])}return t},isRequiredIfHasValues:function(){return"required_with_values"in this.field&&1==this.field.required_with_values&&this.fieldOptions.length>0},hasNoFilterValues:function(){return!this.isStaticFilterColumn&&(this.getFilterBy&&(!this.filterBy||0==this.fieldOptions.length))},isStaticFilterColumn:function(){return this.getFilterBy&&!(this.getFilterBy[0]in this.model.fields)},isParentFilterColumn:function(){return this.getFilterBy&&this.getFilterBy[0].split(".").length>1},getStaticFilterBy:function(){var e=this.getFilterBy[0].split(".");return(2==e.length?this.getModelBuilder(e[0]):this).row[e[e.length-1]]}},methods:{closeOpenedCanAddModal:function(){$("#"+this.getModalId).modal("hide").on("hidden.bs.modal",(function(){$(".modal .modal-header:visible").length>0&&$("body").addClass("modal-open")}))},bindFilters:function(){this.getFilterBy&&!this.isParentFilterColumn&&(this.$watch("model.fields."+this.getFilterBy[0]+".value",(function(e){this.filterBy=null===e?this.$parent.defaultFieldValue(this.model.fields[this.getFilterBy[0]]):e})),this.filterBy=this.$parent.defaultFieldValue(this.model.fields[this.getFilterBy[0]]))},changeValue:function(e,t,i){this.$parent.changeValue(e,t,i)},onChangeSelect:function(){var e=this,t=$(this.$refs.select),i=!1,n=this;t.change((function(e){var t=this;if(i=!0,n.isMultiple)setTimeout((function(){n.changeValue(null,$(t).getSelectionOrder()),n.rebuildSelect()}),50);else{var a=$(this).val();n.changeValue(null,a),n.reloadSetters(a)}})),this.$watch("field.value",(function(t,n){!0===i||_.isNil(t)||t===n||_.isEqual(t,n)?i=!1:e.$nextTick(e.reloadSelectWithMultipleOrders)}))},hasValue:function(e,t,i){if(1==i&&$.isArray(t)){if(t.indexOf($.isNumeric(e)?parseInt(e):e)>-1)return!0}else if((e||0==e)&&(t||0==t)&&e==t)return!0;return!1},rebuildSelect:function(){if(this.isMultiple){var e=$(this.$refs.select),t=e.prev(),i=e.getSelectionOrder();t.is("select")||(t=e.before('<select name="'+this.field_key+'[]" multiple="multiple" style="display: none"></select>').prev()),t.find("option").remove();for(var n=0;n<i.length;n++)t.append($("<option></option>").attr("selected",!0).attr("value",i[n]).text(i[n]))}},reloadSelectWithMultipleOrders:function(){var e=$(this.$refs.select).chosen({disable_search_threshold:10,search_contains:!0}).trigger("chosen:updated");if(this.isMultiple){if(this.field.value)try{e.setSelectionOrder(this.field.value)}catch(e){}this.rebuildSelect()}},getFilter:function(e){var t={};return e&&e[0]&&"object"==ve(e[0][1])&&null!==e[0][1]&&"language_id"in e[0][1]==1&&(t.language_id=this.row.language_id||(this.inputlang?this.inputlang.id:null)||this.langid),this.getFilterBy&&(t[this.getFilterBy[1]]=this.isStaticFilterColumn?this.getStaticFilterBy:this.filterBy),t},pushOption:function(e,t){if("store"==t){var i=this.getFilterBy;i&&this.row[i[0]]&&(e[i[1]]=this.row[i[0]]),this.field.options.unshift([e.id,e]),this.isMultiple?(this.field.value?this.field.value.push(e.id):this.field.value=[e.id],this.changeValue(null,this.field.value,!1)):this.changeValue(null,e.id)}else if("update"==t){for(var n=0;n<this.field.options.length;n++)if(this.field.options[n][0]==e.id)for(var a in e)this.field.options[n][1][a]=e[a]}else if("delete"==t)for(var a in this.isMultiple?$.isArray(this.field.value)&&(this.field.value.splice(this.field.value.indexOf(e),1),this.changeValue(null,this.field.value,!1)):this.field.value==e&&this.changeValue(null,null),this.field.options)if(this.field.options[a][0]==e){this.field.options.splice(a,1);break}},reloadSetters:function(e){for(var t in this.model.fields){var i=this.model.fields[t],n=this.getFillBy(i);if(n&&n[0]&&(n[0]==this.field_key||n[0]+"_id"==this.field_key)){var a=this.field.options||[];for(var o in a)if(a[o][0]==e){this.$set(this.row,t,a[o][1][n[1]||t]);break}}}},getFillBy:function(e){if(!("fillBy"in e))return null;var t,i=e.fillBy.replace(",",".").split(".");return this.model.fields[t=i[0]+"_id"]||this.model.fields[t=i[0]],i[0]=t,i}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.required||!e.hasNoFilterValues,expression:"required || !hasNoFilterValues"}],staticClass:"form-group",class:{disabled:e.disabled||e.readonly||e.hasNoFilterValues},attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field.name)+"\n        "),e.required||e.isRequiredIfHasValues?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),i("div",{staticClass:"form-group__chosen-container",class:{"can-add-select":e.canAddRow}},[e.readonly?i("select",{staticClass:"d-none",attrs:{name:e.isMultiple?"":e.field_key}},[e.isMultiple?e._e():i("option",{attrs:{value:""}}),e._v(" "),e._l(e.missingValueInSelectOptions,(function(t){return i("option",{domProps:{value:t,selected:e.hasValue(t,e.value,e.isMultiple)}})})),e._v(" "),e._l(e.fieldOptions,(function(t){return i("option",{domProps:{selected:e.hasValue(t[0],e.value,e.isMultiple),value:t[0]}},[e._v(e._s(t[0]))])}))],2):e._e(),e._v(" "),i("select",{ref:"select",staticClass:"form-control",attrs:{disabled:e.disabled||e.readonly,name:e.isMultiple?"":e.field_key,"data-placeholder":e.field.placeholder?e.field.placeholder:e.trans("select-option-multi"),multiple:e.isMultiple}},[e.isMultiple?e._e():i("option",{attrs:{value:""}},[e._v(e._s(e.trans("select-option")))]),e._v(" "),e._l(e.missingValueInSelectOptions,(function(t){return i("option",{key:t,domProps:{value:t,selected:e.hasValue(t,e.value,e.isMultiple)}},[e._v(e._s(t))])})),e._v(" "),e._l(e.fieldOptions,(function(t){return i("option",{key:t[0],domProps:{selected:e.hasValue(t[0],e.value,e.isMultiple)?"selected":"",value:t[0]}},[e._v(e._s(null==t[1]?e.trans("number")+" "+t[0]:t[1]))])}))],2),e._v(" "),e.canAddRow?i("button",{staticClass:"btn-success",attrs:{"data-add-relation-row":"",type:"button","data-target":"#"+e.getModalId,"data-toggle":"modal"},on:{click:function(t){e.allowRelation=!0}}},[i("i",{staticClass:"fa fa-plus"})]):e._e()]),e._v(" "),i("small",[e._v(e._s(e.field.title))]),e._v(" "),e.isRequiredIfHasValues?i("input",{attrs:{type:"hidden",name:"$required_"+e.field_key,value:"1"}}):e._e(),e._v(" "),e.canAddRow?i("div",{staticClass:"modal fade",class:{"--inModal":e.isModalInModal},attrs:{id:e.getModalId,"data-keyboard":"false",tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.closeOpenedCanAddModal}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("")])]),e._v(" "),i("h4",{staticClass:"modal-title"},[e._v("")])]),e._v(" "),i("div",{staticClass:"modal-body"},[e.allowRelation?i("model-builder",{key:e.modelBuilderId,attrs:{langid:e.langid,hasparentmodel:e.getRelationModelParent,parentrow:e.getRelationRow,allow_refreshing:!e.isCanAddInParentMode,scopes:e.canAddScopes,model_builder:e.getRelationModel}}):e._e()],1)])])]):e._e()])}),[],!1,null,null,null).exports,_e=x({props:["model","field_name","field_key","field","value","required","disabled"],computed:{isPassword:function(){return"password"==this.field.type}},methods:{hasValue:function(e,t,i){return(e||0==e)&&t&&e==t},changeValue:function(e){this.$parent.changeValue(e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group radio-group",attrs:{"data-toggle":"tooltip",title:e.field.tooltip}},[i("label",[e.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:e.trans("languages-field")}}):e._e(),e._v("\n        "+e._s(e.field_name)+"\n        "),e.required?i("span",{staticClass:"required"},[e._v("*")]):e._e()]),e._v(" "),e.required?e._e():i("div",{staticClass:"radio"},[i("label",[i("input",{attrs:{type:"radio",name:e.field_key,value:""}}),e._v("\n            "+e._s(e.trans("no-option"))+"\n        ")])]),e._v(" "),e._l(e.field.options,(function(t){return i("div",{staticClass:"radio"},[i("label",[i("input",{attrs:{type:"radio",name:e.field_key},domProps:{checked:e.hasValue(t[0],e.value),value:t[0]},on:{change:e.changeValue}}),e._v("\n\n            "+e._s(t[1])+"\n        ")])])})),e._v(" "),i("small",[e._v(e._s(e.field.title))])],2)}),[],!1,null,null,null);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var we=x({name:"form-input-builder",props:["model","field","field_key","index","row","confirmation","history","langid","inputlang","hasparentmodel","langslug","depth_level"],components:{StringField:le,NumberField:de,DateTimeField:ce,CheckboxField:ue,TextField:fe,GutenbergField:pe,FileField:ge,SelectField:be,RadioField:_e.exports},created:function(){this.registerFieldComponents(this.model,this.field,"component"),this.registerFieldComponents(this.model,this.field,"sub_component")},mounted:function(){this.syncFieldsValueWithRow()},methods:{parseArrayValue:function(e){if($.isArray(e))for(var t in e)$.isNumeric(e[t])&&(e[t]=parseInt(e[t]));return e},getLocalizedValue:function(e,t){return this.hasLocale?e&&this.langslug in e?e[this.langslug]:t||null:e||null},resetEmptyValue:function(e){return void 0===e||_.isNaN(e)?null:e},syncFieldsValueWithRow:function(){var e=this;this.$watch("row."+this.field_key,(function(t){e.field.value=e.resetEmptyValue(t)})),this.$watch("field.value",(function(t){e.row[e.field_key]=e.resetEmptyValue(t)}))},isEmptyValue:function(e){return _.isNil(e)||""===e},defaultFieldValue:function(e){var t=e?this.isEmptyValue(e.value)?e.defaultByOption||e.default:e.value:null;if(this.isEmptyValue(t)||-1===["number","string","boolean"].indexOf(ye(t))&&!this.isMultipleField(e))return"";if(e.default&&this.isDatepickerField(e)&&"CURRENT_TIMESTAMP"==t.toUpperCase()&&(t=moment().format(this.$root.fromPHPFormatToMoment(e.date_format))),e.default&&this.isEmptyValue(e.value)){var i=e.default.split(".");if(2==i.length){var n=this.getModelBuilder(i[0]);n&&i[1]in n.row&&(t=n.row[i[1]])}}if(e.defaultByOption&&this.isSelect&&this.isEmptyValue(e.value)){var a,o=e.defaultByOption.split(",");1==o.length?a=_.find(e.options,{1:optionValue[0]}):o.length>1&&(a=e.options.filter((function(e){return e[1][o[0]]==o[1]}))[0]),t=a?a[0]:""}return this.isCheckbox&&(t=1==t),this.isEmptyValue(t)?"":(_.isNil(this.field.value)&&this.changeValue(null,t),t)},changeValue:function(e,t,i){if(!this.isConfirmation){t=e?e.target.value:t;if("checkbox"==this.field.type&&(t=e?e.target.checked:t),this.hasLocale){var n="object"===ye(this.field.value)&&this.field.value||{};n[this.langslug]=t,t=n}1!=i&&(this.field.value=t);({})[this.field_key]=t,this.$set(this.row,this.field_key,t)}},isMultipleField:function(e){return e.multiple&&!0===e.multiple||"belongsToMany"in e},isDatepickerField:function(e){return["date","datetime","time"].indexOf(e.type)>-1},fixBoolValue:function(e){return!0===e?"1":!1===e?"0":e}},computed:{getId:function(){return parent=this.model.getParentTableName(1==this.model.without_parent),"id-"+this.model.slug+this.field_key+"-"+this.depth_level+"-"+parent+"-"+this.index+"-"+this.langslug},getFieldKey:function(){return this.model.slug+"-"+this.field_key},getFieldName:function(){var e=this.field_key;return this.hasLocale&&(e=this.field_key+"["+this.langslug+"]"),this.model.formPrefix()+e},getName:function(){return this.isConfirmation?this.field.name+" ("+this.trans("confirmation")+")":this.field.name},isString:function(){return"string"==this.field.type},isNumber:function(){return["integer","decimal"].indexOf(this.field.type)>-1},isText:function(){return"text"==this.field.type||"longtext"==this.field.type},isGutenberg:function(){return"gutenberg"==this.field.type},isEditor:function(){return"editor"==this.field.type||"longeditor"==this.field.type},isFile:function(){return"file"==this.field.type},isPassword:function(){return"password"==this.field.type},isSelect:function(){return this&&"select"==this.field.type},isRadio:function(){return"radio"==this.field.type},isConfirmation:function(){return 1==this.confirmation},isDatepicker:function(){return this.isDatepickerField(this.field)},isCheckbox:function(){return"checkbox"==this.field.type},isDisabled:function(){return 1==this.model.isOpenedRow()&&(0==this.model.hasAccess("update")||0==this.model.editable)||this.model.tryAttribute(this.field,"disabled",this.row)},isReadonly:function(){return this.model.tryAttribute(this.field,"readonly",this.row)},isMultiple:function(){return this.isMultipleField(this.field)},hasComponent:function(){return"component"in this.field&&this.field.component&&0==this.hasEmptyComponent},hasSubComponent:function(){return"sub_component"in this.field&&this.field.sub_component},hasEmptyComponent:function(){var e=this.componentName(this.model,this.field.component);if(!e||!this.model.components[e])return!1;try{var t=this.model.components[e];return""==new Function("return "+t)().template}catch(e){}return!1},getValueOrDefault:function(){if(this.isConfirmation)return"";var e=this.parseArrayValue(this.field.value);return this.isMultipleDatepicker?JSON.stringify(e||[]):this.hasLocale?this.getLocalizedValue(e,this.defaultFieldValue(this.field)):this.model.isOpenedRow()?e:this.defaultFieldValue(this.field)},isRequired:function(){if(this.model.isOpenedRow()&&"password"==this.field.type)return!1;if("required"in this.field&&1==this.field.required)return!0;if(this.field.required_if){var e=this.field.required_if.split(",");if((t=this.fixBoolValue(this.row[e[0]]))&&e.slice(1).indexOf(t)>-1)return!0}if(this.field.required_unless){var t;e=this.field.required_unless.split(",");if((t=this.fixBoolValue(this.row[e[0]]))&&-1==e.slice(1).indexOf(t))return!0}if(this.field.required_without){e=this.field.required_without.split(",");for(var i=0;i<e.length;i++)if(!this.row[e[i]])return!0}if(this.field.required_with)for(e=this.field.required_with.split(","),i=0;i<e.length;i++)if(this.row[e[i]])return!0;return!1},hasLocale:function(){return"locale"in this.field},isChangedFromHistory:function(){return!!this.history&&this.history.fields.indexOf(this.field_key)>-1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field-wrapper",class:{"is-changed-from-history":e.isChangedFromHistory&&!e.hasComponent},attrs:{"data-field":e.field_key,"data-model":e.model.slug,"data-lang":e.langslug,"data-history-changed":e.isChangedFromHistory}},[e.hasComponent||!e.isString&&!e.isPassword?e._e():i("string-field",{attrs:{model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}),e._v(" "),!e.hasComponent&&e.isNumber?i("number-field",{attrs:{model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),!e.hasComponent&&e.isDatepicker?i("date-time-field",{attrs:{model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),!e.hasComponent&&e.isCheckbox?i("checkbox-field",{attrs:{model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),e.hasComponent||!e.isText&&!e.isEditor?e._e():i("text-field",{attrs:{id:e.getId,model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}),e._v(" "),!e.hasComponent&&e.isGutenberg?i("gutenberg-field",{attrs:{id:e.getId,model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),!e.hasComponent&&e.isFile?i("file-field",{attrs:{id:e.getId,row:e.row,model:e.model,field_name:e.getName,field_key:e.getFieldName,field_key_original:e.field_key,field:e.field,value:e.getValueOrDefault,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),!e.hasComponent&&e.isSelect?i("select-field",{attrs:{id:e.getId,row:e.row,model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,inputlang:e.inputlang,langid:e.langid,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),!e.hasComponent&&e.isRadio?i("radio-field",{attrs:{id:e.getId,model:e.model,field_name:e.getName,field_key:e.getFieldName,field:e.field,value:e.getValueOrDefault,inputlang:e.inputlang,langid:e.langid,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly,depth_level:e.depth_level}}):e._e(),e._v(" "),1!=e.field.confirmed||e.isConfirmation?e._e():i("form-input-builder",{attrs:{model:e.model,history:e.history,field:e.field,index:e.index,field_key:e.field_key+"_confirmation",row:e.row,depth_level:e.depth_level,confirmation:!0}}),e._v(" "),e.hasComponent||e.hasEmptyComponent?i(e.componentName(e.model,e.field.component),{tag:"component",attrs:{model:e.model,field:e.field,history_changed:e.isChangedFromHistory,history:e.history,row:e.row,field_key:e.getFieldName,field_key_original:e.field_key,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly}}):e._e(),e._v(" "),e.hasSubComponent?i(e.componentName(e.model,e.field.sub_component),{tag:"component",attrs:{model:e.model,field:e.field,history_changed:e.isChangedFromHistory,history:e.history,row:e.row,field_key:e.getFieldName,field_key_original:e.field_key,required:e.isRequired,disabled:e.isDisabled,readonly:e.isReadonly}}):e._e()],1)}),[],!1,null,null,null);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ce=x({name:"form-group",props:["model","row","history","group","langid","inputlang","hasparentmodel","depth_level"],components:{FormInputBuilder:we.exports,FormTabsBuilder:Se},created:function(){this.$options.components["form-tabs-builder"]=Vue.extend(Se)},computed:{tabsFields:function(){var e=this;return this.group.fields.filter((function(t){return e.isTab(t)}))},visibleFields:function(){return this.getVisibleFields(this.group.fields)}},methods:{getVisibleFields:function(e){var t=this;return(e||[]).filter((function(e){if("string"==typeof e){var i=t.model.fields[e];return!(i.invisible&&1==i.invisible||t.canRemoveAttribute(i)||!t.canShowField(i))}return!(!e||"object"!=xe(e)||!e.fields||"object"!=xe(e.fields))&&t.getVisibleFields(e.fields).length>0}))},canRemoveAttribute:function(e){return this.model.tryAttribute(e,"removeField",this.row)||this.model.tryAttribute(e,"removeFromForm",this.row)},canHideAttribute:function(e){return this.model.tryAttribute(e,"hideField",this.row)||this.model.tryAttribute(e,"hideFromForm",this.row)},canRenderField:function(e){return!("invisible"in e&&1==e.invisible||this.canRemoveAttribute(e))},canShowField:function(e){return!this.canHideAttribute(e)&&(!!(!0!==e.ifExists&&!0!==e.hideOnCreate||this.model.isOpenedRow())&&(!0!==e.ifDoesntExists&&!0!==e.hideOnUpdate||!this.model.isOpenedRow()))},getGroupClass:function(e){var t=(e.width+"").split("-");return"half"==t[0]?t[0]=6:"full"==t[0]?t[0]=12:"third"==t[0]&&(t[0]=4),2==t.length&&"inline"==t[1]?"col-12 col-lg-"+t[0]+" fields-group--inline":$.isNumeric(t[0])?"col-12 col-lg-"+t[0]:"col-12"},canShowGroupName:function(e){return e.name},isField:function(e){return this.$parent.isField(e)},isGroup:function(e){return this.$parent.isGroup(e)},isTab:function(e){return this.$parent.isTab(e)},hasTabs:function(e){return this.$parent.hasTabs(e)},getFieldLangs:function(e){return e&&"locale"in e?_.map(this.$root.languages,"slug"):1},canShowLanguageField:function(e,t,i){return!("locale"in e)||i.slug==t},isGroupVisible:function(e){return!e.id||-1===(this.model.hidden_groups||[]).indexOf(e.id)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isGroupVisible(e.group),expression:"isGroupVisible(group)"}],staticClass:"fields-group fields-group__item",class:e.getGroupClass(e.group),attrs:{"group-id":e.group.id,"data-fields":e.visibleFields.length}},[i("div",{class:{card:e.canShowGroupName(e.group),"fields-group__wrapper":e.visibleFields.length>0||!1===e.hasTabs(e.group.fields),"fields-tabs__wrapper":e.hasTabs(e.group.fields)}},[e.canShowGroupName(e.group)?i("h4",{staticClass:"card-header"},[e.group.icon?i("i",{staticClass:"card-header--icon-left",class:["fa",e.faMigrator(e.group.icon)]}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.group.name)}})]):e._e(),e._v(" "),i("div",{class:{"card-body":e.canShowGroupName(e.group)}},[i("div",{staticClass:"row"},[e.hasTabs(e.group.fields)?i("div",{staticClass:"col-lg-12 tab--parent"},[i("form-tabs-builder",{attrs:{tabs:e.tabsFields,model:e.model,row:e.row,hasparentmodel:e.hasparentmodel,history:e.history,depth_level:e.depth_level}})],1):e.canShowGroupName(e.group)&&0==e.visibleFields.length?i("div",[e._m(0)]):e._e(),e._v(" "),e._l(e.group.fields,(function(t,n){return i("fragment",{key:n},[e.isField(t)&&e.canRenderField(e.model.fields[t])?i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowField(e.model.fields[t]),expression:"canShowField(model.fields[item])"}],staticClass:"fields-group__item col-12"},e._l(e.getFieldLangs(e.model.fields[t]),(function(a){return i("form-input-builder",{directives:[{name:"show",rawName:"v-show",value:e.canShowLanguageField(e.model.fields[t],a,e.inputlang),expression:"canShowLanguageField(model.fields[item], langslug, inputlang)"}],key:t+"-"+a,attrs:{history:e.history,model:e.model,langid:e.langid,inputlang:e.inputlang,langslug:a,row:e.row,index:n,hasparentmodel:e.hasparentmodel,field_key:t,field:e.model.fields[t],depth_level:e.depth_level}})})),1):e._e(),e._v(" "),e.isGroup(t)&&!e.isTab(t)?i("form-group",{attrs:{group:t,model:e.model,row:e.row,hasparentmodel:e.hasparentmodel,inputlang:e.inputlang,history:e.history,depth_level:e.depth_level}}):e._e()],1)}))],2)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-12"},[t("p",{staticClass:"empty-group-separator"},[this._v("...")])])}],!1,null,null,null);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Se=x({name:"form-tabs-builder",props:["model","row","history","group","tabs","childs","langid","inputlang","cansave","hasparentmodel","depth_level","parentActiveGridSize"],components:{FormGroup:Ce.exports},data:function(){return{models_loaded:[],models_data:{},activetab:0}},created:function(){var e=this;this.$options.components["model-builder"]=Vue.extend(Xe),this.$watch("row.id",(function(e,t){!1===this.model.getSettings("autoreset")&&e||(this.activetab=0),this.models_loaded=[]})),eventHub.$on("rowsChanged",this.rowsChangedEvent=function(t){e.depth_level+1==t.depth_level&&e.$set(e.models_data,t.table,t)}),eventHub.$on("changeActiveTab",this.changeActiveTab=function(t){e.depth_level==t.depth_level&&(e.activetab=t.activetab)})},destroyed:function(){eventHub.$off("rowsChanged",this.rowsChangedEvent),eventHub.$off("changeActiveTab",this.rowsChangedEvent)},watch:{activetab:function(e){void 0!==this.cansave&&eventHub.$emit("changeFormSaveState",{model:this.model.slug,state:!(this.isModel(this.getTabs[e])&&!0!==this.getModel(this.getTabs[e].model).inParent)})}},computed:{getModelFields:function(){return 1==this.model.fields_groups.length&&"default"==this.model.fields_groups[0].type?this.model.fields_groups[0].fields:this.model.fields_groups},getTabs:function(){var e=this.getModelFields,t=this.tabs||(this.group?this.group.fields:e),i=t.filter(function(e){return this.isTab(e)}.bind(this));if((0==i.length||i.length>0&&i.length!=t.length)&&(t=t.filter(function(e){return!this.isTab(e)}.bind(this)),i=[{name:this.group?this.group.name:this.$root.getModelProperty(this.model,"settings.title.tab",this.trans("general-tab")),icon:this.group?this.group.icon:this.model.icon,fields:t,type:"tab",default:!0}].concat(i)),1==this.childs)for(var n in this.model.childs){var a="string"==typeof this.model.childs[n]?this.model:this.model.childs[n];this.isModelInFields(e,this.model.childs[n].slug)||i.push({fields:[],type:"tab",model:a.slug})}return i},hasTabsAvailable:function(){return!(1==this.getTabs.filter(function(e){return!!this.isTab(e)&&!(e.model&&!this.isModel(e))}.bind(this)).length&&!0===this.getTabs[0].default)}},methods:{canRenderTab:function(e,t){return!(!this.hasTabs(e.fields)&&!this.isModel(e))||this.chunkGroups(e.fields).length>0},tabsFields:function(e){var t=this;return e.filter((function(e){return t.isTab(e)}))},getModel:function(e){var t=this;return this.cachedModel||(this.cachedModel={}),this.cachedModel[e]?this.cachedModel[e]:this.cachedModel[e]="string"==typeof t.model.childs[e]?_.cloneDeep(t.$root.models[t.model.slug]):I(t.model.childs[e]||t.$root.models[e])},getTabName:function(e){if(this.isModel(e)){var t=this.getModel(e.model),i=e.name||t.name,n=this.models_data[t.slug];return t.isSingle()&&t.isInParent()||(i+=" ("+(n?parseInt(n.count||0):"0")+")"),i}return e.name},getTabIcon:function(e){return this.isModel(e)?e.icon||this.getModel(e.model).icon:e.icon},isModelInFields:function(e,t){for(var i=0;i<e.length;i++)if(this.isGroup(e[i])){if(e[i].model===t)return!0;if(e[i].fields.length>0&&this.isModelInFields(e[i].fields,t))return!0}return!1},isModel:function(e){return!("tab"!=e.type||!e.model||1!=this.getModel(e.model).active)&&(this.model.isOpenedRow()||1==this.getModel(e.model).without_parent)},isField:function(e){return"string"==typeof e&&e in this.model.fields},isGroup:function(e){return"object"==ke(e)&&"type"in e},isTab:function(e){return this.isGroup(e)&&"tab"==e.type},hasTabs:function(e){return e.filter(function(e){return this.isTab(e)}.bind(this)).length>0},getGroupClass:function(e){return this.$parent.getGroupClass(e)},canShowGroupName:function(e){return e.name},chunkGroups:function(e){for(var t=[],i=0;i<e.length;i++)(i>0&&this.isGroup(t[t.length-1])&&this.isField(e[i])||0==i&&this.isField(e[i]))&&t.push([]),this.isField(e[i])?t[t.length-1].push(e[i]):t.push(e[i]);return t.map(function(e){return this.isGroup(e)?e:{type:"default",fields:e,name:this.group?this.group.name:null}}.bind(this))},isLoadedModel:function(e,t){return(t===this.activetab||e.isInParent()||e.getSettings("tab_loaded"))&&-1===this.models_loaded.indexOf(e.slug)&&this.models_loaded.push(e.slug),this.models_loaded.indexOf(e.slug)>-1},isTabVisible:function(e){return!!this.isTab(e)&&-1===(this.model.hidden_tabs||[]).indexOf(e.model||e.id)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"nav-tabs-custom":e.hasTabsAvailable}},[e.hasTabsAvailable?i("ul",{staticClass:"nav nav-tabs"},e._l(e.getTabs,(function(t,n){return e.isTab(t)&&!t.model||e.isModel(t)?i("li",{directives:[{name:"show",rawName:"v-show",value:e.isTabVisible(t),expression:"isTabVisible(tab)"}],staticClass:"nav-item",class:{"model-tab":e.isModel(t),active:e.activetab==n},attrs:{"data-tabs":"","data-depth":e.depth_level,"default-tab":(!e.isModel(t)||!e.getModel(t.model))&&"","data-model":e.isModel(t)&&e.getModel(t.model)?e.getModel(t.model).slug:e.model.table,"data-tab-id":t.id},on:{click:function(t){e.activetab=n}}},[i("a",{staticClass:"nav-link",class:{active:e.activetab==n},attrs:{"data-toggle":"tab","aria-expanded":"true"}},[e.getTabIcon(t)?i("i",{staticClass:"fa nav-link--icon-left",class:[e.faMigrator(e.getTabIcon(t))]}):e._e(),e._v("\n                "+e._s(e.getTabName(t)||e.trans("general-tab"))+"\n            ")])]):e._e()})),0):e._e(),e._v(" "),i("div",{staticClass:"tab-content tab-content--form"},e._l(e.getTabs,(function(t,n){return e.canRenderTab(t)?i("div",{staticClass:"tab-pane",class:{active:e.activetab==n},attrs:{"data-tab-model":!!e.isModel(t)&&e.getModel(t.model).slug,"data-tab-id":t.id}},[i("div",{staticClass:"row"},[e.hasTabs(t.fields)||e.isModel(t)?i("div",{staticClass:"col-lg-12",class:{model:e.isModel(t)}},[e.hasTabs(t.fields)?i("form-tabs-builder",{attrs:{tabs:e.tabsFields(t.fields),model:e.model,row:e.row,langid:e.langid,inputlang:e.inputlang,hasparentmodel:e.hasparentmodel,history:e.history,depth_level:e.depth_level}}):e._e(),e._v(" "),e.isModel(t)?i("model-builder",{attrs:{dusk:"model-builder","data-model":e.getModel(t.model).table,langid:e.langid,ischild:!0,model_builder:e.getModel(t.model),activetab:e.isLoadedModel(e.getModel(t.model),n),parentActiveGridSize:e.parentActiveGridSize,parentrow:e.row}}):e._e()],1):e._e(),e._v(" "),e._l(e.chunkGroups(t.fields),(function(t,n){return e.isGroup(t)&&!e.isTab(t)?i("form-group",{key:n,attrs:{group:t,model:e.model,hasparentmodel:e.hasparentmodel,langid:e.langid,inputlang:e.inputlang,row:e.row,history:e.history,depth_level:e.depth_level}}):e._e()}))],2)]):e._e()})),0)])}),[],!1,null,null,null).exports;function Oe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function $e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var De=x({name:"form-builder",props:["formID","model","row","rows","langid","canaddrow","progress","history","hasparentmodel","selectedlangid","gettext_editor","depth_level","parentActiveGridSize","isOnlyFormOpened","isEnabledOnlyFormOrTableMode","hasRows"],components:{FormTabsBuilder:Se},data:function(){return{submit:!1,isActive:!0,cansave:!0,form:null}},mounted:function(){var e=this;this.form=$("#"+this.formID),eventHub.$on("changeFormSaveState",this.changeFormSaveStateEvent=function(t){t.model==e.model.slug&&(e.cansave=t.state)}),eventHub.$on("onUpdate",this.onUpdateEvent=function(t){if(t.table==e.model.slug&&t.depth_level==e.depth_level)for(var i in t.row)e.row[i]=t.row[i],i in e.model.fields&&(e.model.fields[i].value=t.row[i])}),this.initForm(this.row)},destroyed:function(){eventHub.$off("changeFormSaveState",this.changeFormSaveStateEvent),eventHub.$off("onUpdate",this.onUpdateEvent)},watch:{row:{handler:function(e,t){var i=!this.model.isOpenedRow()||!t||e.id!=t.id;e&&t&&e.id==t.id&&!this.history.history_id||(this.initForm(e,i),this.$parent.sendRowData())},deep:!0}},computed:{formType:function(){return this.model.isInParent()?"div":"form"},title:function(){var e;if(this.model.isOpenedRow()){if(!(e=this.$root.getModelProperty(this.model,"settings.title.update")))return this.model.editable?this.trans("edit-row-n")+" "+this.row.id:this._("Zobrazujete zznam .")+" "+this.row.id;for(var t in this.row){var i=this.row[t];if(this.isFieldSelect(t))for(var n=this.$root.languageOptions(this.model.fields[t].options,t),a=0;a<n.length;a++)if(n[a][0]==i){i=n[a][1];break}if("object"==Ee(i))for(var o in i)if(i[o]){i=i[o];break}e=e.replace(":"+t,i||"")}return e}return(e=this.$root.getModelProperty(this.model,"settings.title.insert"))||(e=this.$root.getModelProperty(this.model,"settings.title.create"))?e:this.trans("new-row")},newRowTitle:function(){return this.$parent.newRowTitle()},saveButton:function(){return this.$root.getModelProperty(this.model,"settings.buttons.update")||this.trans("save")},sendButton:function(){return this.$root.getModelProperty(this.model,"settings.buttons.insert")||this.trans("send")},hasLocaleFields:function(){for(var e in this.model.fields){if(1==this.model.fields[e].locale)return!0;var t=this.model.fields[e].options;if(t&&t[0]&&"object"==Ee(t[0][1])&&null!==t[0][1]&&"language_id"in t[0][1]==1)return!0}return!1},languages:function(){return this.$root.languages},selectedLanguage:function(){if(!this.selectedlangid)return this.languages[0];for(var e in this.languages)if(this.languages[e].id==this.selectedlangid)return this.languages[e];return this.languages[0]},canShowFooter:function(){return this.canUpdateForm||this.getComponents("form-footer").length>0},canUpdateForm:function(){return!this.history.history_id&&((!this.model.isOpenedRow()||0!=this.$root.getModelProperty(this.model,"settings.editable")&&0!=this.model.editable)&&(!!this.model.hasAccess("update")&&(!this.model.isInParent()&&this.cansave)))},canShowGettext:function(){return!!(["languages","admin_languages"].indexOf(this.model.slug)>-1&&this.$root.gettext&&this.model.hasAccess("update"))},getAdditionalFormData:function(){var e={_model:this.model.slug};null!=this.model.foreign_column&&this.$parent.parentrow&&(e[this.model.foreign_column[this.model.getParentTableName()]]=this.$parent.parentrow.id),this.model.global_relation&&this.$parent.parentrow&&this.model.getParentTableName(!0)&&(e._table=this.model.getParentTableName(!0),e._row_id=this.$parent.parentrow.id),"update"==this.getFormAction?(e._id=this.row.id,e._method="put"):(this.langid&&(e.language_id=this.langid),this.hasParentModel()&&this.$parent.rows.save_children.length>0&&(e._save_children=JSON.stringify(this.$parent.rows.save_children)));var t={};for(var i in e)t[this.model.formPrefix()+i]=e[i];return t},getFormAction:function(){return this.model.isOpenedRow()?"update":"store"}},methods:{changeLanguage:function(e){this.$parent.selected_language_id=e},getLangName:function(e){return this.$root.getLangName(e)},showHistory:function(e){this.$parent.showHistory(e)},getComponents:function(e){return this.$parent.getComponents(e)},resetForm:function(){this.$parent.resetForm()},openNewForm:function(){this.$parent.addNewRow()},closeForm:function(){this.$parent.closeForm(),this.model.isOpenedRow()&&this.resetForm()},initForm:function(e,t){var i=e&&"id"in e;if(!1!==t)for(var n in this.model.fields)this.$set(this.model.fields[n],"value",null);if(this.resetErrors(),i||this.$parent.resetForm(),i&&this.canaddrow&&0==this.model.editable&&1!=this.model.displayable&&0==this.$parent.hasChilds())this.$parent.resetForm();else{for(var n in this.model.fields)if(!i||this.model.fields[n].value!=e[n]||t){var a=void 0===(a=i?e[n]:null)?null:a;this.model.fields[n].value=a,this.model.fields[n].$original_value=a,eventHub.$emit("updateField",this.buildEventData({key:n,field:this.model.fields[n]}))}i?this.isActive=null==e.published_at:(this.isActive=!0,this.hasParentModel()&&this.$parent.closeHistory())}},resetErrors:function(){if(this.form.find(".form-group.has-error").firstLevelForm(this.form[0]).removeClass("has-error").find(".help-block").remove(),this.form.find(".far.fa-times-circle").firstLevelForm(this.form[0]).remove(),this.form.find(".multi-languages .has-error").firstLevelForm(this.form[0]).removeClass("has-error"),this.removeActiveTab(this.form.find(".nav-tabs li[has-error]").firstLevelForm(this.form[0])),this.$parent.progress=!1,this.form._errorElements){for(var e=0;e<this.form._errorElements.length;e++)this.form._errorElements[e].remove();this.form._errorElements=[]}},sendForm:function(e,t,i){var n=this;if(1!=this.submit){if("undefined"!=typeof CKEDITOR)for(var a in CKEDITOR.instances)CKEDITOR.instances[a].updateElement();this.resetErrors(),this.$parent.progress=!0,$(e.target).ajaxSubmit({url:this.$root.requests[t],success:function(e){if(n.submit=!0,n.$parent.progress=!1,"object"!=$.type(e)||!("type"in e))return n.unknownAjaxErrorResponse();setTimeout((function(){n.$root.openAlert(e.title,e.message,e.type,null,(function(){setTimeout((function(){n.submit=!1}),500)}))}),100),i(e)},error:function(e){n.resetErrors(),n.$root.errorResponseLayer(e,422,(function(){var t=e.responseJSON,i=[];for(var a in"errors"in t&&!("length"in t.errors)&&(t=t.errors),t)i="string"==typeof t[a]?[t[a]]:t[a],n.bindErrorMessages(a,i)}))}})}},unknownAjaxErrorResponse:function(){var e=this;this.$root.errorAlert((function(){e.$parent.progress=!1,setTimeout((function(){e.submit=!1}),500)}))},bindErrorMessages:function(e,t){var i=this,n=[],a=e.split(".");(1==a.length||2==a.length&&0==a[1])&&(e=(a=[a[0]])[0],n.push(e),a.push(0)),a=a.map((function(e,t){return 0==t?e:"["+e+"]"})),n.push(a.join(""));for(var o=0;o<n.length;o++)"[]"!=n[o].substr(-2)&&n.push(n[o]+"[]");for(o=0;o<t.length;o++)_.uniqBy(n).map((function(e){i.form.find('input[name="'+e+'"], select[name="'+e+'"], textarea[name="'+e+'"]').firstLevelForm(i.form[0]).each(i.showErrorMessage(t[o],o))}))},showErrorMessage:function(e,t){var i=this;return function(){var n=$(this);if(i.colorizeTab($(this)),i.colorizeLangDropdown($(this)),$(this).is("select")?n=n.parent().parent().children().last().prev():$(this).is("textarea")?n=n.parent().children().last().prev():$(this).is("input:checkbox")?n=n.next():$(this).is("input:radio")||$(this).parent().hasClass("label-wrapper")?n=0==(n=n.parent().parent().parent()).find(".help-block").length?n.children().last().prev():null:$(this).parent().hasClass("input-group")&&(n=$(this).parent()),n&&(n.after('<span class="help-block">'+e+"</span>"),i.addErrorElement(n.next())),0==t){var a=$(this).closest("div.form-group").addClass("has-error").find("> label");0==a.find(".fa-times-circle").length&&a.prepend('<i class="far fa-times-circle"></i> ')}}},addErrorElement:function(e){this.form._errorElements||(this.form._errorElements=[]),this.form._errorElements.push(e)},buildEventData:function(e,t,i){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(i),!0).forEach((function(t){$e(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({table:(t=t||this.model).slug,model:t,depth_level:this.depth_level+(i?1:0)},e)},saveForm:function(e){var t=this;if(!this.model.isInParent()){var i=this.getFormAction;this.sendForm(e,i,(function(e){if(!e.data)return!1;if("store"==i)for(var n in e.data){var a=_.cloneDeep(e.data[n].rows[0]),o=e.data[n].model==t.model.table,r=t.$root.models[e.data[n].model];o&&t.hasParentModel()&&t.saveParentChilds(e.data[n].rows);var s=o?t.model:r,l=t.buildEventData({row:a,request:e.data[n]},s,!o);if(eventHub.$emit("onSubmit",l),eventHub.$emit("onCreate",l),o){var d=t.$root.getModelProperty(t.model,"settings.autoreset");t.model.isSingle()||!1===d?(t.$parent.row=a,t.scrollToForm()):(t.initForm(t.model.emptyRowInstance()),t.closeForm())}}else if("update"==i){var c=e.data.rows;for(var u in c){a=_.cloneDeep(c[u]),o=u==t.model.table,r=t.$root.models[u],l=t.buildEventData({row:a,request:c[u]},r,!o);eventHub.$emit("onSubmit",l),eventHub.$emit("onUpdate",l)}}if(!0!==t.hasparentmodel){var f="store"==i?e.data[0].rows[0]:e.data.rows[t.model.table];t.$parent.$parent.pushOption(f,i)}}))}},removeActiveTab:function(e,t){e.filter((function(){return!0===t||!$(this).hasClass("model-tab")})).removeAttr("data-toggle").removeAttr("data-original-title").removeAttr("has-error").tooltip("dispose").find("a > .fa.fa-exclamation-triangle").remove()},colorizeTab:function(e){var t=this;e.parents(".tab-pane").each((function(){var e=function(e){var t,i=e.parent().prev().find("li"),n=e.attr("id")||e.attr("data-tab-id");return n&&(t=i.parent().add($("ul.nav.nav-tabs")).find('> li > a[href="#'+n+'"]')),t&&t.length>0?t.parent():i.eq(e.index())};$(this).one("click",(function(){0==$(this).find(".nav-tabs-custom:not(.default) li[has-error]").length&&t.removeActiveTab(e($(this)),!0)})),e($(this)).each((function(){$(this).hasClass("has-error")||$(this).attr("data-toggle","tooltip").attr("data-original-title",t.trans("tab-error")).attr("has-error","").one("click",(function(){var e=$(this).parents(".nav-tabs-custom").find("> .nav-tabs > li.active[has-error]").not($(this).parent().find("> li"));t.removeActiveTab($([this].concat(e.toArray())),!0)})).find("a").prepend('<i class="nav-link--icon-left fa fa-exclamation-triangle"></i>')}))}))},colorizeLangDropdown:function(e){var t=e.parents(".field-wrapper"),i=t.attr("data-field"),n=t.attr("data-lang"),a=t.attr("data-model");if(i&&(1==this.$root.models[a].fields[i].locale&&n!=this.selectedLanguage.slug)){var o=this.form.find(".multi-languages .dropdown-toggle");o.addClass("has-error"),o.next().find('li[data-slug="'+n+'"]').addClass("has-error"),n==this.languages[0].slug&&this.$root.openAlert(this.trans("warning"),this.trans("lang-error"),"warning")}},scrollToForm:function(){var e=this;setTimeout((function(){e.scrollTo("#"+e.formID)}),this.$root.isTest?0:500)},hasParentModel:function(){return"model-builder"==this.$parent.$options.name},saveParentChilds:function(e){if(this.$parent.rows.save_children=[],this.$parent.isWithoutParentRow){for(var t=this.$parent.$parent;!("rows"in t);)t=t.$parent;for(var i=0;i<e.length;i++)t.rows.save_children.push({table:this.model.slug,id:e[i].id})}},openGettextEditor:function(){this.$parent.gettext_editor=this.row},isFieldSelect:function(e){return!!(e&&e in this.model.fields&&["select","radio"].indexOf(this.model.fields[e].type)>-1)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.formType,{tag:"component",staticClass:"form crudadmin-form",attrs:{method:"post",action:"",id:e.formID,"data-form":e.model.slug},on:{submit:function(t){return t.preventDefault(),e.saveForm(t)}}},[i("div",{staticClass:"box",class:{"box--active":e.isActive}},[i("div",{staticClass:"box-header",class:{visible:e.hasLocaleFields||e.canShowGettext||e.model.isOpenedRow()&&e.model.history,"--opened":e.model.isOpenedRow()},attrs:{"data-header":""}},[i("div",{staticClass:"box-header__actions"},[i("div",{staticClass:"box-header__left"},[i("h3",{staticClass:"box-header__title"},[(e.model.isOpenedRow()||e.isOnlyFormOpened)&&e.isEnabledOnlyFormOrTableMode&&e.hasRows?i("i",{staticClass:"goBackButton fa fa-chevron-left",attrs:{"data-toggle":"tooltip",title:e.__("Vrti sa bez uloenia")},on:{click:e.closeForm}}):e._e(),e._v(" "),e.model.localization?i("span",{staticClass:"--icon-left fa fa-globe-americas",attrs:{"data-toggle":"tooltip","data-original-title":e.trans("multilanguages")}}):e._e(),e._v("\n                        "+e._s(e.title)+"\n                    ")]),e._v(" "),e._l(e.getComponents("form-header-left"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})}))],2),e._v(" "),i("div",{staticClass:"box-header__right"},[e._l(e.getComponents("form-header-right"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),e.model.isOpenedRow()&&e.canShowGettext?i("button",{staticClass:"btn--icon btn btn-default btn-sm",attrs:{type:"button"},on:{click:e.openGettextEditor}},[i("i",{staticClass:"fa fa-globe-americas"}),e._v("\n                        "+e._s(e.trans("gettext-open"))+"\n                    ")]):e._e(),e._v(" "),e.model.isOpenedRow()&&e.model.history&&e.model.isSingle()?i("button",{staticClass:"btn--icon btn btn-sm btn-default",attrs:{type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("history.changes")},on:{click:function(t){return e.showHistory(e.row)}}},[i("i",{staticClass:"fa fa-history"}),e._v("\n                        "+e._s(e.model.getSettings("buttons.show-history",e.trans("history.show")))+"\n                    ")]):e._e(),e._v(" "),e.hasLocaleFields&&e.selectedLanguage&&e.languages.length>1?i("div",{staticClass:"dropdown multi-languages",attrs:{"data-form-language-switch":""}},[i("button",{staticClass:"btn btn-default dropdown-toggle btn-sm",attrs:{type:"button",id:"languageDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[i("i",{staticClass:"--icon-left fa fa-globe-americas"}),e._v(" "),i("span",{staticClass:"text"},[e._v(e._s(e.getLangName(e.selectedLanguage)))]),e._v(" "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"languageDropdown"}},e._l(e.languages,(function(t){return e.selectedLanguage.id!=t.id?i("li",{attrs:{"data-slug":t.slug}},[i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),e.changeLanguage(t.id)}}},[e._v("\n                                    "+e._s(e.getLangName(t))+"\n                                ")])]):e._e()})),0)]):e._e(),e._v(" "),!e.model.isOpenedRow()&&!e.isOnlyFormOpened||e.model.isInParent()||e.model.isSingle()?e._e():i("button",{staticClass:"btn--icon btn btn-default btn-sm",attrs:{"data-toggle":"tooltip","data-close-form":e.model.table,title:e.__("Zavrie bez uloenia"),type:"button"},on:{click:e.closeForm}},[i("i",{staticClass:"fa fa-times-circle"}),e._v("\n                        "+e._s(e.__("Zavrie"))+"\n                    ")])],2)]),e._v(" "),e._l(e.getComponents("form-header"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})}))],2),e._v(" "),i("div",{staticClass:"box-body box-body--form",class:{cantadd:!e.cansave}},[e._l(e.getComponents("form-top"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),i("div",{staticClass:"box-body-wrapper"},[e._l(e.getAdditionalFormData,(function(e,t){return i("input",{attrs:{type:"hidden",name:t},domProps:{value:e}})})),e._v(" "),i("form-tabs-builder",{attrs:{model:e.model,childs:!0,langid:e.langid,inputlang:e.selectedLanguage,row:e.row,cansave:e.cansave,hasparentmodel:e.hasparentmodel,depth_level:e.depth_level,parentActiveGridSize:e.parentActiveGridSize,history:e.history}})],2),e._v(" "),e._l(e.getComponents("form-bottom"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})}))],2),e._v(" "),e.canShowFooter?i("div",{staticClass:"box-footer",attrs:{"data-footer":e.model.table}},[e._l(e.getComponents("form-footer"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),e.canUpdateForm?i("div",{staticClass:"box-footer__actions"},[e.progress?i("button",{class:["btn","btn-"+(e.model.isOpenedRow()?"success":"primary")],attrs:{type:"button","data-action-type":"updating"}},[i("i",{staticClass:"fa updating fa-refresh"}),e._v(" "+e._s(e.model.isOpenedRow()?e.trans("saving"):e.trans("sending")))]):e._e(),e._v(" "),e.progress?e._e():i("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-action-type":e.model.isOpenedRow()?"update":"create",name:"submit"}},[e._v(e._s(e.model.isOpenedRow()?e.saveButton:e.sendButton))])]):e._e()],2):e._e()])])}),[],!1,null,null,null).exports,Me=x({methods:{}},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"box__overlay"},[t("i",{staticClass:"fa fa-sync fa-spin"}),this._v(" "),t("p",[this._v(this._s(this.trans("loading")))])])}),[],!1,null,null,null).exports;function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var je=x({props:["model","item","field","name","image","columns","settings"],components:{File:me},created:function(){this.fieldColumn&&this.registerFieldComponents(this.model,this.fieldColumn,"column_component")},computed:{getFiles:function(){var e=this.fieldValue||[];return $.isArray(e)?e:[e]},hasFieldValue:function(){return!1===_.isNil(this.fieldValue)},fieldValue:function(){var e=this.settings.field,t=this.item,i=this.field in t?this.getMutatedValue(t[this.field],e):"";if(e){var n="radio"==e.type;if("select"==e.type||n){if("multiple"in e&&1==e.multiple&&$.isArray(i)&&!n){for(var a=[],o=i,r=(d=this.getRelatedModelTable(e))||e.option?this.getLanguageSelectOptions(e.options,this.getRelatedModelTable(e)):e.options,s=0;s<o.length;s++){var l=r.filter(function(e){return e[0]==o[s]}.bind(this));l.length>0&&a.push(l[0][1])}return a.join(", ")}var d=this.getRelatedModelTable(e);if(!(r=n||!d&&!e.option?e.options:this.getLanguageSelectOptions(e.options,d)))return i;for(s=0;s<r.length;s++)if(i==r[s][0])return r[s][1]}else{if("checkbox"==e.type)return 1==i?this.trans("yes"):this.trans("no");"date"==e.type&&!0===e.multiple?i=this.returnDateFormat(i):"time"==e.type&&!0===e.multiple&&(i=(i||[]).join(", "))}}else if(["created_at","updated_at"].indexOf(this.field)>-1)return this.returnDateFormat([i]);var c=this.settings.add_before,u=this.settings.add_after;return"object"==Te(i)?i:i||0==i?(c||"")+i+(u||""):null},onlyEncodedTitle:function(){return!1===this.settings.encode?"":this.fieldValue},fieldValueLimitedAndEncoded:function(){return this.encodeValue(this.stringLimit(this.fieldValue))},fieldColumn:function(){return this.model.fields[this.field]},hasComponent:function(){return this.fieldColumn&&"column_component"in this.fieldColumn&&this.fieldColumn.column_component}},methods:{returnDateFormat:function(e){return(e||[]).map((function(e){var t=moment(e);return t._isValid?t.format("DD.MM.YYYY"):e})).join(", ")},stringLimit:function(e){var t=this.settings.string_limit;return 0!=t&&e.length>t&&!1!==this.settings.encode?e.substr(0,t)+"...":e},encodeValue:function(e){var t=this.settings.field;if(this.settings.isRealField){if(1==this.settings.encode&&(e=$(document.createElement("div")).text(e).html()),"text"==t.type&&0===parseInt(t.limit))return e.replace(/\n/g,"<br>");if("string"==t.type&&("phone"in t||"phone_link"in t))return'<a href="tel:'+e+'">'+e+"</a>"}return e},getRelatedModelTable:function(e){var t=e.belongsTo||e.belongsToMany;return!!t&&t.split(",")[0]},getMutatedValue:function(e,t){if(t&&"locale"in t){var i=this.settings.default_slug;e=this.getLocaleFieldValue(e,i)}return 0===e?0:e},getLanguageSelectOptions:function(e,t){var i=(t=this.$root.models[t])&&t.localization?{language_id:this.$root.language_id}:{};return this.$root.languageOptions(e,this.settings.field,i,!1)},isFile:function(){return!(!this.settings.isRealField||"file"!=this.settings.field.type||!this.settings.encode)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasFieldValue||e.hasComponent?i("div",[e.hasComponent?i(e.componentName(e.model,e.fieldColumn.column_component),{tag:"component",attrs:{mutatedValue:e.fieldValue,value:e.item[e.field],field:e.fieldColumn,row:e.item,model:e.model}}):e.isFile()?i("div",{staticClass:"filesList"},e._l(e.getFiles,(function(t,n){return i("div",[i("file",{attrs:{file:t,field:e.field,model:e.model,image:e.image}}),e._v(" "),n!=e.getFiles.length-1?i("span",[e._v(", ")]):e._e()],1)})),0):i("span",{attrs:{"data-toggle":e.fieldValue.length>e.settings.string_limit?"tooltip":"","data-original-title":e.onlyEncodedTitle},domProps:{innerHTML:e._s(e.fieldValueLimitedAndEncoded)}})],1):e._e()}),[],!1,null,null,null).exports,Ae=i(141);function Fe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Pe=x({props:["row","rows","rowsdata","buttons","count","field","gettext_editor","model","orderby","history","checked","button_loading","pagination","depth_level"],components:{TableRowValue:je,draggable:i.n(Ae).a},data:function(){return{enabled_columns:{},hidden:["language_id","_order","slug","published_at","updated_at","created_at"],autoSize:!1,loadingRow:null}},created:function(){var e=this;null!=this.model.foreign_column&&this.hidden.push(this.model.foreign_column),this.resetAllowedColumns(),0==this.autoSize&&this.$parent.$parent.checkActiveGridSize(this.columns),eventHub.$on("selectHistoryRow",this.selectHistoryRowEvent=function(t){e.model.slug==t.table&&e.selectRow({id:t.row_id},null,null,t.history_id,t.row)})},destroyed:function(){eventHub.$off("selectHistoryRow",this.selectHistoryRowEvent)},watch:{columns:function(){this._cacheColumnSettings={}}},computed:{hasCheckingEnabled:function(){return!1!==this.model.getSettings("checking",!0)&&1!=this.canOpenRowOnClick},isSmallTable:function(){var e=Object.keys(this.columns).length;return this.pagination.limit>=100&&this.rows.count>=100||e>10},multipleCheckbox:function(){return this.checked.length>0},defaultColumns:function(){for(var e={},t=0;t<this.model.columns.length;t++)o=this.model.columns[t],this.model.getSettings("columns."+o+".hidden")||-1==this.hidden.indexOf(o)&&this.avaliableColumns.indexOf(o)>-1&&(!(o in this.model.fields)||1!=this.model.fields[o].hidden&&1!=this.model.fields[o].invisible||1==this.model.fields[o].column_visible)&&(e[this.model.columns[t]]=this.fieldName(this.model.columns[t]));var i=this.model.getSettings("columns"),n=[];if(i){for(var t in i)if(1!=this.model.getSettings("columns."+t+".hidden")){var a={};for(var o in e){for(var r in i)a=this.addColumn(a,r,o,"before",i,n);for(var r in a[o]=e[o],i)a=this.addColumn(a,r,o,"after",i,n)}e=a}for(var o in i)if(!(o in e)&&(1!=i[o].hidden&&1!=i[o].invisible||1==i[o].column_visible)){var s=this.getColumnRightKey(o);e[o]=i[o].name||i[o].title||this.model.fields[s].column_name||this.model.fields[s].name}}return!1===this.$root.getModelProperty(this.model,"settings.increments")&&"id"in e&&delete e.id,this.$parent.default_columns=Object.keys(e),e},columns:function(){var e={};for(var t in this.enabled_columns)1==this.enabled_columns[t].enabled&&(e[t]=this.enabled_columns[t].name);return e},avaliableColumns:function(){return["id"].concat(Object.keys(this.model.fields))},isEditable:function(){return 1==this.model.editable||this.$parent.$parent.hasChilds()>0},isDisplayable:function(){return 1==this.model.displayable},isEnabledHistory:function(){return 1==this.model.history&&this.$root.models.models_histories.hasAccess("read")},canShowGettext:function(){return!!(["languages","admin_languages"].indexOf(this.model.slug)>-1&&1==this.$root.gettext&&this.model.hasAccess("update"))},canShowInfo:function(){return 1==this.model.getSettings("dates")},formID:function(){return"form-"+this.depth_level+"-"+this.model.slug},availableButtons:function(){return this.$parent.availableButtons},isCheckedAll:function(){var e=this.rows.data.map((function(e){return e.id}));return 0!=this.checked.length&&_.isEqual(e,this.checked)},canOpenRowOnClick:function(){return 1==this.model.getSettings("table.onclickopen",!1)}},methods:{getCachableColumnsSettings:function(e){var t;if(this._cacheColumnSettings||(this._cacheColumnSettings={}),e in this._cacheColumnSettings)return this._cacheColumnSettings[e];var i=(Fe(t={isRealField:e in this.model.fields,field:this.model.fields[e],string_limit:this.getFieldLimit(e),default_slug:this.$root.languages.length?this.$root.languages[0].slug:null},"field",e in this.model.fields?this.model.fields[e]:null),Fe(t,"add_before",this.model.getSettings("columns."+e+".add_before")),Fe(t,"add_after",this.model.getSettings("columns."+e+".add_after")),Fe(t,"encode",this.model.getSettings("columns."+e+".encode",!0)),Fe(t,"limit",this.model.getSettings("columns."+e+".limit")),t);return this._cacheColumnSettings[e]=i},getFieldLimit:function(e){var t=Object.keys(this.columns).length<5?40:20,i=this.model.getSettings("columns."+e+".limit");if(!1===this.model.getSettings("columns."+e+".encode",!0))return 0;if(e in this.model.fields){var n,a=this.model.fields[e];return(n="limit"in a?a.limit:i||t)||0===n?n:t}return i||t},addColumn:function(e,t,i,n,a,o){if(n in a[t]&&(a[t][n]==i||a[t][n]+"_id"==i)){var r=this.getColumnRightKey(t);if(o.indexOf(r)>-1)return e;o.push(r),t in e&&delete e[t],r in e&&delete e[r],e[r]=a[t].name||a[t].title||this.model.fields[r].column_name||this.model.fields[r].name}return e},toggleAllCheckboxes:function(){var e=this.rows.data.map((function(e){return e.id}));this.$parent.checked=this.isCheckedAll?[]:e},checkRow:function(e,t,i){if(i&&this.canOpenRowOnClick&&(this.isEditable||this.isDisplayable))this.selectRow(i);else if(!1!==this.hasCheckingEnabled){var n=this.$parent.checked.indexOf(e);t in this.model.fields&&["file"].indexOf(this.model.fields[t].type)>-1||(-1==n?this.$parent.checked.push(e):this.$parent.checked.splice(n,1))}},resetAllowedColumns:function(){var e=_.cloneDeep(this.defaultColumns),t={},i=Object.keys(e),n=Object.keys(this.model.fields);for(var a in e)t[a]={name:e[a],enabled:!0};for(var a in this.model.fields)if(!(a in t)&&!0!==this.model.fields[a].inaccessible){for(var o=null,r=!0,s=n.slice(0,n.indexOf(a)),l=n.slice(n.indexOf(a)+1),d=s.length-1;d>=0;d--)if(i.indexOf(s[d])>-1){o=i.indexOf(s[d]);break}if(!o)for(d=0;d<l.length;d++)if(i.indexOf(l[d])>-1){o=i.indexOf(l[d]),r=!1;break}null===o?i.push(a):i.splice(o+(r?1:0),0,a),t[a]={name:this.fieldName(a),enabled:!1}}var c={};for(d=0;d<i.length;d++)c[i[d]]=t[i[d]];this.$parent.enabled_columns=this.enabled_columns=c},buttonsCount:function(e){var t=this.getButtonsForRow(e),i=0;return i+=this.isEnabledHistory?1:0,i+=this.canShowGettext?1:0,i-=this.canShowGettext?0:1,i-=this.model.publishable?0:1,Object.keys(t||{}).length+i},getButtonsForRow:function(e){if(!(this.rows.buttons&&e.id in this.rows.buttons))return{};var t={},i=this.rows.buttons[e.id];for(var n in i)["button","both","multiple"].indexOf(i[n].type)>-1&&(t[n]=i[n]);return t},getButtonKey:function(e,t){return this.$parent.getButtonKey(e,t)},buttonAction:function(e,t,i){return this.$parent.buttonAction(e,t,i)},toggleSorting:function(e){if(!1!==this.$root.getModelProperty(this.model,"settings.sortable")){var t=this.orderby[0]==e?1-this.orderby[1]:0;this.$parent.orderBy=[e,t]}},fieldName:function(e){return this.model.fieldName(e)},isActiveRow:function(e){return!!this.row&&e.id==this.row.id},enableDragging:function(){this.$parent.initTimeout(!1),this.$parent.dragging=!1,$('[data-toggle="tooltip"]').tooltip("enable")},beforeUpdateOrder:function(e){this.$parent.destroyTimeout(),this.$parent.dragging=!0,$('[data-toggle="tooltip"]').tooltip("disable")},updateOrder:function(e){var t=this;if("_order"==this.orderby[0]){for(var i=this.rowsdata[e.oldIndex],n=this.rowsdata[e.newIndex],a=i._order,o=n._order,r={},s=this.$parent.$parent.rows.data.length-1;s>=0;s--){var l=this.$parent.$parent.rows.data[s];l.id==i.id?(l._order=o,r[l.id]=l._order):a>o&&l._order>=o&&l._order<=a?(l._order+=1,r[l.id]=l._order):a<o&&l._order<=o&&l._order>a&&(l._order-=1,r[l.id]=l._order)}this.$http.post(this.$root.requests.updateOrder,{model:this.model.slug,rows:r}).then((function(e){var i=e.data;if(i&&"type"in i)return t.$root.openAlert(i.title,i.message,"danger");t.enableDragging()})).catch((function(e){this.$root.errorResponseLayer(e),this.enableDragging()}))}else this.enableDragging()},getDateByField:function(e,t){return t in this.model.fields?e[t]:moment(e[t]).format("DD.MM.Y HH:mm")},showInfo:function(e){var t="";null!=e.created_at&&(t+=this.trans("created-at")+": <strong>"+this.getDateByField(e,"created_at")+"</strong><br>"),null!=e.updated_at&&0!=this.model.editable&&(t+=this.trans("last-change")+": <strong>"+this.getDateByField(e,"updated_at")+"</strong><br>"),null!=e.published_at&&(t+=this.trans("published-at")+": <strong>"+this.getDateByField(e,"published_at")+"</strong>"),this.$root.openAlert(this.trans("row-info-n")+" "+e.id,t,"primary",null,(function(){}))},openGettextEditor:function(e){this.$parent.$parent.gettext_editor=e},showHistory:function(e){this.$parent.$parent.showHistory(e)},selectRow:function(e,t,i,n,a){var o=this;if((!this.row||this.row.id!=e.id||n)&&(!i||this.model.slug==i)){if(!0===e&&null===t)return this.$parent.row=null;var r=function(t){for(var i in t)e[i]=t[i];if(o.$set(o.$parent.$parent,"row",_.cloneDeep(e,!0)),a)for(var i in a)o.$set(a,i,e[i]);o.$parent.$parent.closeHistory(!!n),o.$nextTick((function(){setTimeout((function(){o.loadingRow=!1,o.scrollToForm()}),100)}))};this.loadingRow=e.id,t?r(t):this.$http.get(this.$root.requests.get("show",{model:this.model.slug,id:e.id,subid:n})).then((function(e){var t=e.data;n&&(this.$parent.$parent.history.data=e.data,t=t.row),r(t)})).catch((function(e){this.$root.errorResponseLayer(e)}))}},removeRow:function(e){this.$parent.removeRow(e)},togglePublishedAt:function(e){this.$parent.togglePublishedAt(e)},isImageField:function(e){if(e in this.model.fields&&"image"in(e=this.model.fields[e]))return!0;return!1},getColumnRightKey:function(e){return!(e in this.model.fields)&&e+"_id"in this.model.fields?e+"_id":e},scrollToForm:function(){var e=this;0!=this.$parent.$parent.activeGridSize&&0==this.isMobileDevice()||setTimeout((function(){var t=$("#"+e.formID),i=t.parents('.modal[role="dialog"]:visible');(i.length?i:$("html, body")).animate({scrollTop:t.offset().top-10},e.$root.isTest?0:500)}),25)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"table",class:{sortable:e.model.sortable&&"_order"==e.orderby[0],"table-sm":e.isSmallTable},attrs:{id:"table-"+e.model.slug,"data-table-rows":e.model.slug,"data-depth":e.depth_level}},[i("thead",{attrs:{"data-table-head":""}},[i("tr",[e.hasCheckingEnabled?i("th",{staticClass:"select-row-checkbox",on:{click:e.toggleAllCheckboxes}},[i("div",{staticClass:"checkbox-box",attrs:{"data-toggle":"tooltip",title:e.trans(e.isCheckedAll?"uncheck-all":"check-all")},on:{click:function(t){return e.checkRow(e.item.id)}}},[i("input",{attrs:{type:"checkbox"},domProps:{checked:e.isCheckedAll}}),e._v(" "),i("span",{staticClass:"checkmark"})])]):e._e(),e._v(" "),e._l(e.columns,(function(t,n){return i("th",{class:"th-"+n,on:{click:function(t){return e.toggleSorting(n)}}},[e.orderby[0]==n&&0==e.orderby[1]?i("i",{staticClass:"arrow-sorting fa fa-angle-up"}):e._e(),e._v(" "),e.orderby[0]==n&&1==e.orderby[1]?i("i",{staticClass:"arrow-sorting fa fa-angle-down"}):e._e(),e._v("\n                "+e._s(t)+"\n            ")])})),e._v(" "),i("th",{staticClass:"th-options-buttons"})],2)]),e._v(" "),i(e.isMobileDevice()||0==e.model.sortable?"tbody":"draggable",{tag:"component",attrs:{tag:"tbody"},on:{start:e.beforeUpdateOrder,end:e.updateOrder}},e._l(e.rowsdata,(function(t,n){return i("tr",{key:t.id,class:{"--active":e.checked.indexOf(t.id)>-1,"--loading":e.loadingRow==t.id},attrs:{"data-id":t.id}},[e.hasCheckingEnabled?i("td",{staticClass:"select-row-checkbox"},[i("div",{staticClass:"checkbox-box",on:{click:function(i){return e.checkRow(t.id)}}},[i("input",{attrs:{type:"checkbox"},domProps:{checked:e.checked.indexOf(t.id)>-1}}),e._v(" "),i("span",{staticClass:"checkmark"})])]):e._e(),e._v(" "),e._l(e.columns,(function(n,a){return i("td",{key:t.id+"-"+a,class:["td-"+a,{image_field:e.isImageField(a)}],attrs:{"data-field":a},on:{click:function(i){return e.checkRow(t.id,a,t)}}},[i("table-row-value",{attrs:{settings:e.getCachableColumnsSettings(a),columns:e.columns,field:a,name:n,item:t,model:e.model,image:e.isImageField(a)}})],1)})),e._v(" "),i("td",{staticClass:"buttons-options",class:["additional-"+e.buttonsCount(t)],attrs:{"data-model":e.model.slug}},[e.isEditable||e.isDisplayable?i("div",{staticClass:"buttons-options__item"},[i("button",{class:["btn","btn-sm",{"btn-success":e.isActiveRow(t),"btn-default":!e.isActiveRow(t)}],attrs:{"data-button":"edit","data-id":t.id,type:"button","data-toggle":"tooltip",title:"","data-original-title":e.model.hasAccess("update")&&e.isEditable?e.trans("edit"):e.trans("show")},on:{click:function(i){return e.selectRow(t)}}},[i("i",{class:{"fas fa-spinner fa-spin":e.loadingRow==t.id,"far fa-edit":e.loadingRow!=t.id}})])]):e._e(),e._v(" "),e.isEnabledHistory?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-sm btn-default",class:{"enabled-history":e.isActiveRow(t)&&e.history.history_id},attrs:{"data-button":"history",type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("history.changes")},on:{click:function(i){return e.showHistory(t)}}},[i("i",{staticClass:"fa fa-history"})])]):e._e(),e._v(" "),e.canShowGettext?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-sm btn-default",attrs:{"data-button":"gettext",type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("gettext-update")},on:{click:function(i){return e.openGettextEditor(t)}}},[i("i",{staticClass:"fa fa-globe-americas"})])]):e._e(),e._v(" "),e.canShowInfo?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-sm btn-default",attrs:{type:"button","data-button":"show","data-toggle":"tooltip",title:"","data-original-title":e.trans("row-info")},on:{click:function(i){return e.showInfo(t)}}},[i("i",{staticClass:"far fa-question-circle"})])]):e._e(),e._v(" "),e._l(e.getButtonsForRow(t),(function(n,a){return i("div",{staticClass:"buttons-options__item"},[i("button",{class:["btn","btn-sm",n.class],attrs:{type:"button","data-button":"action-"+n.key,"data-toggle":"tooltip",title:"","data-original-title":n.name},on:{click:function(i){return e.buttonAction(a,n,t)}}},[i("i",{class:["fa",e.button_loading==e.getButtonKey(t.id,a)?"fa-sync-alt":e.faMigrator(n.icon),{"fa-spin":e.button_loading==e.getButtonKey(t.id,a)}]})])])})),e._v(" "),e.model.publishable&&e.model.hasAccess("publishable")?i("div",{staticClass:"buttons-options__item"},[i("button",{class:["btn","btn-sm",{"btn-info":!t.published_at,"btn-warning":t.published_at}],attrs:{"data-button":"publishable",type:"button","data-published":t.published_at?"true":"false","data-toggle":"tooltip",title:"","data-original-title":t.published_at?e.trans("hide"):e.trans("show")},on:{click:function(i){return e.togglePublishedAt(t)}}},[i("i",{class:{fa:!0,"fa-eye":t.published_at,"fa-eye-slash":!t.published_at}})])]):e._e(),e._v(" "),e.model.deletable&&e.count>e.model.minimum&&e.model.hasAccess("delete")?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-danger btn-sm",class:{disabled:e.model.isReservedRow(t)},attrs:{"data-button":"delete",type:"button","data-toggle":"tooltip",title:"","data-original-title":e.trans("delete")},on:{click:function(i){return e.removeRow(t,n)}}},[i("i",{staticClass:"far fa-trash-alt"})])]):e._e()],2)],2)})),0)],1)}),[],!1,null,null,null).exports,Re=x({props:["rows","pagination"],mounted:function(){},computed:{paginateItems:function(){for(var e=[],t=1;t<=Math.ceil(this.rows.count/this.pagination.limit);t++)this.showLimit(t)?e.push(t):0!=e[e.length-1]&&e.push(0);return e}},methods:{setPosition:function(e){e!=this.pagination.position&&this.$parent.setPosition(e)},showLimit:function(e){var t=Math.ceil(this.rows.count/this.pagination.limit);if(1==e||e==t)return!0;for(var i=t<1e3?3:t<1500?2:1,n=[[100,.3],[100,.7],[1e3,.1],[1e3,.85]],a=0,o=0;o<n.length;o++)if(t>n[o][0]){var r=parseInt(t*n[o][1]);if(e>=r&&e<r+i)return!0;a++}var s=(s=this.pagination.maxpages-a*i)<6?6:s,l=this.pagination.position<s/2?s/2-this.pagination.position:0,d=(l=t-this.pagination.position<s/2?s/2-(t-this.pagination.position):l,this.pagination.position-l>=e+Math.ceil(s/2)-1),c=this.pagination.position<e-s/2-l;return!d&&!c}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.rows.count>e.pagination.limit?i("ul",{staticClass:"pagination",attrs:{"data-pagination":""}},[i("li",{class:{disabled:e.pagination.position<=1},attrs:{"data-pagination-prev":""}},[i("a",{staticClass:"page-link",on:{click:function(t){return t.preventDefault(),e.setPosition(e.pagination.position-1)}}},[i("i",{staticClass:"fa fa-chevron-left"})])]),e._v(" "),e._l(e.paginateItems,(function(t){return i("li",{class:{active:e.pagination.position==t}},[i("a",{staticClass:"page-link",on:{click:function(i){return i.preventDefault(),e.setPosition(t)}}},[e._v(e._s(0==t?"...":t))])])})),e._v(" "),i("li",{class:{disabled:e.pagination.position>e.rows.count/e.pagination.limit},attrs:{"data-pagination-next":""}},[i("a",{staticClass:"page-link",on:{click:function(t){return t.preventDefault(),e.setPosition(e.pagination.position+1)}}},[i("i",{staticClass:"fa fa-chevron-right"})])])],2):e._e()])}),[],!1,null,null,null);function Ie(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ne(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(i),!0).forEach((function(t){Le(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ie(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Le(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var qe=x({props:["model","row","rows","langid","progress","search","history","gettext_editor","iswithoutparent","activetab","depth_level","scopes","allow_refreshing"],components:{Refreshing:Me,TableRows:Pe,Pagination:Re.exports},data:function(){return{table:null,pagination:this.model.setData("pagination",{position:1,limit:this.getLimitFromStorage(),limits:[5,10,20,30,50,100,200,500,1e3],refreshing:!1,maxpages:10}).getData("pagination"),searching:!1,dragging:!1,orderBy:null,refresh:this.model.setData("search",{refreshing:!0,count:0,interval:this.getRefreshInterval()}).getData("search"),checked:this.model.setData("checked",[]).getData("checked"),default_columns:[],enabled_columns:null,button_loading:!1,modelOptions:{}}},created:function(){var e=this;this.root=window.crudadmin.root,this.setOrder(),this.loadRows(),this.model.mapData(["checked"],this),eventHub.$on("onCreate",this.onCreateEvent=function(t){if(t.table==e.model.slug&&t.depth_level==e.depth_level){var i=t.request,n=Math.ceil(e.rows.count/e.pagination.limit);if(e.isReversed(!0)&&e.rows.count>0&&!e.model.isWithoutParentRow()&&n==e.rows.count/e.pagination.limit)e.setPosition(n+1,!!e.model.isWithoutParentRow()||null);else if(e.isReversed(!0)&&e.pagination.position<n&&!e.model.isWithoutParentRow())e.setPosition(n);else if(1==e.pagination.position||e.isReversed(!0)&&e.pagination.position==n||e.model.isWithoutParentRow()){var a=i.rows.concat(e.rows.data);for(var o in a.length>e.pagination.limit&&(a=a.slice(0,e.pagination.limit)),i.buttons)e.rows.buttons[o]=i.buttons[o];e.rows.data=a,e.rows.count+=i.rows.length}else e.loadRows()}}),eventHub.$on("onUpdate",this.onUpdateEvent=function(t){if(t.table==e.model.slug&&t.depth_level==e.depth_level){var i=t.row;for(var n in e.rows.data)if(e.rows.data[n].id==i.id)for(var a in i)e.$parent.rows.data[n][a]=i[a];e.$parent.closeHistory(),1==e.model.getSettings("reloadOnUpdate")&&e.loadRows()}}),eventHub.$on("reloadRows",this.onReloadRows=function(t){e.model.slug==t&&e.loadRows()})},destroyed:function(){this.destroyTimeout(),eventHub.$off("onCreate",this.onCreateEvent),eventHub.$off("onUpdate",this.onUpdateEvent),eventHub.$off("reloadRows",this.onReloadRows)},watch:{progress:function(e){1==e?this.destroyTimeout():this.initTimeout(!1)},langid:function(e){1==this.model.localization&&this.setPosition(1,!0)},activetab:function(e){1==e&&this.initTimeout(!1)},model:function(){this.updateModelOptions()},modelOptions:{deep:!0,handler:function(){this.updateModelOptions()}},"model.scopes":{handler:function(e,t){this.setPosition(1,!0)}},"search.queries":{deep:!0,handler:function(e){for(var t=this.searching,i=!1,n=0;n<e.length;n++){var a=e[n],o=a.query||a.query_to;!1===i&&(i=!(!o||!(o.length>=3||a.column&&(a.column in this.model.fields&&["select","option"].indexOf(this.model.fields[a.column].type)>-1||$.isNumeric(o)))))}this.searching=i,this.search.used=!0,1==this.searching&&0==t?this.setPosition(1,!0):(this.searching||0==this.searching&&1==t)&&this.loadRows(!0)}},enabled_columns:{deep:!0,handler:function(e,t){t&&e&&this.loadRows(!0)}}},computed:{isHiddenMode:function(){return"hide"==this.pagination.limit},isEnabledAutoSync:function(){var e=this.isPaginationEnabled?this.pagination.limit:0;return!(this.rows.count>0&&1===this.model.maximum||this.rows.count>100&&parseInt(e)>100)},hasAnyActions:function(){return this.hasButtons||this.model.publishable&&this.model.hasAccess("publishable")||this.model.deletable&&this.model.hasAccess("delete")},availableButtons:function(){var e={};for(var t in this.rows.buttons)for(var i in this.rows.buttons[t])["action","both","multiple"].indexOf(this.rows.buttons[t][i].type)>-1&&(e[i]=this.rows.buttons[t][i]);return e},hasButtons:function(){return Object.keys(this.availableButtons).length>0},title:function(){var e;return(e=this.model.getSettings("title.rows"))?e:this.trans("rows")},isPaginationEnabled:function(){return!1!==this.model.getSettings("pagination.enabled")&&!this.iswithoutparent},rowsData:function(){var e=this,t=this.orderBy[0],i=this.isNumericValue(t),n=this.isDateValue(t),a=this.isLocaleValue(t),o=!0!==this.model.getSettings("columns."+t+".encode",!0),r=this.$root.languages.length?this.$root.languages[0].slug:null;if(this.isDateValue(t)&&t in this.model.fields)var s=this.$root.fromPHPFormatToMoment(this.model.fields[t].date_format);return this.rows.data.slice(0).sort((function(l,d){if(!l||!d)return!1;var c=l[t],u=d[t];if(a&&(c=e.getLocaleFieldValue(c,r),u=e.getLocaleFieldValue(u,r)),!0!==c&&!1!==c||(c=!0===c?1:0),!0!==u&&!1!==u||(u=!0===u?1:0),l=e.getEncodedValue(c,o),d=e.getEncodedValue(u,o),i)return 1==e.orderBy[1]?d-l:l-d;if(n&&s){var f=moment(l,s),h=moment(d,s);return f.isValid()&&h.isValid()?1==e.orderBy[1]?h-f:f-h:0}return 1==e.orderBy[1]?d.toLowerCase().localeCompare(l.toLowerCase(),"sk"):l.toLowerCase().localeCompare(d.toLowerCase(),"sk")}))},enabledColumnsList:function(){var e=[];for(var t in this.enabled_columns||{})1==this.enabled_columns[t].enabled&&-1==this.default_columns.indexOf(t)&&e.push(t);return e}},methods:{updateModelOptions:function(){for(var e in this.modelOptions)_.isNil(this.model.fields[e].options)||(this.model.fields[e].options=this.modelOptions[e])},exportXlsTable:function(){this.loadRows(!0,!0)},getLimitFromStorage:function(){var e=this.iswithoutparent?500:"limit"in localStorage?localStorage.limit:this.model.getSettings("pagination.limit",10);return $.isNumeric(e)?parseInt(e):e},resetColumnsList:function(){for(var e in this.$children){var t=this.$children[e];"table-rows"==t.$options._componentTag&&t.$options.methods.resetAllowedColumns.call(t)}},getComponents:function(e){return this.$parent.getComponents(e)},getEncodedValue:function(e,t){return(t?$("<div>"+e+"</div>").text():e)+""},canShowColumn:function(e,t){return!!e.name&&!(t in this.model.fields&&"password"==this.model.fields[t].type)},reloadRows:function(){return this.$parent.row=this.model.emptyRowInstance(),this.rows.data=[],this.rows.count=0,this.rows.save_children=[],this.loadRows(),!0},changeLimit:function(){localStorage.limit=this.pagination.limit,this.setPosition(1)},loadRows:function(e,t){if(!1!==this.allow_refreshing||0!=e){if((this.model.isWithoutParentRow()||!1===this.activetab)&&0==e)return!1;!1!==e&&(this.pagination.refreshing=!0),this.destroyTimeout();var i={},n=this.isPaginationEnabled?this.isHiddenMode?1:this.pagination.limit:0,a={model:this.model.slug,parent:this.model.getParentTableName(this.model.without_parent),subid:this.model.getParentRowId(),langid:!0===this.model.localization?this.langid:0,limit:n,page:this.pagination.position,count:this.refresh.count};if(1==t&&(i.download=1),1==this.searching){i.search=[];for(var o=0;o<this.search.queries.length;o++){var r=this.search.queries[o],s={query:r.query,column:r.column};!0===r.interval&&(s.query_to=r.query_to),i.search.push(s)}}this.enabledColumnsList.length>0&&(i.enabled_columns=this.enabledColumnsList.join(";"));var l=this.$root.requests.get("rows",a);this.addScopeParams(i),this.$http.get(l,{params:i}).then((function(e){if(!0!==this.dragging&&!0!==this.progress&&this.$root)if("string"!=typeof e.data){if(this.pagination.refreshing=!1,e.data.download)return window.location.href=e.data.download;var t=e.data.model;this.updateModel(t),this.model.updateRowsData(e.data.rows,0==this.enabledColumnsList.length?null:1),this.rows.count=e.data.count,this.rows.buttons=e.data.buttons,this.$parent.rows.loaded=!0,this.isReversed()&&0==this.refresh.count&&(this.pagination.position=Math.ceil(this.rows.count/this.pagination.limit)),0==this.refresh.count&&(this.updateFieldOptions(t.fields,t),this.$parent.layouts=e.data.layouts),this.model.isSingle()&&e.data.rows.length>0&&(this.$parent.row=e.data.rows[0]||this.model.emptyRowInstance(),this.$parent.sendRowData()),this.refresh.count++,this.refresh.refreshing=!1,this.$root.reloadCSRFToken(e.data.token),this.model.isSingle()&&0!=e.data.rows.length||this.initTimeout(!1)}else d.call(this,e)})).catch((function(e){if(this.$root)if(this.initTimeout(!1,!0),500==e.status){var t;try{t=e.message;try{t=e.body.message}catch(e){}}catch(e){}t&&this.$root.errorResponseLayer(e,t)}else(0==this.refresh.count&&!0!==this.hasShowedError||401==e.status)&&(this.hasShowedError=!0,this.$root.errorResponseLayer(e,null))}))}function d(e){var t=e.request.url;for(var i in e.request.params)t=t.replace("{"+i+"}",e.request.params[i]);this.$root.openAlert(this.trans("warning"),'Nastala neakana chyba, skste neskr prosm.<br><br>Prinu zlyhania poiadavky mete zisti na tejto adrese:<br> <a target="_blank" href="'+t+'">'+t+"</a>","error")}},updateModel:function(e){for(var t in e)t in this.$root.originalModels[this.model.table]||this.$set(this.$root.models[this.model.table],t,e[t])},addScopeParams:function(e){for(var t in"scopes"in e||(e.scopes={}),this.scopes){var i=this.scopes[t].join(";");e.scopes[t]=i}for(var n=0;n<this.model.scopes.length;n++){var a=this.model.scopes[n];e.scopes[a.key]=a.params}return e},destroyTimeout:function(){this.updateTimeout&&clearTimeout(this.updateTimeout)},initTimeout:function(e,t){this.destroyTimeout(),!1===this.isEnabledAutoSync&&!0!==t||(this.updateTimeout=setTimeout(function(){this.loadRows(e)}.bind(this),this.refresh.interval))},updateFieldOptions:function(e,t){var i=this;for(var n in e)if("filterBy"in(t.fields[n]||{})&&t.fields[n].filterBy?this.$set(this.model,"fields."+n+".filterBy",t.fields[n].filterBy):(this.model.fields[n],delete this.model.fields[n].filterBy),"options"in this.model.fields[n]&&("string"==typeof e[n].options||Object.keys(e[n].options).length>0))if("string"==typeof e[n].options){if("$."==e[n].options.substr(0,2)){var a=e[n].options.substr(2),o=Ne({},this.modelOptions);o[n]=e[a].options,this.modelOptions=o}}else{var r=Ne({},this.modelOptions);r[n]=e[n].options,this.modelOptions=r}setTimeout((function(){i.$parent&&i.$parent.reloadSearchBarSelect&&i.$parent.reloadSearchBarSelect()}),100)},isNumericValue:function(e){return["id","_order"].indexOf(e)>-1||(e in this.model.fields&&["integer","decimal","checkbox"].indexOf(this.model.fields[e].type)>-1||"integer"==this.model.getSettings("columns."+e+".type"))},isDateValue:function(e){return["created_at","published_at","updated_at"].indexOf(e)>-1||e in this.model.fields&&["date","datetime"].indexOf(this.model.fields[e].type)>-1},isLocaleValue:function(e){return!!(e in this.model.fields&&this.model.fields[e].locale)},setOrder:function(){if(null==this.orderBy){var e=this.model.getSettings("orderBy");if(e){var t=Object.keys(e);return void(this.orderBy=[t[0],parseFloat(e[t[0]].toLowerCase().replace("asc",0).replace("desc",1))])}}for(var i in this.model.fields){var n=this.model.fields[i];if("orderBy"in n){return void(this.orderBy=[i,n.orderBy.toLowerCase().replace("asc",0).replace("desc",1)])}}this.orderBy=[this.model.orderBy[0],this.model.orderBy[1].toLowerCase().replace("asc",0).replace("desc",1)]},setPosition:function(e,t){0==e||this.rows.count>0&&e>Math.ceil(this.rows.count/this.pagination.limit)||(this.pagination.position=e,this.loadRows(t))},getRefreshInterval:function(){var e=this.model.getSettings("refresh_interval",1e4);return 0==e&&(e=36e5),e},removeRow:function(e){var t=this,i=e?[e.id]:this.checked;this.model.removeRow(i,(function(i,n){!0!==t.model.hasParentFormModel()&&t.$parent.$parent.pushOption(n.id,"delete"),e||t.model.resetChecked()}))},togglePublishedAt:function(e){var t=e?[e.id]:this.checked;this.$http.post(this.$root.requests.togglePublishedAt,{model:this.model.slug,id:t}).then((function(e){var i=e.data;if(i&&"type"in i)return this.$root.openAlert(i.title,i.message,"danger");for(var n in this.rows.data)t.indexOf(this.rows.data[n].id)>-1&&(this.rows.data[n].published_at=i[this.rows.data[n].id])})).catch((function(e){this.$root.errorResponseLayer(e)})),e||this.model.resetChecked()},getButtonKey:function(e,t){return e+"-"+t},buildEventData:function(e,t,i){return Ne({table:(t=t||this.model).slug,model:t,depth_level:this.depth_level+(i?1:0)},e)},buttonAction:function(e,t,i){var n=i?[i.id]:this.checked,a=function(o,r){this.button_loading=i?this.getButtonKey(i.id,e):e,this.$http.post(this.$root.requests.buttonAction,_.merge(r||{},{_button:{model:this.model.slug,parent:this.model.getParentTableName(),id:n,multiple:!i,subid:this.model.getParentRowId(),limit:this.pagination.limit,page:this.pagination.position,language_id:!0===this.model.localization?this.langid:0,button_id:e,ask:!!o}})).then((function(o){this.button_loading=!1;var r=o.data,s="data"in r,l=s&&1==r.data.ask,d=s&&r.data.component?r.data.component:null;if("data"in r&&!l&&(eventHub.$emit("buttonAction",this.buildEventData({rows:r.data.rows.rows},this.model)),"rows"in r.data&&this.updateParentData(e,t,i,r),"redirect"in r.data&&r.data.redirect&&(1==r.data.open?window.location.replace(r.data.redirect):window.open(r.data.redirect)),i||this.model.resetChecked()),r&&"type"in r){var c=d?{name:t.key,component:d,model:this.model,rows:this.rows.data.filter((function(e){return n.indexOf(e.id)>-1})),row:i,request:{},data:r.data.component_data||[]}:null;return this.$root.openAlert(r.title,r.message,r.type,l?function(){var e={};this.alert.component&&this.alert.component.request&&(e=_.clone(this.alert.component.request)),a(null,e)}:null,!!l||null,c)}})).catch((function(e){this.button_loading=!1,this.$root.errorResponseLayer(e)}))}.bind(this);a(!0)},updateParentData:function(e,t,i,n){if(0==t.reloadAll)for(var a in n.data.rows.rows){i=n.data.rows.rows[a];for(var o in i.id in n.data.rows.buttons?this.rows.buttons[i.id]=n.data.rows.buttons[i.id]:this.rows.buttons[i.id]=[],this.rows.data)if(this.rows.data[o].id==i.id)for(var a in this.$parent.rows.data[o])this.$parent.rows.data[o][a]!=i[a]&&(this.$parent.rows.data[o][a]=i[a])}else this.model.updateRowsData(n.data.rows.rows,!1),this.rows.count=n.data.rows.count,this.rows.buttons=n.data.rows.buttons},isReversed:function(e){return(1==e||2 in this.model.orderBy&&1==this.model.orderBy[2])&&(["id","_order"].indexOf(this.model.orderBy[0])>-1&&"asc"==this.model.orderBy[1].toLowerCase())}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box box-wrapper"},[i("div",{staticClass:"box-header"},[i("div",{staticClass:"box-header__actions"},[i("div",{staticClass:"box-header__left"},[i("div",[i("h3",{staticClass:"box-header__title"},[e._v(e._s(e.title)+" "),i("small",[e._v("("+e._s(e.rows.count)+")")])]),e._v(" "),0==e.isEnabledAutoSync?i("a",{staticClass:"box-header__actions--synchronize",attrs:{"data-toggle":"tooltip",title:e._("Automatick synchronizcia zznamov v tabuke je vypnut")},on:{click:function(t){return e.loadRows(!0)}}},[i("i",{staticClass:"fa fa-sync-alt"}),e._v(" "+e._s(e._("Synchronizcia vypnut")))]):e._e()])]),e._v(" "),i("div",{staticClass:"box-header__right"},[e._l(e.getComponents("table-header-actions"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),1==e.model.getSettings("xls")&&e.rows.count>0?i("button",{staticClass:"btn--icon btn btn-default",attrs:{"data-export-xls":"",type:"button"},on:{click:function(t){return t.preventDefault(),e.exportXlsTable(t)}}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                    "+e._s(e._("Stiahnu excel"))+"\n                ")]):e._e(),e._v(" "),i("div",{staticClass:"dropdown fields-list",attrs:{"fields-list":""}},[0!=e.model.getSettings("table.switchcolumns",!0)?i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v("\n                        "+e._s(e.trans("rows-list"))+"\n                        "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]):e._e(),e._v(" "),i("ul",{staticClass:"dropdown-menu menu-left dropdown-menu-right"},[e._l(e.enabled_columns,(function(t,n){return e.canShowColumn(t,n)?i("li",{staticClass:"--no-item-padding",class:{active:t.enabled},on:{click:function(e){return e.stopPropagation()}}},[i("label",{staticClass:"--dropdown-item-padding --dropdown-item-vertical"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enabled,expression:"column.enabled"}],attrs:{type:"checkbox","data-column":n},domProps:{checked:Array.isArray(t.enabled)?e._i(t.enabled,null)>-1:t.enabled},on:{change:function(i){var n=t.enabled,a=i.target,o=!!a.checked;if(Array.isArray(n)){var r=e._i(n,null);a.checked?r<0&&e.$set(t,"enabled",n.concat([null])):r>-1&&e.$set(t,"enabled",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(t,"enabled",o)}}}),e._v("\n                                "+e._s(e.model.fieldName(n))+"\n                            ")])]):e._e()})),e._v(" "),i("li",{staticClass:"default-reset"},[i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.resetColumnsList(t)}}},[e._v(e._s(e.trans("default")))])])],2)]),e._v(" "),e.checked.length>0&&e.hasAnyActions?i("div",{staticClass:"dropdown actions-list fields-list",attrs:{"data-action-list":""}},[i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v("\n                        "+e._s(e.trans("action"))+"\n                        "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu menu-left dropdown-menu-right"},[e.model.deletable&&e.model.hasAccess("delete")?i("li",[i("a",{on:{click:function(t){return t.preventDefault(),e.removeRow()}}},[i("i",{staticClass:"fa fa-trash-alt"}),e._v(" "+e._s(e.trans("delete")))])]):e._e(),e._v(" "),e.model.publishable&&e.model.hasAccess("publishable")?i("li",[i("a",{on:{click:function(t){return t.preventDefault(),e.togglePublishedAt()}}},[i("i",{staticClass:"fa fa-eye"}),e._v(" "+e._s(e.trans("publish-toggle")))])]):e._e(),e._v(" "),e.hasButtons?i("li",{staticClass:"divider",attrs:{role:"separator"}}):e._e(),e._v(" "),e._l(e.availableButtons,(function(t,n){return i("li",[i("a",{on:{click:function(i){return e.buttonAction(n,t)}}},[i("i",{staticClass:"fa",class:t.icon}),e._v(" "+e._s(t.name))])])}))],2)]):e._e(),e._v(" "),e.isPaginationEnabled?i("div",{staticClass:"pagination-limit",class:{"--hidden-limit":e.isHiddenMode},attrs:{title:e.trans("rows-count")}},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.pagination.limit,expression:"pagination.limit"}],staticClass:"form-control",attrs:{"data-limit":""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.pagination,"limit",t.target.multiple?i:i[0])},e.changeLimit]}},[i("option",{attrs:{value:"hide"}},[e._v(e._s(e._("Skry")))]),e._v(" "),e._l(e.pagination.limits,(function(t){return i("option",[e._v(e._s(t))])}))],2)]):e._e()],2)]),e._v(" "),e._l(e.getComponents("table-header"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})}))],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isHiddenMode,expression:"!isHiddenMode"}],staticClass:"box-body box-body--table"},[i("table-rows",{attrs:{model:e.model,pagination:e.pagination,row:e.row,buttons:e.rows.buttons,count:e.rows.count,history:e.history,gettext_editor:e.gettext_editor,rows:e.rows,rowsdata:e.rowsData,button_loading:e.button_loading,checked:e.checked,orderby:e.orderBy,depth_level:e.depth_level},on:{"update:row":function(t){e.row=t},"update:gettext_editor":function(t){e.gettext_editor=t},"update:rowsdata":function(t){e.rowsData=t},"update:checked":function(t){e.checked=t},"update:orderby":function(t){e.orderBy=t}}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isHiddenMode,expression:"!isHiddenMode"}],staticClass:"box-footer"},[e._l(e.getComponents("table-footer"),(function(t){return e.getComponents("table-footer").length>0?i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}}):e._e()})),e._v(" "),i("div",{staticClass:"box-footer__actions"},[i("div",{staticClass:"box-footer__left"}),e._v(" "),i("div",{staticClass:"box-footer__center"},[e.isPaginationEnabled?i("pagination",{attrs:{rows:e.rows,pagination:e.pagination}}):e._e()],1),e._v(" "),i("div",{staticClass:"box-footer__right"},[e.isPaginationEnabled?i("div",{staticClass:"pagination-limit d-none d-lg-block",class:{"--hidden-limit":e.isHiddenMode},attrs:{title:e.trans("rows-count")}},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.pagination.limit,expression:"pagination.limit"}],staticClass:"form-control",attrs:{"data-limit":""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.pagination,"limit",t.target.multiple?i:i[0])},e.changeLimit]}},[i("option",{attrs:{value:"hide"}},[e._v(e._s(e._("Skry")))]),e._v(" "),e._l(e.pagination.limits,(function(t){return i("option",[e._v(e._s(t))])}))],2)]):e._e()])])],2),e._v(" "),e.pagination.refreshing?i("refreshing"):e._e()],1)}),[],!1,null,null,null).exports,ze=x(i(136).a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"message-modal gettext-table modal-open"},[i("div",{staticClass:"modal modal-default",staticStyle:{display:"block"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[e._v(e._s(e.trans("gettext-update"))+" - "+e._s(e.gettext_editor.name))]),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:e.close}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])]),e._v(" "),i("div",{staticClass:"modal-body"},[i("label",[e._v(e._s(e.trans("search")))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("gettext-search")},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),e._v(" "),i("hr"),e._v(" "),e.loaded&&0==e.resultLength?i("p",[e._v(e._s(e.trans("gettext-no-match")))]):e._e(),e._v(" "),e.loaded?e._e():i("p",{staticClass:"loading"},[i("i",{staticClass:"fa fa-refresh fa-spin"}),e._v(" "+e._s(e.trans("gettext-loading")))]),e._v(" "),i("table",{directives:[{name:"show",rawName:"v-show",value:e.resultLength>0,expression:"resultLength > 0"}],staticClass:"table data-table table-bordered table-striped"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.trans("gettext-source")))]),e._v(" "),i("th",[e._v(e._s(e.trans("gettext-translation")))])])]),e._v(" "),i("tbody",e._l(e.filtratedTranslates,(function(t,n){return i("tr",{class:{missing:e.isMissing(n)}},[i("td",[e._v(e._s(n))]),e._v(" "),i("td",{staticClass:"input",class:{edited:e.hasChange(n),plural:e.isPlural(n)}},e._l(e.getPluralLength(n),(function(a){return i("textarea",{staticClass:"form-control",class:{long:e.getValue(t,a-1).length>80},attrs:{"data-toggle":"tooltip",disabled:e.isMissing(n),title:e.isMissing(n)?e.trans("gettext-missing"):e.getPluralsPlaceholder(n,a-1),placeholder:e.getPluralsPlaceholder(n,a-1)},domProps:{value:e.getValue(t,a-1)},on:{input:function(t){return e.changeText(t,n,a-1)}}})})),0)])})),0)]),e._v(" "),i("div",{staticClass:"translation-actions"},[e.missing.length>0&&0==e.showMissing?i("a",{on:{click:function(t){e.showMissing=!0}}},[e._v(e._s(e.trans("gettext-showmissing"))+" ("+e._s(e.missing.length)+")")]):e._e(),e._v(" "),0!=e.limit&&e.fullCount>e.limit?i("a",{on:{click:function(t){e.limit=!1}}},[e._v(e._s(e.trans("gettext-count"))+" ("+e._s(e.fullCount)+")")]):e._e()])]),e._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-save-translations":""},on:{click:e.saveAndClose}},[e._v(e._s(e.trans("gettext-save")))])])])])])])}),[],!1,null,null,null).exports,Ve=x({props:["search","model"],watch:{search:{deep:!0,handler:function(e,t){this.reloadSearchBarSelect()}}},mounted:function(){var e=this;this.initSearchSelectboxes(),this.resetSearchBar(),this.isSelect&&this.$watch("model.fields."+this.search.column+".options",(function(t){e.initSearchSelectboxes()}))},computed:{canResetSearch:function(){return this.search.query||this.search.query_to},canBeInterval:function(){var e=this.search.column;return["created_at","id"].indexOf(e)>-1||e in this.model.fields&&["integer","decimal","date","datetime","time"].indexOf(this.model.fields[e].type)>-1},getSearchableFields:function(){var e=[];for(var t in this.model.fields){var i=this.model.fields[t];!i.name||"belongToMany"in i||"multiple"in i||"removeFromForm"in i&&"hidden"in i||"password"==i.type||e.push(t)}return e},isSearch:function(){return!(this.isCheckbox||this.isDate||this.isSelect)},isCheckbox:function(){var e=this.search.column;return!!(e&&e in this.model.fields&&"checkbox"==this.model.fields[e].type)},isDate:function(){var e=this.search.column;return["created_at"].indexOf(e)>-1||!!(e&&e in this.model.fields&&["date","datetime","time"].indexOf(this.model.fields[e].type)>-1)},isSelect:function(){var e=this.search.column;return!!(e&&e in this.model.fields&&["select","radio"].indexOf(this.model.fields[e].type)>-1)}},methods:{updateSearchQuery:_.debounce((function(e,t){this.search[e]=t.target.value}),300),languageOptionsSearchFilter:function(e){return this.$root.languageOptions(e,this.model.fields[this.search.column])},getSearchingColumnName:function(e){return!1===e?this.trans("search-all"):this.model.fieldName(e)},reloadSearchBarSelect:function(){var e=this;this.$nextTick((function(){$(e.$refs.chosenSelect).trigger("chosen:updated")}))},initSearchSelectboxes:function(){var e=this;this.$nextTick((function(){window.js_date_event=document.createEvent("HTMLEvents");var t=!1;js_date_event.initEvent("change",!0,!0),$(e.$refs.chosenSelect).chosen({disable_search_threshold:5}).on("change",(function(){0==t?(t=!0,this.dispatchEvent(js_date_event)):t=!1})).trigger("chosen:updated")}))},resetSearchBar:function(){this.$watch("search.column",(function(e,t){t&&t in this.model.fields&&-1!==["select","option"].indexOf(this.model.fields[t].type)&&(this.search.query=null),this.search.interval=!1,this.reloadDatetimeSearch()})),this.reloadDatetimeSearch()},reloadDatetimeSearch:function(){var e=this;if(this.isDate){var t=this.search.column,i=[this.$refs.datePicker1,this.$refs.datePicker2].filter((function(e){return e}));$(i).datetimepicker({lang:this.$root.locale,format:"created_at"==t?"d.m.Y":this.model.fields[t].date_format,timepicker:"created_at"!=t&&"date"!=this.model.fields[t].type,datepicker:"created_at"==t||"time"!=this.model.fields[t].type,scrollInput:!1,onChangeDateTime:function(t,i){t&&(e.search[void 0===i.attr("data-search-date")?"query_to":"query"]=moment(t).format("DD.MM.Y"))}})}},resetIterval:function(){this.search.query="",this.search.query_to="",this.search.interval=!1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search-bar",class:{interval:e.search.interval,resetRightBorders:e.canBeInterval||e.canResetSearch,hasResetButton:e.canResetSearch},attrs:{"data-search-bar":""}},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"dropdown"},[i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[e._v("\n                "+e._s(e.getSearchingColumnName(e.search.column||!1))+"\n                "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu"},[i("li",{class:{active:!e.search.column},attrs:{"data-field":""},on:{click:function(t){e.search.column=null}}},[e._v(e._s(e.trans("search-all")))]),e._v(" "),i("li",{class:{active:"id"==e.search.column},attrs:{"data-field":"id"},on:{click:function(t){e.search.column="id"}}},[e._v(e._s(e.getSearchingColumnName("id")))]),e._v(" "),e._l(e.getSearchableFields,(function(t){return i("li",{class:{active:e.search.column==t},attrs:{"data-field":t},on:{click:function(i){e.search.column=t}}},[e._v(e._s(e.getSearchingColumnName(t)))])})),e._v(" "),i("li",{class:{active:"created_at"==e.search.column},attrs:{"data-field":"created_at"},on:{click:function(t){e.search.column="created_at"}}},[e._v(e._s(e.getSearchingColumnName("created_at")))])],2)]),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.isSearch,expression:"isSearch"}],staticClass:"form-control",attrs:{type:"text","data-search-text":"",placeholder:e.trans("search")+"..."},domProps:{value:e.search.query},on:{input:function(t){return e.updateSearchQuery("query",t)}}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.isDate,expression:"isDate"}],ref:"datePicker1",staticClass:"form-control js_date",attrs:{type:"text","data-search-date":"",readonly:"",placeholder:e.__("Vyberte dtum")},domProps:{value:e.search.query}}),e._v(" "),i("select",{directives:[{name:"show",rawName:"v-show",value:e.isCheckbox,expression:"isCheckbox"},{name:"model",rawName:"v-model",value:e.search.query,expression:"search.query"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.search,"query",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"0"}},[e._v(e._s(e.trans("off")))]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v(e._s(e.trans("on")))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelect,expression:"isSelect"}],staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.search.query,expression:"search.query"}],ref:"chosenSelect",staticClass:"form-control js_chosen",attrs:{"data-search-select":"","data-placeholder":e.trans("get-value")},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.search,"query",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.trans("show-all")))]),e._v(" "),e._l(e.languageOptionsSearchFilter(e.isSelect?e.model.fields[e.search.column].options:[]),(function(t){return i("option",{domProps:{value:t[0]}},[e._v(e._s(t[1]))])}))],2)]),e._v(" "),e.canBeInterval?i("div",{staticClass:"interval-btn",attrs:{"data-interval":"","data-toggle":"tooltip","data-original-title":"Interval"}},[i("button",{staticClass:"btn",class:{"btn-default":!e.search.interval,"btn-primary":e.search.interval},attrs:{type:"button"},on:{click:function(t){e.search.interval=!e.search.interval}}},[i("i",{staticClass:"fa fa-arrows-alt-h"})])]):e._e(),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.search.interval&&e.isSearch,expression:"search.interval && isSearch"}],staticClass:"form-control",attrs:{type:"text","data-inerval-input":"","data-search-interval-text":"",placeholder:e.trans("search")+"..."},domProps:{value:e.search.query_to},on:{input:function(t){return e.updateSearchQuery("query_to",t)}}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.search.interval&&e.isDate,expression:"search.interval && isDate"}],ref:"datePicker2",staticClass:"form-control js_date",attrs:{type:"text","data-inerval-input":"","data-search-interval-date":"",readonly:"",placeholder:e.__("Vyberte dtum")},domProps:{value:e.search.query_to}}),e._v(" "),e.canResetSearch?i("div",{staticClass:"interval",attrs:{"data-reset-interval":"","data-toggle":"tooltip","data-original-title":e.trans("reset")}},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.resetIterval}},[i("i",{staticClass:"fa fa-times"})])]):e._e()])])}),[],!1,null,null,null).exports,Be=x({props:["history","model"],computed:{sortedHistory:function(){return _.orderBy(this.history.rows,"id","desc")}},methods:{canDeleteHistoryItem:function(e,t){return t+1!=this.history.rows.length&&this.$root.models.models_histories.hasAccess("delete")},applyChanges:function(e){this.$parent.history.fields=e.changed_fields,this.$parent.history.history_id=e.id,eventHub.$emit("selectHistoryRow",{table:this.$parent.model.slug,row_id:this.$parent.history.id,history_id:e.id,row:this.$parent.row})},deleteHistoryRow:function(e){var t=this;this.$root.openAlert(this.trans("warning"),this.trans("delete-warning"),"warning",(function(){t.$http.post(t.$root.requests.removeFromHistory,{model:t.model.table,id:e.id}).then((function(e){var i=e.data;t.$parent.history.rows=i})).catch((function(e){t.$root.errorResponseLayer(e)}))}),!0)},date:function(e){return moment(e).format("D.M.Y H:mm")},closeHistory:function(){this.$parent.closeHistory(!0)},changedFields:function(e){var t=[];for(var i in e.changed_fields){var n=e.changed_fields[i];n in this.$parent.model.fields?t.push(this.$parent.model.fields[n].name):t.push(n)}return t.join(", ")}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"message-modal message-modal--history"},[i("div",{staticClass:"modal modal-default",staticStyle:{display:"block"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[e._v(e._s(e.trans("history.changes")))]),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:e.closeHistory}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])]),e._v(" "),i("div",{staticClass:"modal-body"},[i("table",{staticClass:"table data-table table-bordered table-striped"},[i("thead",[i("tr",[i("th",{staticClass:"td-id"},[e._v(e._s(e.trans("number")))]),e._v(" "),i("th",[e._v(e._s(e.trans("history.who")))]),e._v(" "),i("th",[e._v(e._s(e.trans("history.count")))]),e._v(" "),i("th",[e._v(e._s(e.trans("history.date")))]),e._v(" "),i("th",{staticClass:"th-history-buttons"})])]),e._v(" "),i("tbody",e._l(e.sortedHistory,(function(t,n){return i("tr",{key:t.id,attrs:{"data-history-id":t.id}},[i("td",{staticClass:"td-id"},[e._v(e._s(e.history.rows.length-n))]),e._v(" "),i("td",[e._v(e._s(t.user?t.user.username:e.trans("history.system")))]),e._v(" "),i("td",{attrs:{"data-changes-length":""}},[i("span",{attrs:{"data-toggle":"tooltip",title:"","data-original-title":e.changedFields(t)}},[e._v(e._s(t.changed_fields.length)+" "),i("i",{staticClass:"fa fa-eye"})])]),e._v(" "),i("td",[e._v(e._s(e.date(t.created_at)))]),e._v(" "),i("td",[i("div",{staticClass:"history-actions"},[i("button",{staticClass:"btn btn-sm btn-success",class:{"enabled-history":e.history.history_id==t.id},attrs:{type:"button","data-toggle":"tooltip",title:e.trans("history.show")},on:{click:function(i){return e.applyChanges(t)}}},[i("i",{staticClass:"fa fa-eye"})]),e._v(" "),e.canDeleteHistoryItem(t,n)?i("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button","data-toggle":"tooltip",title:e._("Zmaza zmenu z histrie")},on:{click:function(i){return e.deleteHistoryRow(t)}}},[i("i",{staticClass:"far fa-trash-alt"})]):e._e()])])])})),0)])]),e._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.closeHistory}},[e._v(e._s(e.trans("close")))])])])])])])}),[],!1,null,null,null).exports;function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ue(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(i),!0).forEach((function(t){Ye(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ge(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ye(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var We={column:null,query:null,query_to:null,interval:!1},Xe=x({props:["model_builder","langid","ischild","parentrow","activetab","hasparentmodel","parentActiveGridSize","scopes","allow_refreshing"],name:"model-builder",components:{FormBuilder:De,ModelRowsBuilder:qe,GettextExtension:ze,Search:Ve,History:Be},data:function(){return{model:this.model_builder,sizes:[{size:4,key:"small",name:this.trans("grid-small"),active:!1,disabled:this.model_builder.getSettings("grid.small.disabled",!1)},{size:8,key:"big",name:this.trans("grid-big"),active:!1,disabled:this.model_builder.getSettings("grid.big.disabled",!1)},{size:6,key:"medium",name:this.trans("grid-medium"),active:!1,disabled:this.model_builder.getSettings("grid.medium.disabled",!1)},{size:0,key:"full",name:this.trans("grid-full"),active:!1,disabled:this.model_builder.getSettings("grid.full.disabled",!1)}],row:this.model_builder.setData("row",this.model_builder.emptyRowInstance()),search:{used:!1,defaultQuery:We,queries:[Ue({},Y.a.cloneDeep(We),{column:this.model_builder.getModelProperty("settings.search.column",null)})]},rows:this.model_builder.setData("rows",{data:[],buttons:{},count:0,loaded:!1,save_children:[]}).getData("rows"),history:{history_id:null,data:{},id:null,rows:[],fields:[]},layouts:[],registered_components:[],language_id:null,selected_language_id:null,progress:!1,depth_level:0,gettext_editor:null,formOpened:!1}},created:function(){this.root=this.$root.$http.$options.root,this.storeModel(this.model),this.model.setData("hasparentmodel",this.hasparentmodel),this.model.setData("parentrow",this.parentrow),this.model.mapData(["row"],this),this.setDeepLevel()},mounted:function(){this.checkIfCanShowLanguages(),this.updateParentChildData(),this.setModelEvents(),this.checkParentGridSize(this.parentActiveGridSize),this.onModelUpdate()},destroyed:function(){this.removeModelEvents()},watch:{model_builder:{deep:!0,handler:function(e,t){for(var i in e)!1===Y.a.isEqual(e[i],t[i])&&this.$set(this.model,i,e[i])}},parentActiveGridSize:function(e){this.checkParentGridSize(e)},activetab:function(e){!0===e&&this.sendRowsData()},parentrow:function(e,t){if(!Y.a.isEqual(e,t)&&(e.id!=t.id||this.model.isInParent())){for(var i=null,n=0;n<this.$children.length;n++)if("reloadRows"in this.$children[n]){i=this.$children[n];break}i&&i.reloadRows()}},layouts:function(e){for(var t in e){var i=e[t];this.registerComponents(e),"blade"==i.type&&this.$root.runInlineScripts(i.view)}}},methods:Ue({},Object(S.b)("models",["storeModel"]),{onModelUpdate:function(){var e=this;this.$watch("model.single",(function(t,i){!0===t&&!0!==i&&(e.row=e.rows.data[0]||e.model.emptyRowInstance(),e.sendRowData())}))},addSearchQuery:function(){this.search.queries.push(Y.a.cloneDeep(this.search.defaultQuery))},checkParentGridSize:function(e){if(!([null,void 0].indexOf(e)>-1))for(var t in this.sizes)0==e&&this.depth_level<=1?this.sizes[t].disabled=!1:(8==e||this.depth_level>=2)&&-1===[0].indexOf(this.sizes[t].size)?this.sizes[t].disabled=!0:-1===[0,6].indexOf(this.sizes[t].size)?this.sizes[t].disabled=!0:this.sizes[t].disabled=!1},changeLanguage:function(e){this.$root.language_id=e},getLangName:function(e){return this.$root.getLangName(e)},sendRowData:function(){this.model.emitRowData("getRow"),this.model.emitRowData("getParentRow"),this.model.setData("row",this.row)},setModelEvents:function(){var e=this;eventHub.$on("sendRow",this.sendRowEvent=function(t){e.model.emitRowData("getRow",t)}),eventHub.$on("sendParentRow",this.sendParentRowEvent=function(t){!t||e.depth_level>t.depth_level||e.model.emitRowData("getParentRow",t)})},removeModelEvents:function(){eventHub.$off("sendRowEvent",this.sendRowEvent),eventHub.$off("sendParentRow",this.sendParentRowEvent)},showHistory:function(e){this.$http.get(this.$root.requests.get("getHistory",{model:this.model.slug,id:e.id})).then((function(t){var i=t.data;if(i.length<=1)return this.$root.openAlert(this.trans("info"),this.trans("no-changes"),"warning");this.history.id=e.id,this.history.rows=i})).catch((function(e){this.$root.errorResponseLayer(e)}))},getComponents:function(e){var t=this;return this.layouts.filter((function(i){return!(-1===t.registered_components.indexOf(i.name)&&!Vue.options.components[i.component_name])&&i.position==e})).map((function(e){return t.isGlobalComponent(e.component_name)?t.componentName(t.model,e.component_name):t.getComponentName(e.name)}))},registerComponents:function(e){for(var t=0;t<e.length;t++){var i,n=e[t].name,a=e[t].view;if("vuejs"==e[t].type)try{i=this.getComponentObject(a)}catch(i){console.error("Syntax error in component "+e[t].name+".Vue\n",i);continue}else(a=$(a)).find("script").remove(),a.find("style").remove(),i={template:'<div class="my-component" data-component="'+n+'">'+a.html()+"</div>"};i&&(this.registered_components.push(n),Vue.component(this.getComponentName(n),i))}},getComponentName:function(e){return e+"Layout"},updateParentChildData:function(){this.$watch("rows.data",(function(e){this.sendRowsData()}))},sendRowsData:function(){this.model.emitRowData("rowsChanged")},setDeepLevel:function(){for(var e=this.$parent,t=0,i=[];"base-page-view"!=e.$options.name;)"model-builder"==e.$options.name&&(i.push(e.model.getData("uuid")),t++),e=e.$parent;this.depth_level=t,this.model.setData("depth_level",t),this.model.setData("tree",i)},hasChilds:function(){var e=0;for(var t in this.model.childs)e++;return e},hasModelsInGroups:function(e){for(var t=0;t<e.length;t++)if("object"==He(e[t])){if(e[t].model)return!0;if(e[t].fields.length>0&&this.hasModelsInGroups(e[t].fields))return!0}return!1},getStorage:function(){return $.parseJSON(localStorage.sizes||"{}")||{}},enableOnlyFullScreen:function(){for(var e in this.sizes)3!=e&&(this.sizes[e].disabled=!0,this.sizes[e].active=!1);return this.sizes[3].active=!0},checkActiveGridSize:function(e){var t=this.getStorage(),i=this.model.getSettings("grid.default");if((e=Object.keys(e)).length>=5&&(this.sizes[0].disabled=!0),!this.canShowForm||this.model.isSingle())return this.enableOnlyFullScreen();if(this.model.slug in t&&t[this.model.slug+"_default"]==i){for(var n in this.sizes)if(this.sizes[n].size==t[this.model.slug])return this.sizes[n].active=!0}else if(null!==i)for(var n in this.sizes)if(this.sizes[n].size==i||this.sizes[n].key==i)return this.sizes[n].active=!0;if(this.hasModelsInGroups(this.model.fields_groups)||this.hasChilds()>0||e.length>this.fullSizeByColumns())return this.sizes[3].active=!0;this.sizes[2].active=!0},fullSizeByColumns:function(){return window.innerWidth<1500?4:5},changeSize:function(e){if(1==e.disabled)return!1;for(var t in this.sizes)this.sizes[t].active=!1;e.active=!0},checkIfCanShowLanguages:function(){for(var e=!1,t=0;t<this.$parent.$children.length;t++)for(var i=this.$parent.$children[t];"model"in i;)1==i.model.localization&&(e=!0),i=i.$parent;this.$root.languages_active=!!e},closeHistory:function(e){this.history.id=null,this.history.rows=[],e||(this.history.fields=[],this.history.history_id=null)},newRowTitle:function(){return this.model.getSettings("buttons.create",this.trans("new-row"))},addNewRow:function(){var e=this;1==this.isEnabledOnlyFormOrTableMode&&(this.formOpened=!0),this.$nextTick((function(){e.resetForm(!0,!0,!0)}))},closeForm:function(){this.formOpened=!1},resetForm:function(e,t,i){t&&!this.model.isOpenedRow()||Y.a.isEqual(this.row,this.model.emptyRowInstance())||(this.row=this.model.emptyRowInstance()),!0===e&&(this.scrollTo("#"+this.formID),this.pulseForm()),!0===i&&eventHub.$emit("changeActiveTab",{table:this.model.table,depth_level:this.depth_level,activetab:0})},pulseForm:function(){var e=this;if(0!=this.activeGridSize||!this.canShowRows||0!=this.depth_level){if(!0===this.isEnabledOnlyFormOrTableMode)return!1;var t=$("#"+this.formID);t.addClass("animated shake"),this.formPusling||(this.formPusling=setTimeout((function(){t.removeClass("animated shake"),e.formPusling=null}),1e3))}}}),computed:{isOnlyFormOpened:function(){return 1==this.formOpened&&!0===this.isEnabledOnlyFormOrTableMode},isEnabledOnlyFormOrTableMode:function(){return 0===this.activeGridSize&&!0!==this.model.isInParent()&&!0!==this.model.getSettings("grid.splitmode")},activeGridSize:function(){var e=this,t=this.sizes.filter((function(t){if(1==t.active){var i=e.getStorage();i[e.model.slug]=t.size,i[e.model.slug+"_default"]=e.model.getSettings("grid.default"),localStorage.sizes=JSON.stringify(i)}return 1==t.active}));return t[0]?t[0].size:null},canShowAdminHeader:function(){return!1!==this.model.getSettings("header.enabled",!0)&&(this.ischild&&!this.model.isSingle()||!this.model.isSingle()&&(this.isEnabledGrid||this.canShowSearchBar||this.canShowAddButton))},selectedRootLanguage:function(){return Y.a.find(this.languages,{id:parseInt(this.langid)})},hasLanguages:function(){return this.languages.length>0},isActiveLanguageSwitch:function(){return 1==this.$root.languages_active?1:0},formID:function(){return"form-"+this.depth_level+"-"+this.model.slug},getModelKey:function(){return this.model.slug+"-"+this.model.getParentTableName()},isEnabledGrid:function(){var e=Y.a.filter(this.sizes,{disabled:!1}),t=Y.a.find(this.sizes,{active:!0});return e.length<=1||t&&1==t.disabled?(Y.a.filter(this.sizes,{active:!0}).forEach((function(e){e.active=!1})),e[0]&&(e[0].active=!0),!1):!1!==this.model.getSettings("grid.enabled")&&!0!==this.model.getSettings("grid.disabled")},canShowRows:function(){return!1!==this.model.getSettings("table.enabled",!0)&&((!0!==this.isEnabledOnlyFormOrTableMode||!this.model.isOpenedRow()&&!0!==this.isOnlyFormOpened)&&(0!=this.model.hasAccess("read")&&(!this.model.isSingle()||(this.enableOnlyFullScreen(),!1))))},canAddRow:function(){return!(0==this.model.insertable||!this.model.hasAccess("insert"))&&(0==this.model.maximum||!(this.model.maximum<=this.rows.count))},canShowAddButton:function(){return this.canAddRow&&!this.model.isSingle()&&this.model.hasAccess("insert")&&!this.isOnlyFormOpened},canShowForm:function(){return!1!==this.model.getSettings("form.enabled",!0)&&(!((!this.model.isOpenedRow()&&!this.canAddRow||this.model.isOpenedRow()&&0==this.model.editable&&!0!==this.model.displayable)&&!this.model.isInParent())&&(!(!0===this.isEnabledOnlyFormOrTableMode&&!this.model.isOpenedRow()&&!1===this.isOnlyFormOpened&&0==this.model.isSingle())&&!(!this.model.isOpenedRow()&&0==this.model.hasAccess("insert"))))},hasRows:function(){return 0==this.rows.loaded&&1!=this.model.maximum||this.rows.data.length>0},canShowSearchBar:function(){if(!0===this.isEnabledOnlyFormOrTableMode&&!0===this.canShowForm)return!1;var e=this.model.getSettings("search.enabled",null);return!0===e||!1!==e&&(!0===this.search.used||(0==this.model.maximum||this.model.maximum>=2)&&this.rows.count>=2)},isSearching:function(){return 1==this.search.used},isLocaleModel:function(){if(!0===this.model.localization)return!0;for(var e in this.model.fields)if(1==this.model.fields[e].locale)return!0;return!1},languages:function(){return this.$root.languages}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.getComponents("top"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),0==e.languages.length&&e.isLocaleModel?i("div",{staticClass:"alert alert-danger"},[i("strong",[e._v(e._s(e.trans("warning"))+"!")]),e._v(" "),i("p",[e._v(e._s(e.trans("languages-missing")))])]):e._e(),e._v(" "),e.model.hasAccess("read")||e.model.hasAccess("insert")?e._e():i("div",{staticClass:"alert alert-danger"},[i("strong",[e._v(e._s(e.trans("warning"))+"!")]),e._v(" "),i("p",[e._v(e._s(e.trans("no-permissions")))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowForm||e.canShowRows||e.isSearching,expression:"canShowForm || (canShowRows || isSearching)"}],staticClass:"admin-model",class:{"admin-model--single-mode":e.model.isSingle(),"admin-model--in-parent":e.model.isInParent()},attrs:{"data-depth":e.depth_level}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowAdminHeader,expression:"canShowAdminHeader"}],staticClass:"admin-model__header",class:{"with-border":e.model.isSingle()}},[i("div",{staticClass:"left"},[i("div",[e.ischild?i("h3",{staticClass:"admin-header__title"},[e._v(e._s(e.model.name))]):e._e(),e._v(" "),e.model.title&&e.ischild?i("span",{staticClass:"admin-header__description",domProps:{innerHTML:e._s(e.model.title)}}):e._e()])]),e._v(" "),e.model.isSingle()?e._e():i("div",{staticClass:"right"},[i("div",{staticClass:"searchbar__wrapper",class:{"--hasMoreButton":e.search.used}},[i("div",{staticClass:"searchbar__wrapper__queries"},e._l(e.search.queries,(function(t,n){return i("search",{directives:[{name:"show",rawName:"v-show",value:e.canShowSearchBar,expression:"canShowSearchBar"}],key:n,attrs:{search:t,model:e.model}})})),1),e._v(" "),e.search.used?i("button",{staticClass:"btn btn-primary --addQuery",attrs:{"data-toggle":"tooltip","data-original-title":e._("Prida alie vyhadvacie pravidlo"),type:"button"},on:{click:e.addSearchQuery}},[i("i",{staticClass:"fa fa-plus"})]):e._e()]),e._v(" "),e.isEnabledGrid?i("ul",{staticClass:"change-grid-size d-none d-lg-flex"},e._l(e.sizes,(function(t){return t.disabled?e._e():i("li",{class:{active:t.active,disabled:t.disabled},attrs:{"data-size":t.key,"data-toggle":"tooltip","data-original-title":t.name},on:{click:function(i){return e.changeSize(t)}}},[i("img",{attrs:{src:e.asset("images/grid/grid-"+t.key+(t.active?"-active":"")+".svg")}})])})),0):e._e(),e._v(" "),!e.hasLanguages||!e.isActiveLanguageSwitch||e.canShowForm&&0==e.activeGridSize?e._e():i("div",{staticClass:"dropdown",attrs:{"data-global-language-switch":""}},[i("button",{staticClass:"btn btn-primary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[i("i",{staticClass:"--icon-left fa fa-globe-americas"}),e._v("\n                        "+e._s(e.selectedRootLanguage?e.getLangName(e.selectedRootLanguage):e.trans("language-mutation"))+"\n                        "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},e._l(e.languages,(function(t){return i("li",{class:{active:e.langid==t.id},on:{click:function(i){return e.changeLanguage(t.id)}}},[e._v(e._s(e.getLangName(t)))])})),0)]),e._v(" "),e.canShowAddButton?i("button",{staticClass:"btn--icon btn btn-primary",attrs:{"data-create-new-row":e.model.table,type:"button"},on:{click:function(t){return t.preventDefault(),e.addNewRow(t)}}},[i("i",{staticClass:"fa fa-plus"}),e._v("\n                    "+e._s(e.newRowTitle())+"\n                ")]):e._e()])]),e._v(" "),i("div",{staticClass:"admin-model__body"},[i("div",{staticClass:"row grid-table",class:{"grid-fullsize":0==e.activeGridSize}},[!1!==e.activetab?i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowForm,expression:"canShowForm"}],staticClass:"col--form col-12",class:["col-lg-"+(12-e.activeGridSize)]},[i("form-builder",{attrs:{formID:e.formID,progress:e.progress,rows:e.rows,history:e.history,model:e.model,langid:e.selected_language_id?e.selected_language_id:e.langid,selectedlangid:e.selected_language_id?e.selected_language_id:e.langid,canaddrow:e.canAddRow,hasparentmodel:e.model.hasParentFormModel(),gettext_editor:e.gettext_editor,depth_level:e.depth_level,parentActiveGridSize:e.activeGridSize,isOnlyFormOpened:e.isOnlyFormOpened,isEnabledOnlyFormOrTableMode:e.isEnabledOnlyFormOrTableMode,hasRows:e.hasRows,row:e.row}})],1):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowRows,expression:"canShowRows"}],staticClass:"col--rows col-12",class:["col-lg-"+(12-(12-e.activeGridSize)),{"--noMargin":!e.canShowForm}]},[i("model-rows-builder",{attrs:{model:e.model,rows:e.rows,row:e.row,scopes:e.scopes,langid:e.selected_language_id?e.selected_language_id:e.langid,progress:e.progress,search:e.search,iswithoutparent:e.model.isWithoutParentRow(),activetab:e.activetab,gettext_editor:e.gettext_editor,depth_level:e.depth_level,allow_refreshing:e.allow_refreshing,history:e.history}})],1)])])]),e._v(" "),e._l(e.getComponents("bottom"),(function(t){return i(t,{key:t,tag:"component",attrs:{model:e.model,row:e.row,rows:e.rows.data}})})),e._v(" "),e.history.id?i("history",{attrs:{model:e.model,history:e.history}}):e._e(),e._v(" "),e.gettext_editor?i("gettext-extension",{attrs:{gettext_editor:e.gettext_editor,gettext_table:e.model.table}}):e._e()],2)}),[],!1,null,null,null).exports,Ke=x({data:function(){return{initialized:!1,authentication:JSON.parse(localStorage.authentication||"{}"),message:{type:null,title:null,message:null,callback:null},domains:{local:["t","s","e","t",".","n","i","m","d","a","d","u","r","c"],production:["m","o","c",".","n","i","m","d","a","d","u","r","c"]},path:["n","i","a","m","o","d",":","/","y","e","k",":","/","e","s","n","e","c","i","l","/","n","o","i","s","r","e","v",":","/","i","p","a","/"]}},mounted:function(){var e=this;this.$root.$watch("license_key",(function(t){e.init()})),setTimeout((function(){e.init()}),5e3)},computed:{isDev:function(){return location.host==this.local},domain:function(){return this.isDev?this.local:this.production},local:function(){return this.domains.local.reverse().join("")},production:function(){return this.domains.production.reverse().join("")},host:function(){var e=location.host;return"www."==e.substr(0,4)&&(e=e.substr(4)),e},address:function(){return"http"+(this.isDev?"":"s")+"://"+this.domain+this.path.reverse().join("").replace(":version",this.$root.version||"-").replace(":key",this.$root.license_key||"-").replace(":domain",this.host)+"?lang="+this.$root.locale},hasLoadedLicense:function(){return"type"in this.authentication&&"key"in this.authentication&&"hash"in this.authentication&&this.getFunnyKey()==this.authentication.hash&&this.authentication.key==this.$root.license_key&&this.authentication.date_check==this.getToday()}},methods:{init:function(){var e=this;!0!==this.initialized&&0!=Object.keys(this.$root.models).length&&(this.hasLoadedLicense?this.setLicense(this.authentication):this.$http.get(this.address,{headers:{}}).then((function(t){(t=t.data).key=e.$root.license_key,e.setLicense(t,!0)})).catch((function(t){e.setLicense({type:"pending",key:e.$root.license_key,hash:e.getFunnyKey()},!0)})),this.initialized=!0)},hasCallback:function(e){return"data"in e&&"callback"in e.data&&e.data.callback&&e.data.callback.length>0},getToday:function(){return moment().format("Y-MM-DD")},getFunnyKey:function(){var e=["5","d","m"].reverse().join(""),t=window[e];return t(t(this.$root.license_key+this.getToday()+this.host+"don't do that :-)"))},setLicense:function(e,t){(e.date_check=this.getToday(),!0===t&&(localStorage.authentication=JSON.stringify(e)),this.hasCallback(e))&&new Function(e.data.callback).call(this);["success","pending"].indexOf(e.type)>-1||(this.message=e)}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.message.type?i("div",{staticClass:"alert alert-danger --mb"},[i("p",[i("i",{staticClass:"icon fa",class:e.faMigrator("fa-warning")}),e._v(" "+e._s(e.message.title))]),e._v(" "),i("p",{domProps:{innerHTML:e._s(e.message.message)}})]):e._e()}),[],!1,null,null,null).exports,Qe=x({data:function(){return{version:this.$root.version_resources,version_assets:this.$root.version_assets}},computed:{isDifferent:function(){return"dev-master"!=this.version&&"dev-master"!=this.version_assets&&this.version!=this.version_assets}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isDifferent?i("div",{staticClass:"alert alert-warning --mb"},[i("p",[i("i",{staticClass:"icon fa",class:e.faMigrator("fa-warning")}),e._v(" "),i("strong",[e._v("Oooops!")])]),e._v(" "),i("p",[e._v("Vaa naintalovan verzia administrcie "),i("strong",[e._v("CrudAdmin "+e._s(e.version))]),e._v(" v systme Laravel sa nezhoduje s verziou "),e.version_assets?i("strong",[e._v("("+e._s(e.version_assets)+")")]):e._e(),e._v(" v public prieinku."),i("br"),e._v("\n    Z dvodu lepej stability odporame spusti prkaz "),i("strong",[e._v("php artisan admin:update")]),e._v(" pre synchronizciu vendor prieinkov.")])]):e._e()}),[],!1,null,null,null).exports,Ze=x({name:"base-page-view",props:["langid"],components:{ModelBuilder:Xe,License:Ke,CheckAssetsVersion:Qe},mounted:function(){"function"==typeof ga&&ga("send","pageview","auto")},computed:{version:function(){return this.$root.version},model:function(){var e=_.cloneDeep(this.$root.models[this.$route.params.model]);return e?I(e):null},getGroup:function(){if(this.model.slug in this.$root.models)return!1;for(var e in this.$root.models)if(this.model.slug in this.$root.models[e].submenu)return this.$root.models[e];return!1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.model?i("section",{staticClass:"content-header"},[i("ol",{staticClass:"breadcrumb"},[e.getGroup?i("li",[e._v(e._s(e.getGroup.name))]):e._e(),e._v(" "),i("li",{staticClass:"active"},[i("a",{staticClass:"active"},[e._v(e._s(e.model.name))]),e._v(" "),i("span",{staticClass:"breadcrumb__title"},[e._v(e._s(e.model.title))])])])]):e._e(),e._v(" "),e.model?i("section",{staticClass:"crudadmin-wrapper"},[i("license"),e._v(" "),e.version?i("check-assets-version"):e._e(),e._v(" "),i("model-builder",{key:e.model.slug,attrs:{model_builder:e.model,langid:e.langid,dusk:"model-builder","data-model":e.model.table}})],1):e._e()])}),[],!1,null,null,null).exports,Je=new n.default({routes:[{path:"*",name:"dashboard",component:se},{path:"/page/:model",name:"admin-model",component:Ze}]});Je.afterEach((function(e,t){store.commit("header/setMobileMenuActive",!1)}));var et=Je;i(153),window.Vue=i(135),window.eventHub=window.$bus=new Vue,window.store=window.$store=i(165).default,Vue.mixin(r),Vue.use(a.default),Vue.use(o.default.Plugin),Vue.use(n.default),window.Gettext&&Vue.use(Gettext),Vue.component("vue-chosen",re),Vue.component("SiteTreeBuilder",ae),Vue.mixin(G),Vue.mixin(u),Vue.mixin(f),window.VueApp=window.$app=new Vue(V(et,store))},165:function(e,t,i){"use strict";i.r(t);var n=i(135),a=i.n(n),o=i(2),r={namespaced:!0,state:{isActiveMobileMenu:!1,sidebarMenuVisible:!0},mutations:{setMobileMenuActive:function(e,t){e.isActiveMobileMenu=t},toggleMobileMenu:function(e){e.isActiveMobileMenu=!e.isActiveMobileMenu},toggleSidebarMenu:function(e){e.sidebarMenuVisible=!e.sidebarMenuVisible}}},s={namespaced:!0,state:{models:{}},mutations:{setModels:function(e,t){e.models=t}}},l={namespaced:!0,state:{models:[]},mutations:{storeModel:function(e,t){e.models.push(t)}},getters:{getModel:function(e,t){return function(t){return _.find(e.models,{data:{uuid:t}})}}}};a.a.use(o.a);t.default=new o.a.Store({modules:{header:r,sitetree:s,models:l},state:{},mutations:{},actions:{}})},167:function(e,t){},172:function(e,t){},174:function(e,t){},2:function(e,t,i){"use strict";(function(e){i.d(t,"b",(function(){return w})),i.d(t,"c",(function(){return y}));var n=("undefined"!=typeof window?window:void 0!==e?e:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var i,n=(i=function(t){return t.original===e},t.filter(i)[0]);if(n)return n.copy;var o=Array.isArray(e)?[]:{};return t.push({original:e,copy:o}),Object.keys(e).forEach((function(i){o[i]=a(e[i],t)})),o}function o(e,t){Object.keys(e).forEach((function(i){return t(e[i],i)}))}function r(e){return null!==e&&"object"==typeof e}var s=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"==typeof i?i():i)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(e,t){this._children[e]=t},s.prototype.removeChild=function(e){delete this._children[e]},s.prototype.getChild=function(e){return this._children[e]},s.prototype.hasChild=function(e){return e in this._children},s.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},s.prototype.forEachChild=function(e){o(this._children,e)},s.prototype.forEachGetter=function(e){this._rawModule.getters&&o(this._rawModule.getters,e)},s.prototype.forEachAction=function(e){this._rawModule.actions&&o(this._rawModule.actions,e)},s.prototype.forEachMutation=function(e){this._rawModule.mutations&&o(this._rawModule.mutations,e)},Object.defineProperties(s.prototype,l);var d=function(e){this.register([],e,!1)};d.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},d.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,i){return e+((t=t.getChild(i)).namespaced?i+"/":"")}),"")},d.prototype.update=function(e){!function e(t,i,n){0;if(i.update(n),n.modules)for(var a in n.modules){if(!i.getChild(a))return void 0;e(t.concat(a),i.getChild(a),n.modules[a])}}([],this.root,e)},d.prototype.register=function(e,t,i){var n=this;void 0===i&&(i=!0);var a=new s(t,i);0===e.length?this.root=a:this.get(e.slice(0,-1)).addChild(e[e.length-1],a);t.modules&&o(t.modules,(function(t,a){n.register(e.concat(a),t,i)}))},d.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],n=t.getChild(i);n&&n.runtime&&t.removeChild(i)},d.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return t.hasChild(i)};var c;var u=function(e){var t=this;void 0===e&&(e={}),!c&&"undefined"!=typeof window&&window.Vue&&_(window.Vue);var i=e.plugins;void 0===i&&(i=[]);var a=e.strict;void 0===a&&(a=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new d(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c,this._makeLocalGettersCache=Object.create(null);var o=this,r=this.dispatch,s=this.commit;this.dispatch=function(e,t){return r.call(o,e,t)},this.commit=function(e,t,i){return s.call(o,e,t,i)},this.strict=a;var l=this._modules.root.state;g(this,l,[],this._modules.root),m(this,l),i.forEach((function(e){return e(t)})),(void 0!==e.devtools?e.devtools:c.config.devtools)&&function(e){n&&(e._devtoolHook=n,n.emit("vuex:init",e),n.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){n.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){n.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function h(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function p(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;g(e,i,[],e._modules.root,!0),m(e,i,t)}function m(e,t,i){var n=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,r={};o(a,(function(t,i){r[i]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})}));var s=c.config.silent;c.config.silent=!0,e._vm=new c({data:{$$state:t},computed:r}),c.config.silent=s,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),n&&(i&&e._withCommit((function(){n._data.$$state=null})),c.nextTick((function(){return n.$destroy()})))}function g(e,t,i,n,a){var o=!i.length,r=e._modules.getNamespace(i);if(n.namespaced&&(e._modulesNamespaceMap[r],e._modulesNamespaceMap[r]=n),!o&&!a){var s=v(t,i.slice(0,-1)),l=i[i.length-1];e._withCommit((function(){c.set(s,l,n.state)}))}var d=n.context=function(e,t,i){var n=""===t,a={dispatch:n?e.dispatch:function(i,n,a){var o=b(i,n,a),r=o.payload,s=o.options,l=o.type;return s&&s.root||(l=t+l),e.dispatch(l,r)},commit:n?e.commit:function(i,n,a){var o=b(i,n,a),r=o.payload,s=o.options,l=o.type;s&&s.root||(l=t+l),e.commit(l,r,s)}};return Object.defineProperties(a,{getters:{get:n?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var i={},n=t.length;Object.keys(e.getters).forEach((function(a){if(a.slice(0,n)===t){var o=a.slice(n);Object.defineProperty(i,o,{get:function(){return e.getters[a]},enumerable:!0})}})),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return v(e.state,i)}}}),a}(e,r,i);n.forEachMutation((function(t,i){!function(e,t,i,n){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){i.call(e,n.state,t)}))}(e,r+i,t,d)})),n.forEachAction((function(t,i){var n=t.root?i:r+i,a=t.handler||t;!function(e,t,i,n){(e._actions[t]||(e._actions[t]=[])).push((function(t){var a,o=i.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},t);return(a=o)&&"function"==typeof a.then||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}(e,n,a,d)})),n.forEachGetter((function(t,i){!function(e,t,i,n){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return i(n.state,n.getters,e.state,e.getters)}}(e,r+i,t,d)})),n.forEachChild((function(n,o){g(e,t,i.concat(o),n,a)}))}function v(e,t){return t.reduce((function(e,t){return e[t]}),e)}function b(e,t,i){return r(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}function _(e){c&&e===c||function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:i});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[i].concat(e.init):i,t.call(this,e)}}function i(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(c=e)}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(e){0},u.prototype.commit=function(e,t,i){var n=this,a=b(e,t,i),o=a.type,r=a.payload,s=(a.options,{type:o,payload:r}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(e){e(r)}))})),this._subscribers.slice().forEach((function(e){return e(s,n.state)})))},u.prototype.dispatch=function(e,t){var i=this,n=b(e,t),a=n.type,o=n.payload,r={type:a,payload:o},s=this._actions[a];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(r,i.state)}))}catch(e){0}var l=s.length>1?Promise.all(s.map((function(e){return e(o)}))):s[0](o);return new Promise((function(e,t){l.then((function(t){try{i._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(r,i.state)}))}catch(e){0}e(t)}),(function(e){try{i._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(r,i.state,e)}))}catch(e){0}t(e)}))}))}},u.prototype.subscribe=function(e,t){return h(e,this._subscribers,t)},u.prototype.subscribeAction=function(e,t){return h("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},u.prototype.watch=function(e,t,i){var n=this;return this._watcherVM.$watch((function(){return e(n.state,n.getters)}),t,i)},u.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},u.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),g(this,this.state,e,this._modules.get(e),i.preserveState),m(this,this.state)},u.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var i=v(t.state,e.slice(0,-1));c.delete(i,e[e.length-1])})),p(this)},u.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},u.prototype.hotUpdate=function(e){this._modules.update(e),p(this,!0)},u.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(u.prototype,f);var y=S((function(e,t){var i={};return k(t).forEach((function(t){var n=t.key,a=t.val;i[n]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var n=O(this.$store,"mapState",e);if(!n)return;t=n.context.state,i=n.context.getters}return"function"==typeof a?a.call(this,t,i):t[a]},i[n].vuex=!0})),i})),w=S((function(e,t){var i={};return k(t).forEach((function(t){var n=t.key,a=t.val;i[n]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var n=this.$store.commit;if(e){var o=O(this.$store,"mapMutations",e);if(!o)return;n=o.context.commit}return"function"==typeof a?a.apply(this,[n].concat(t)):n.apply(this.$store,[a].concat(t))}})),i})),x=S((function(e,t){var i={};return k(t).forEach((function(t){var n=t.key,a=t.val;a=e+a,i[n]=function(){if(!e||O(this.$store,"mapGetters",e))return this.$store.getters[a]},i[n].vuex=!0})),i})),C=S((function(e,t){var i={};return k(t).forEach((function(t){var n=t.key,a=t.val;i[n]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var n=this.$store.dispatch;if(e){var o=O(this.$store,"mapActions",e);if(!o)return;n=o.context.dispatch}return"function"==typeof a?a.apply(this,[n].concat(t)):n.apply(this.$store,[a].concat(t))}})),i}));function k(e){return function(e){return Array.isArray(e)||r(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function S(e){return function(t,i){return"string"!=typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function O(e,t,i){return e._modulesNamespaceMap[i]}function $(e,t,i){var n=i?e.groupCollapsed:e.group;try{n.call(e,t)}catch(i){e.log(t)}}function E(e){try{e.groupEnd()}catch(t){e.log(" log end ")}}function D(){var e=new Date;return" @ "+M(e.getHours(),2)+":"+M(e.getMinutes(),2)+":"+M(e.getSeconds(),2)+"."+M(e.getMilliseconds(),3)}function M(e,t){return i="0",n=t-e.toString().length,new Array(n+1).join(i)+e;var i,n}var T={Store:u,install:_,version:"3.5.1",mapState:y,mapMutations:w,mapGetters:x,mapActions:C,createNamespacedHelpers:function(e){return{mapState:y.bind(null,e),mapGetters:x.bind(null,e),mapMutations:w.bind(null,e),mapActions:C.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var i=e.filter;void 0===i&&(i=function(e,t,i){return!0});var n=e.transformer;void 0===n&&(n=function(e){return e});var o=e.mutationTransformer;void 0===o&&(o=function(e){return e});var r=e.actionFilter;void 0===r&&(r=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var l=e.logMutations;void 0===l&&(l=!0);var d=e.logActions;void 0===d&&(d=!0);var c=e.logger;return void 0===c&&(c=console),function(e){var u=a(e.state);void 0!==c&&(l&&e.subscribe((function(e,r){var s=a(r);if(i(e,u,s)){var l=D(),d=o(e),f="mutation "+e.type+l;$(c,f,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",n(u)),c.log("%c mutation","color: #03A9F4; font-weight: bold",d),c.log("%c next state","color: #4CAF50; font-weight: bold",n(s)),E(c)}u=s})),d&&e.subscribeAction((function(e,i){if(r(e,i)){var n=D(),a=s(e),o="action "+e.type+n;$(c,o,t),c.log("%c action","color: #03A9F4; font-weight: bold",a),E(c)}})))}}};t.a=T}).call(this,i(3))},3:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},5:function(e,t,i){e.exports=i(161)}},[[152,1,2]]]);