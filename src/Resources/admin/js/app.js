(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(t,e){var i,n,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(t){n=r}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!c){var t=s(h);c=!0;for(var e=u.length;e;){for(l=u,u=[];++d<e;)l&&l[d].run();d=-1,e=u.length}l=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new p(t,e)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},137:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={props:["pluralLength","i","id","isMissing","isRaw","isPlural","textKey","plural_forms","changes","translates","values"],beforeDestroy:function(){this.isRaw&&CKEDITOR.instances[this.$refs.editor.id]&&CKEDITOR.instances[this.$refs.editor.id].destroy()},computed:{getPluralsIntervals:function getPluralsIntervals(){for(var forms=this.plural_forms.split(";")[1].replace("plural=",""),plurals=[],is_double=2==this.pluralLength,i=0;i<this.pluralLength;i++){for(var start=null,end=null,a=1;a<100;a++){var statement=forms.replace(/n/g,a),condition=eval(statement),result=parseInt(condition);if(null===start&&(is_double&&(0==i&&!1===condition||i>0&&!0===condition)||result===i)&&(start=a),null!==start&&null===end&&!is_double&&result!=i){i>0&&(end=a-1);break}}plurals.push([start,start==end?null:end])}return plurals=plurals.map((function(t,e){t=t.filter((function(t){return t}));return e+1==plurals.length&&1==t.length?t[0]+"+":t.join(" - ")})),plurals}},methods:{bootEditors:function(){var t=this;this.isRaw&&this.$nextTick((function(){$(t.$refs.editor).ckEditors(),CKEDITOR.instances[t.$refs.editor.id].on("change",(function(e){t.changeText(e.editor.getData(),t.i-1)}))}))},getValue:function(t,e){return t&&t[e]||""},getPluralsPlaceholder:function(t){return this.isPlural?this.textKey.indexOf("%d")>-1?this.textKey.replace("%d",this.getPluralsIntervals[t]):this.getPluralsIntervals[t]:""},changeText:function(t,e){var i=this.textKey;this.isPlural?(i in this.changes||this.$set(this.changes,i,this.translates[i]),this.changes[i][e]=t):this.$set(this.changes,i,t),this.translates[i][e]=t}}}},138:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},139:function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var n,a,o,r,s,l=1,u={},c=!1,d=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,n=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,a.removeChild(e),e=null},a.appendChild(e)}):n=function(t){setTimeout(p,0,t)}:(r="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&p(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(r+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var a={callback:t,args:e};return u[l]=a,n(l),l++},h.clearImmediate=f}function f(t){delete u[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}(e)}finally{f(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(4),i(135))},143:function(t,e,i){"use strict";i.r(e),function(t){var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,n=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(i&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var a=i&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),n))}};function o(t){return t&&"[object Function]"==={}.toString.call(t)}function r(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i[e]:i}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=r(t),i=e.overflow,n=e.overflowX,a=e.overflowY;return/(auto|scroll|overlay)/.test(i+a+n)?t:l(s(t))}function u(t){return t&&t.referenceNode?t.referenceNode:t}var c=i&&!(!window.MSInputMethodContext||!document.documentMode),d=i&&/MSIE 10/.test(navigator.userAgent);function h(t){return 11===t?c:10===t?d:c||d}function f(t){if(!t)return document.documentElement;for(var e=h(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===r(i,"position")?f(i):i:t?t.ownerDocument.documentElement:document.documentElement}function p(t){return null!==t.parentNode?p(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,a=i?e:t,o=document.createRange();o.setStart(n,0),o.setEnd(a,0);var r,s,l=o.commonAncestorContainer;if(t!==l&&e!==l||n.contains(a))return"BODY"===(s=(r=l).nodeName)||"HTML"!==s&&f(r.firstElementChild)!==r?f(l):l;var u=p(t);return u.host?m(u.host,e):m(t,p(e).host)}function g(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var n=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||n)[e]}return t[e]}function v(t,e){var i="x"===e?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function b(t,e,i,n){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],h(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function _(t){var e=t.body,i=t.documentElement,n=h(10)&&getComputedStyle(i);return{height:b("Height",e,i,n),width:b("Width",e,i,n)}}var y=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),x=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function k(t){return C({},t,{right:t.left+t.width,bottom:t.top+t.height})}function S(t){var e={};try{if(h(10)){e=t.getBoundingClientRect();var i=g(t,"top"),n=g(t,"left");e.top+=i,e.left+=n,e.bottom+=i,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var a={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?_(t.ownerDocument):{},s=o.width||t.clientWidth||a.width,l=o.height||t.clientHeight||a.height,u=t.offsetWidth-s,c=t.offsetHeight-l;if(u||c){var d=r(t);u-=v(d,"x"),c-=v(d,"y"),a.width-=u,a.height-=c}return k(a)}function O(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=h(10),a="HTML"===e.nodeName,o=S(t),s=S(e),u=l(t),c=r(e),d=parseFloat(c.borderTopWidth,10),f=parseFloat(c.borderLeftWidth,10);i&&a&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=k({top:o.top-s.top-d,left:o.left-s.left-f,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!n&&a){var m=parseFloat(c.marginTop,10),v=parseFloat(c.marginLeft,10);p.top-=d-m,p.bottom-=d-m,p.left-=f-v,p.right-=f-v,p.marginTop=m,p.marginLeft=v}return(n&&!i?e.contains(u):e===u&&"BODY"!==u.nodeName)&&(p=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=g(e,"top"),a=g(e,"left"),o=i?-1:1;return t.top+=n*o,t.bottom+=n*o,t.left+=a*o,t.right+=a*o,t}(p,e)),p}function D(t){if(!t||!t.parentElement||h())return document.documentElement;for(var e=t.parentElement;e&&"none"===r(e,"transform");)e=e.parentElement;return e||document.documentElement}function E(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},c=a?D(t):m(t,u(e));if("viewport"===n)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.ownerDocument.documentElement,n=O(t,i),a=Math.max(i.clientWidth,window.innerWidth||0),o=Math.max(i.clientHeight,window.innerHeight||0),r=e?0:g(i),s=e?0:g(i,"left");return k({top:r-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:a,height:o})}(c,a);else{var d=void 0;"scrollParent"===n?"BODY"===(d=l(s(e))).nodeName&&(d=t.ownerDocument.documentElement):d="window"===n?t.ownerDocument.documentElement:n;var h=O(d,c,a);if("HTML"!==d.nodeName||function t(e){var i=e.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===r(e,"position"))return!0;var n=s(e);return!!n&&t(n)}(c))o=h;else{var f=_(t.ownerDocument),p=f.height,v=f.width;o.top+=h.top-h.marginTop,o.bottom=p+h.top,o.left+=h.left-h.marginLeft,o.right=v+h.left}}var b="number"==typeof(i=i||0);return o.left+=b?i:i.left||0,o.top+=b?i:i.top||0,o.right-=b?i:i.right||0,o.bottom-=b?i:i.bottom||0,o}function M(t,e,i,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var r=E(i,n,o,a),s={top:{width:r.width,height:e.top-r.top},right:{width:r.right-e.right,height:r.height},bottom:{width:r.width,height:r.bottom-e.bottom},left:{width:e.left-r.left,height:r.height}},l=Object.keys(s).map((function(t){return C({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),u=l.filter((function(t){var e=t.width,n=t.height;return e>=i.clientWidth&&n>=i.clientHeight})),c=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function $(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return O(i,n?D(e):m(e,u(i)),n)}function T(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+i}}function R(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function A(t,e,i){i=i.split("-")[0];var n=T(t),a={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(i),r=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return a[r]=e[r]+e[l]/2-n[l]/2,a[s]=i===s?e[s]-n[u]:e[R(s)],a}function F(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function j(t,e,i){return(void 0===i?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===i}));var n=F(t,(function(t){return t[e]===i}));return t.indexOf(n)}(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&o(i)&&(e.offsets.popper=k(e.offsets.popper),e.offsets.reference=k(e.offsets.reference),e=i(e,t))})),e}function P(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=$(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=M(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=A(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=j(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function I(t,e){return t.some((function(t){var i=t.name;return t.enabled&&i===e}))}function L(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var a=e[n],o=a?""+a+i:t;if(void 0!==document.body.style[o])return o}return null}function N(){return this.state.isDestroyed=!0,I(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[L("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function q(t){var e=t.ownerDocument;return e?e.defaultView:window}function V(t,e,i,n){i.updateBound=n,q(t).addEventListener("resize",i.updateBound,{passive:!0});var a=l(t);return function t(e,i,n,a){var o="BODY"===e.nodeName,r=o?e.ownerDocument.defaultView:e;r.addEventListener(i,n,{passive:!0}),o||t(l(r.parentNode),i,n,a),a.push(r)}(a,"scroll",i.updateBound,i.scrollParents),i.scrollElement=a,i.eventsEnabled=!0,i}function z(){this.state.eventsEnabled||(this.state=V(this.reference,this.options,this.state,this.scheduleUpdate))}function B(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,q(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function H(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function G(t,e){Object.keys(e).forEach((function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&H(e[i])&&(n="px"),t.style[i]=e[i]+n}))}var U=i&&/Firefox/i.test(navigator.userAgent);function W(t,e,i){var n=F(t,(function(t){return t.name===e})),a=!!n&&t.some((function(t){return t.name===i&&t.enabled&&t.order<n.order}));if(!a){var o="`"+e+"`",r="`"+i+"`";console.warn(r+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return a}var Y=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=Y.slice(3);function K(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=X.indexOf(t),n=X.slice(i+1).concat(X.slice(0,i));return e?n.reverse():n}var Z={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Q(t,e,i,n){var a=[0,0],o=-1!==["right","left"].indexOf(n),r=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=r.indexOf(F(r,(function(t){return-1!==t.search(/,|\s/)})));r[s]&&-1===r[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[r.slice(0,s).concat([r[s].split(l)[0]]),[r[s].split(l)[1]].concat(r.slice(s+1))]:[r];return(u=u.map((function(t,n){var a=(1===n?!o:o)?"height":"width",r=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,r=!0,t):r?(t[t.length-1]+=e,r=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,i,n){var a=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+a[1],r=a[2];if(!o)return t;if(0===r.indexOf("%")){var s=void 0;switch(r){case"%p":s=i;break;case"%":case"%r":default:s=n}return k(s)[e]/100*o}if("vh"===r||"vw"===r){return("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,a,e,i)}))}))).forEach((function(t,e){t.forEach((function(i,n){H(i)&&(a[e]+=i*("-"===t[n-1]?-1:1))}))})),a}var J={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var a=t.offsets,o=a.reference,r=a.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",u=s?"width":"height",c={start:x({},l,o[l]),end:x({},l,o[l]+o[u]-r[u])};t.offsets.popper=C({},r,c[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i=e.offset,n=t.placement,a=t.offsets,o=a.popper,r=a.reference,s=n.split("-")[0],l=void 0;return l=H(+i)?[+i,0]:Q(i,o,r,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var i=e.boundariesElement||f(t.instance.popper);t.instance.reference===i&&(i=f(i));var n=L("transform"),a=t.instance.popper.style,o=a.top,r=a.left,s=a[n];a.top="",a.left="",a[n]="";var l=E(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);a.top=o,a.left=r,a[n]=s,e.boundaries=l;var u=e.priority,c=t.offsets.popper,d={primary:function(t){var i=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(i=Math.max(c[t],l[t])),x({},t,i)},secondary:function(t){var i="right"===t?"left":"top",n=c[i];return c[t]>l[t]&&!e.escapeWithReference&&(n=Math.min(c[i],l[t]-("right"===t?c.width:c.height))),x({},i,n)}};return u.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=C({},c,d[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,n=e.reference,a=t.placement.split("-")[0],o=Math.floor,r=-1!==["top","bottom"].indexOf(a),s=r?"right":"bottom",l=r?"left":"top",u=r?"width":"height";return i[s]<o(n[l])&&(t.offsets.popper[l]=o(n[l])-i[u]),i[l]>o(n[s])&&(t.offsets.popper[l]=o(n[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!W(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var a=t.placement.split("-")[0],o=t.offsets,s=o.popper,l=o.reference,u=-1!==["left","right"].indexOf(a),c=u?"height":"width",d=u?"Top":"Left",h=d.toLowerCase(),f=u?"left":"top",p=u?"bottom":"right",m=T(n)[c];l[p]-m<s[h]&&(t.offsets.popper[h]-=s[h]-(l[p]-m)),l[h]+m>s[p]&&(t.offsets.popper[h]+=l[h]+m-s[p]),t.offsets.popper=k(t.offsets.popper);var g=l[h]+l[c]/2-m/2,v=r(t.instance.popper),b=parseFloat(v["margin"+d],10),_=parseFloat(v["border"+d+"Width"],10),y=g-t.offsets.popper[h]-b-_;return y=Math.max(Math.min(s[c]-m,y),0),t.arrowElement=n,t.offsets.arrow=(x(i={},h,Math.round(y)),x(i,f,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(I(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=E(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],a=R(n),o=t.placement.split("-")[1]||"",r=[];switch(e.behavior){case Z.FLIP:r=[n,a];break;case Z.CLOCKWISE:r=K(n);break;case Z.COUNTERCLOCKWISE:r=K(n,!0);break;default:r=e.behavior}return r.forEach((function(s,l){if(n!==s||r.length===l+1)return t;n=t.placement.split("-")[0],a=R(n);var u=t.offsets.popper,c=t.offsets.reference,d=Math.floor,h="left"===n&&d(u.right)>d(c.left)||"right"===n&&d(u.left)<d(c.right)||"top"===n&&d(u.bottom)>d(c.top)||"bottom"===n&&d(u.top)<d(c.bottom),f=d(u.left)<d(i.left),p=d(u.right)>d(i.right),m=d(u.top)<d(i.top),g=d(u.bottom)>d(i.bottom),v="left"===n&&f||"right"===n&&p||"top"===n&&m||"bottom"===n&&g,b=-1!==["top","bottom"].indexOf(n),_=!!e.flipVariations&&(b&&"start"===o&&f||b&&"end"===o&&p||!b&&"start"===o&&m||!b&&"end"===o&&g),y=!!e.flipVariationsByContent&&(b&&"start"===o&&p||b&&"end"===o&&f||!b&&"start"===o&&g||!b&&"end"===o&&m),w=_||y;(h||v||w)&&(t.flipped=!0,(h||v)&&(n=r[l+1]),w&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=n+(o?"-"+o:""),t.offsets.popper=C({},t.offsets.popper,A(t.instance.popper,t.offsets.reference,t.placement)),t=j(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,a=n.popper,o=n.reference,r=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return a[r?"left":"top"]=o[i]-(s?a[r?"width":"height"]:0),t.placement=R(e),t.offsets.popper=k(a),t}},hide:{order:800,enabled:!0,fn:function(t){if(!W(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=F(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,n=e.y,a=t.offsets.popper,o=F(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r=void 0!==o?o:e.gpuAcceleration,s=f(t.instance.popper),l=S(s),u={position:a.position},c=function(t,e){var i=t.offsets,n=i.popper,a=i.reference,o=Math.round,r=Math.floor,s=function(t){return t},l=o(a.width),u=o(n.width),c=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),h=e?c||d||l%2==u%2?o:r:s,f=e?o:s;return{left:h(l%2==1&&u%2==1&&!d&&e?n.left-1:n.left),top:f(n.top),bottom:f(n.bottom),right:h(n.right)}}(t,window.devicePixelRatio<2||!U),d="bottom"===i?"top":"bottom",h="right"===n?"left":"right",p=L("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,m="right"===h?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,r&&p)u[p]="translate3d("+m+"px, "+g+"px, 0)",u[d]=0,u[h]=0,u.willChange="transform";else{var v="bottom"===d?-1:1,b="right"===h?-1:1;u[d]=g*v,u[h]=m*b,u.willChange=d+", "+h}var _={"x-placement":t.placement};return t.attributes=C({},_,t.attributes),t.styles=C({},u,t.styles),t.arrowStyles=C({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,i;return G(t.instance.popper,t.styles),e=t.instance.popper,i=t.attributes,Object.keys(i).forEach((function(t){!1!==i[t]?e.setAttribute(t,i[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&G(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,n,a){var o=$(a,e,t,i.positionFixed),r=M(i.placement,o,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",r),G(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},tt=function(){function t(e,i){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=a(this.update.bind(this)),this.options=C({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(C({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){n.options.modifiers[e]=C({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return C({name:t},n.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&o(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(t,[{key:"update",value:function(){return P.call(this)}},{key:"destroy",value:function(){return N.call(this)}},{key:"enableEventListeners",value:function(){return z.call(this)}},{key:"disableEventListeners",value:function(){return B.call(this)}}]),t}();tt.Utils=("undefined"!=typeof window?window:t).PopperUtils,tt.placements=Y,tt.Defaults=J,e.default=tt}.call(this,i(4))},145:function(t,e,i){var n,a,o;a=[i(5)],void 0===(o="function"==typeof(n=function(t){var e,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(t.event.fixHooks)for(var r=n.length;r;)t.event.fixHooks[n[--r]]=t.event.mouseHooks;var s=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=a.length;e;)this.addEventListener(a[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",s.getLineHeight(this)),t.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var a,r=n||window.event,l=o.call(arguments,1),d=0,h=0,f=0,p=0,m=0;if((n=t.event.fix(r)).type="mousewheel","detail"in r&&(f=-1*r.detail),"wheelDelta"in r&&(f=r.wheelDelta),"wheelDeltaY"in r&&(f=r.wheelDeltaY),"wheelDeltaX"in r&&(h=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(h=-1*f,f=0),d=0===f?h:f,"deltaY"in r&&(d=f=-1*r.deltaY),"deltaX"in r&&(h=r.deltaX,0===f&&(d=-1*h)),0!==f||0!==h){if(1===r.deltaMode){var g=t.data(this,"mousewheel-line-height");d*=g,f*=g,h*=g}else if(2===r.deltaMode){var v=t.data(this,"mousewheel-page-height");d*=v,f*=v,h*=v}if(a=Math.max(Math.abs(f),Math.abs(h)),(!i||a<i)&&(i=a,c(r,a)&&(i/=40)),c(r,a)&&(d/=40,h/=40,f/=40),d=Math[d>=1?"floor":"ceil"](d/i),h=Math[h>=1?"floor":"ceil"](h/i),f=Math[f>=1?"floor":"ceil"](f/i),s.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=n.clientX-b.left,m=n.clientY-b.top}return n.deltaX=h,n.deltaY=f,n.deltaFactor=i,n.offsetX=p,n.offsetY=m,n.deltaMode=0,l.unshift(n,d,h,f),e&&clearTimeout(e),e=setTimeout(u,200),(t.event.dispatch||t.event.handle).apply(this,l)}}function u(){i=null}function c(t,e){return s.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})?n.apply(e,a):n)||(t.exports=o)},146:function(t,e,i){var n={"./af":8,"./af.js":8,"./ar":9,"./ar-dz":10,"./ar-dz.js":10,"./ar-kw":11,"./ar-kw.js":11,"./ar-ly":12,"./ar-ly.js":12,"./ar-ma":13,"./ar-ma.js":13,"./ar-sa":14,"./ar-sa.js":14,"./ar-tn":15,"./ar-tn.js":15,"./ar.js":9,"./az":16,"./az.js":16,"./be":17,"./be.js":17,"./bg":18,"./bg.js":18,"./bm":19,"./bm.js":19,"./bn":20,"./bn.js":20,"./bo":21,"./bo.js":21,"./br":22,"./br.js":22,"./bs":23,"./bs.js":23,"./ca":24,"./ca.js":24,"./cs":25,"./cs.js":25,"./cv":26,"./cv.js":26,"./cy":27,"./cy.js":27,"./da":28,"./da.js":28,"./de":29,"./de-at":30,"./de-at.js":30,"./de-ch":31,"./de-ch.js":31,"./de.js":29,"./dv":32,"./dv.js":32,"./el":33,"./el.js":33,"./en-SG":34,"./en-SG.js":34,"./en-au":35,"./en-au.js":35,"./en-ca":36,"./en-ca.js":36,"./en-gb":37,"./en-gb.js":37,"./en-ie":38,"./en-ie.js":38,"./en-il":39,"./en-il.js":39,"./en-nz":40,"./en-nz.js":40,"./eo":41,"./eo.js":41,"./es":42,"./es-do":43,"./es-do.js":43,"./es-us":44,"./es-us.js":44,"./es.js":42,"./et":45,"./et.js":45,"./eu":46,"./eu.js":46,"./fa":47,"./fa.js":47,"./fi":48,"./fi.js":48,"./fo":49,"./fo.js":49,"./fr":50,"./fr-ca":51,"./fr-ca.js":51,"./fr-ch":52,"./fr-ch.js":52,"./fr.js":50,"./fy":53,"./fy.js":53,"./ga":54,"./ga.js":54,"./gd":55,"./gd.js":55,"./gl":56,"./gl.js":56,"./gom-latn":57,"./gom-latn.js":57,"./gu":58,"./gu.js":58,"./he":59,"./he.js":59,"./hi":60,"./hi.js":60,"./hr":61,"./hr.js":61,"./hu":62,"./hu.js":62,"./hy-am":63,"./hy-am.js":63,"./id":64,"./id.js":64,"./is":65,"./is.js":65,"./it":66,"./it-ch":67,"./it-ch.js":67,"./it.js":66,"./ja":68,"./ja.js":68,"./jv":69,"./jv.js":69,"./ka":70,"./ka.js":70,"./kk":71,"./kk.js":71,"./km":72,"./km.js":72,"./kn":73,"./kn.js":73,"./ko":74,"./ko.js":74,"./ku":75,"./ku.js":75,"./ky":76,"./ky.js":76,"./lb":77,"./lb.js":77,"./lo":78,"./lo.js":78,"./lt":79,"./lt.js":79,"./lv":80,"./lv.js":80,"./me":81,"./me.js":81,"./mi":82,"./mi.js":82,"./mk":83,"./mk.js":83,"./ml":84,"./ml.js":84,"./mn":85,"./mn.js":85,"./mr":86,"./mr.js":86,"./ms":87,"./ms-my":88,"./ms-my.js":88,"./ms.js":87,"./mt":89,"./mt.js":89,"./my":90,"./my.js":90,"./nb":91,"./nb.js":91,"./ne":92,"./ne.js":92,"./nl":93,"./nl-be":94,"./nl-be.js":94,"./nl.js":93,"./nn":95,"./nn.js":95,"./pa-in":96,"./pa-in.js":96,"./pl":97,"./pl.js":97,"./pt":98,"./pt-br":99,"./pt-br.js":99,"./pt.js":98,"./ro":100,"./ro.js":100,"./ru":101,"./ru.js":101,"./sd":102,"./sd.js":102,"./se":103,"./se.js":103,"./si":104,"./si.js":104,"./sk":105,"./sk.js":105,"./sl":106,"./sl.js":106,"./sq":107,"./sq.js":107,"./sr":108,"./sr-cyrl":109,"./sr-cyrl.js":109,"./sr.js":108,"./ss":110,"./ss.js":110,"./sv":111,"./sv.js":111,"./sw":112,"./sw.js":112,"./ta":113,"./ta.js":113,"./te":114,"./te.js":114,"./tet":115,"./tet.js":115,"./tg":116,"./tg.js":116,"./th":117,"./th.js":117,"./tl-ph":118,"./tl-ph.js":118,"./tlh":119,"./tlh.js":119,"./tr":120,"./tr.js":120,"./tzl":121,"./tzl.js":121,"./tzm":122,"./tzm-latn":123,"./tzm-latn.js":123,"./tzm.js":122,"./ug-cn":124,"./ug-cn.js":124,"./uk":125,"./uk.js":125,"./ur":126,"./ur.js":126,"./uz":127,"./uz-latn":128,"./uz-latn.js":128,"./uz.js":127,"./vi":129,"./vi.js":129,"./x-pseudo":130,"./x-pseudo.js":130,"./yo":131,"./yo.js":131,"./zh-cn":132,"./zh-cn.js":132,"./zh-hk":133,"./zh-hk.js":133,"./zh-tw":134,"./zh-tw.js":134};function a(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=o,t.exports=a,a.id=146},148:function(t,e){(function(e){t.exports=e}).call(this,{})},149:function(t,e,i){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(a.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i(139),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(4))},150:function(t,e){},151:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),n.forEach((function(e){a(t,e,i[e])}))}return t}function s(t,e){if(null==t)return{};var i,n,a=function(t,e){if(null==t)return{};var i,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(a[i]=t[i]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.r(e),i.d(e,"MultiDrag",(function(){return _e})),i.d(e,"Sortable",(function(){return qt})),i.d(e,"Swap",(function(){return le}));function u(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var c=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=u(/Edge/i),h=u(/firefox/i),f=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),p=u(/iP(ad|od|hone)/i),m=u(/chrome/i)&&u(/android/i),g={capture:!1,passive:!1};function v(t,e,i){t.addEventListener(e,i,!c&&g)}function b(t,e,i){t.removeEventListener(e,i,!c&&g)}function _(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function y(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function w(t,e,i,n){if(t){i=i||document;do{if(null!=e&&(">"===e[0]?t.parentNode===i&&_(t,e):_(t,e))||n&&t===i)return t;if(t===i)break}while(t=y(t))}return null}var x,C=/\s+/g;function k(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(C," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(C," ")}}function S(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||-1!==e.indexOf("webkit")||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function O(t,e){var i="";if("string"==typeof t)i=t;else do{var n=S(t,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(i)}function D(t,e,i){if(t){var n=t.getElementsByTagName(e),a=0,o=n.length;if(i)for(;a<o;a++)i(n[a],a);return n}return[]}function E(){var t=document.scrollingElement;return t||document.documentElement}function M(t,e,i,n,a){if(t.getBoundingClientRect||t===window){var o,r,s,l,u,d,h;if(t!==window&&t!==E()?(r=(o=t.getBoundingClientRect()).top,s=o.left,l=o.bottom,u=o.right,d=o.height,h=o.width):(r=0,s=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||i)&&t!==window&&(a=a||t.parentNode,!c))do{if(a&&a.getBoundingClientRect&&("none"!==S(a,"transform")||i&&"static"!==S(a,"position"))){var f=a.getBoundingClientRect();r-=f.top+parseInt(S(a,"border-top-width")),s-=f.left+parseInt(S(a,"border-left-width")),l=r+o.height,u=s+o.width;break}}while(a=a.parentNode);if(n&&t!==window){var p=O(a||t),m=p&&p.a,g=p&&p.d;p&&(l=(r/=g)+(d/=g),u=(s/=m)+(h/=m))}return{top:r,left:s,bottom:l,right:u,width:h,height:d}}}function $(t,e,i){for(var n=j(t,!0),a=M(t)[e];n;){var o=M(n)[i];if(!("top"===i||"left"===i?a>=o:a<=o))return n;if(n===E())break;n=j(n,!1)}return!1}function T(t,e,i){for(var n=0,a=0,o=t.children;a<o.length;){if("none"!==o[a].style.display&&o[a]!==qt.ghost&&o[a]!==qt.dragged&&w(o[a],i.draggable,t,!1)){if(n===e)return o[a];n++}a++}return null}function R(t,e){for(var i=t.lastElementChild;i&&(i===qt.ghost||"none"===S(i,"display")||e&&!_(i,e));)i=i.previousElementSibling;return i||null}function A(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===qt.clone||e&&!_(t,e)||i++;return i}function F(t){var e=0,i=0,n=E();if(t)do{var a=O(t),o=a.a,r=a.d;e+=t.scrollLeft*o,i+=t.scrollTop*r}while(t!==n&&(t=t.parentNode));return[e,i]}function j(t,e){if(!t||!t.getBoundingClientRect)return E();var i=t,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var a=S(i);if(i.clientWidth<i.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!i.getBoundingClientRect||i===document.body)return E();if(n||e)return i;n=!0}}}while(i=i.parentNode);return E()}function P(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function I(t,e){return function(){if(!x){var i=arguments,n=this;1===i.length?t.call(n,i[0]):t.apply(n,i),x=setTimeout((function(){x=void 0}),e)}}}function L(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function N(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function q(t,e){S(t,"position","absolute"),S(t,"top",e.top),S(t,"left",e.left),S(t,"width",e.width),S(t,"height",e.height)}function V(t){S(t,"position",""),S(t,"top",""),S(t,"left",""),S(t,"width",""),S(t,"height","")}var z="Sortable"+(new Date).getTime();function B(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==S(t,"display")&&t!==qt.ghost){e.push({target:t,rect:M(t)});var i=r({},e[e.length-1].rect);if(t.thisAnimationDuration){var n=O(t,!0);n&&(i.top-=n.f,i.left-=n.e)}t.fromRect=i}}))},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var i in t)if(t.hasOwnProperty(i))for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i);return-1}(e,{target:t}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof i&&i());var a=!1,o=0;e.forEach((function(t){var e=0,i=t.target,r=i.fromRect,s=M(i),l=i.prevFromRect,u=i.prevToRect,c=t.rect,d=O(i,!0);d&&(s.top-=d.f,s.left-=d.e),i.toRect=s,i.thisAnimationDuration&&P(l,s)&&!P(r,s)&&(c.top-s.top)/(c.left-s.left)==(r.top-s.top)/(r.left-s.left)&&(e=function(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}(c,l,u,n.options)),P(s,r)||(i.prevFromRect=r,i.prevToRect=s,e||(e=n.options.animation),n.animate(i,c,s,e)),e&&(a=!0,o=Math.max(o,e),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),e),i.thisAnimationDuration=e)})),clearTimeout(t),a?t=setTimeout((function(){"function"==typeof i&&i()}),o):"function"==typeof i&&i(),e=[]},animate:function(t,e,i,n){if(n){S(t,"transition",""),S(t,"transform","");var a=O(this.el),o=a&&a.a,r=a&&a.d,s=(e.left-i.left)/(o||1),l=(e.top-i.top)/(r||1);t.animatingX=!!s,t.animatingY=!!l,S(t,"transform","translate3d("+s+"px,"+l+"px,0)"),function(t){t.offsetWidth}(t),S(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),S(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){S(t,"transition",""),S(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),n)}}}}var H=[],G={initializeByDefault:!0},U={mount:function(t){for(var e in G)!G.hasOwnProperty(e)||e in t||(t[e]=G[e]);H.push(t)},pluginEvent:function(t,e,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var a=t+"Global";H.forEach((function(n){e[n.pluginName]&&(e[n.pluginName][a]&&e[n.pluginName][a](r({sortable:e},i)),e.options[n.pluginName]&&e[n.pluginName][t]&&e[n.pluginName][t](r({sortable:e},i)))}))},initializePlugins:function(t,e,i,n){for(var a in H.forEach((function(n){var a=n.pluginName;if(t.options[a]||n.initializeByDefault){var r=new n(t,e,t.options);r.sortable=t,r.options=t.options,t[a]=r,o(i,r.defaults)}})),t.options)if(t.options.hasOwnProperty(a)){var r=this.modifyOption(t,a,t.options[a]);void 0!==r&&(t.options[a]=r)}},getEventProperties:function(t,e){var i={};return H.forEach((function(n){"function"==typeof n.eventProperties&&o(i,n.eventProperties.call(e[n.pluginName],t))})),i},modifyOption:function(t,e,i){var n;return H.forEach((function(a){t[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[e]&&(n=a.optionListeners[e].call(t[a.pluginName],i))})),n}};function W(t){var e=t.sortable,i=t.rootEl,n=t.name,a=t.targetEl,o=t.cloneEl,s=t.toEl,l=t.fromEl,u=t.oldIndex,h=t.newIndex,f=t.oldDraggableIndex,p=t.newDraggableIndex,m=t.originalEvent,g=t.putSortable,v=t.extraEventProperties;if(e=e||i&&i[z]){var b,_=e.options,y="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||c||d?(b=document.createEvent("Event")).initEvent(n,!0,!0):b=new CustomEvent(n,{bubbles:!0,cancelable:!0}),b.to=s||i,b.from=l||i,b.item=a||i,b.clone=o,b.oldIndex=u,b.newIndex=h,b.oldDraggableIndex=f,b.newDraggableIndex=p,b.originalEvent=m,b.pullMode=g?g.lastPutMode:void 0;var w=r({},v,U.getEventProperties(n,e));for(var x in w)b[x]=w[x];i&&i.dispatchEvent(b),_[y]&&_[y].call(e,b)}}var Y=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,a=s(i,["evt"]);U.pluginEvent.bind(qt)(t,e,r({dragEl:K,parentEl:Z,ghostEl:Q,rootEl:J,nextEl:tt,lastDownEl:et,cloneEl:it,cloneHidden:nt,dragStarted:gt,putSortable:ut,activeSortable:qt.active,originalEvent:n,oldIndex:at,oldDraggableIndex:rt,newIndex:ot,newDraggableIndex:st,hideGhostForTarget:Pt,unhideGhostForTarget:It,cloneNowHidden:function(){nt=!0},cloneNowShown:function(){nt=!1},dispatchSortableEvent:function(t){X({sortable:e,name:t,originalEvent:n})}},a))};function X(t){W(r({putSortable:ut,cloneEl:it,targetEl:K,rootEl:J,oldIndex:at,oldDraggableIndex:rt,newIndex:ot,newDraggableIndex:st},t))}var K,Z,Q,J,tt,et,it,nt,at,ot,rt,st,lt,ut,ct,dt,ht,ft,pt,mt,gt,vt,bt,_t,yt,wt=!1,xt=!1,Ct=[],kt=!1,St=!1,Ot=[],Dt=!1,Et=[],Mt="undefined"!=typeof document,$t=p,Tt=d||c?"cssFloat":"float",Rt=Mt&&!m&&!p&&"draggable"in document.createElement("div"),At=function(){if(Mt){if(c)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Ft=function(t,e){var i=S(t),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=T(t,0,e),o=T(t,1,e),r=a&&S(a),s=o&&S(o),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+M(a).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+M(o).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&r.float&&"none"!==r.float){var c="left"===r.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return a&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||l>=n&&"none"===i[Tt]||o&&"none"===i[Tt]&&l+u>n)?"vertical":"horizontal"},jt=function(t){function e(t,i){return function(n,a,o,r){var s=n.options.group.name&&a.options.group.name&&n.options.group.name===a.options.group.name;if(null==t&&(i||s))return!0;if(null==t||!1===t)return!1;if(i&&"clone"===t)return t;if("function"==typeof t)return e(t(n,a,o,r),i)(n,a,o,r);var l=(i?n:a).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var i={},a=t.group;a&&"object"==n(a)||(a={name:a}),i.name=a.name,i.checkPull=e(a.pull,!0),i.checkPut=e(a.put),i.revertClone=a.revertClone,t.group=i},Pt=function(){!At&&Q&&S(Q,"display","none")},It=function(){!At&&Q&&S(Q,"display","")};Mt&&document.addEventListener("click",(function(t){if(xt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),xt=!1,!1}),!0);var Lt=function(t){if(K){t=t.touches?t.touches[0]:t;var e=(a=t.clientX,o=t.clientY,Ct.some((function(t){if(!R(t)){var e=M(t),i=t[z].options.emptyInsertThreshold,n=a>=e.left-i&&a<=e.right+i,s=o>=e.top-i&&o<=e.bottom+i;return i&&n&&s?r=t:void 0}})),r);if(e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[z]._onDragOver(i)}}var a,o,r},Nt=function(t){K&&K.parentNode[z]._isOutsideThisEl(t.target)};function qt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=o({},e),t[z]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ft(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==qt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in U.initializePlugins(this,t,i),i)!(n in e)&&(e[n]=i[n]);for(var a in jt(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&Rt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?v(t,"pointerdown",this._onTapStart):(v(t,"mousedown",this._onTapStart),v(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(t,"dragover",this),v(t,"dragenter",this)),Ct.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),o(this,B())}function Vt(t,e,i,n,a,o,r,s){var l,u,h=t[z],f=h.options.onMove;return!window.CustomEvent||c||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=a||e,l.relatedRect=o||M(e),l.willInsertAfter=s,l.originalEvent=r,t.dispatchEvent(l),f&&(u=f.call(h,l,r)),u}function zt(t){t.draggable=!1}function Bt(){Dt=!1}function Ht(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function Gt(t){return setTimeout(t,0)}function Ut(t){return clearTimeout(t)}qt.prototype={constructor:qt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(vt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,K):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,n=this.options,a=n.preventOnFilter,o=t.type,r=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(r||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,u=n.filter;if(function(t){Et.length=0;var e=t.getElementsByTagName("input"),i=e.length;for(;i--;){var n=e[i];n.checked&&Et.push(n)}}(i),!K&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||n.disabled||l.isContentEditable||(s=w(s,n.draggable,i,!1))&&s.animated||et===s)){if(at=A(s),rt=A(s,n.draggable),"function"==typeof u){if(u.call(this,t,s,this))return X({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:i,fromEl:i}),Y("filter",e,{evt:t}),void(a&&t.cancelable&&t.preventDefault())}else if(u&&(u=u.split(",").some((function(n){if(n=w(l,n.trim(),i,!1))return X({sortable:e,rootEl:n,name:"filter",targetEl:s,fromEl:i,toEl:i}),Y("filter",e,{evt:t}),!0}))))return void(a&&t.cancelable&&t.preventDefault());n.handle&&!w(l,n.handle,i,!1)||this._prepareDragStart(t,r,s)}}},_prepareDragStart:function(t,e,i){var n,a=this,o=a.el,r=a.options,s=o.ownerDocument;if(i&&!K&&i.parentNode===o){var l=M(i);if(J=o,Z=(K=i).parentNode,tt=K.nextSibling,et=i,lt=r.group,qt.dragged=K,ct={target:K,clientX:(e||t).clientX,clientY:(e||t).clientY},pt=ct.clientX-l.left,mt=ct.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,K.style["will-change"]="all",n=function(){Y("delayEnded",a,{evt:t}),qt.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!h&&a.nativeDraggable&&(K.draggable=!0),a._triggerDragStart(t,e),X({sortable:a,name:"choose",originalEvent:t}),k(K,r.chosenClass,!0))},r.ignore.split(",").forEach((function(t){D(K,t.trim(),zt)})),v(s,"dragover",Lt),v(s,"mousemove",Lt),v(s,"touchmove",Lt),v(s,"mouseup",a._onDrop),v(s,"touchend",a._onDrop),v(s,"touchcancel",a._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),Y("delayStart",this,{evt:t}),!r.delay||r.delayOnTouchOnly&&!e||this.nativeDraggable&&(d||c))n();else{if(qt.eventCanceled)return void this._onDrop();v(s,"mouseup",a._disableDelayedDrag),v(s,"touchend",a._disableDelayedDrag),v(s,"touchcancel",a._disableDelayedDrag),v(s,"mousemove",a._delayedDragTouchMoveHandler),v(s,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&v(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(n,r.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&zt(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;b(t,"mouseup",this._disableDelayedDrag),b(t,"touchend",this._disableDelayedDrag),b(t,"touchcancel",this._disableDelayedDrag),b(t,"mousemove",this._delayedDragTouchMoveHandler),b(t,"touchmove",this._delayedDragTouchMoveHandler),b(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,e?"touchmove":"mousemove",this._onTouchMove):(v(K,"dragend",this),v(J,"dragstart",this._onDragStart));try{document.selection?Gt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(wt=!1,J&&K){Y("dragStarted",this,{evt:e}),this.nativeDraggable&&v(document,"dragover",Nt);var i=this.options;!t&&k(K,i.dragClass,!1),k(K,i.ghostClass,!0),qt.active=this,t&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(dt){this._lastX=dt.clientX,this._lastY=dt.clientY,Pt();for(var t=document.elementFromPoint(dt.clientX,dt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(dt.clientX,dt.clientY))!==e;)e=t;if(K.parentNode[z]._isOutsideThisEl(t),e)do{if(e[z]){if(e[z]._onDragOver({clientX:dt.clientX,clientY:dt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);It()}},_onTouchMove:function(t){if(ct){var e=this.options,i=e.fallbackTolerance,n=e.fallbackOffset,a=t.touches?t.touches[0]:t,o=Q&&O(Q,!0),r=Q&&o&&o.a,s=Q&&o&&o.d,l=$t&&yt&&F(yt),u=(a.clientX-ct.clientX+n.x)/(r||1)+(l?l[0]-Ot[0]:0)/(r||1),c=(a.clientY-ct.clientY+n.y)/(s||1)+(l?l[1]-Ot[1]:0)/(s||1);if(!qt.active&&!wt){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Q){o?(o.e+=u-(ht||0),o.f+=c-(ft||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");S(Q,"webkitTransform",d),S(Q,"mozTransform",d),S(Q,"msTransform",d),S(Q,"transform",d),ht=u,ft=c,dt=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Q){var t=this.options.fallbackOnBody?document.body:J,e=M(K,!0,$t,!0,t),i=this.options;if($t){for(yt=t;"static"===S(yt,"position")&&"none"===S(yt,"transform")&&yt!==document;)yt=yt.parentNode;yt!==document.body&&yt!==document.documentElement?(yt===document&&(yt=E()),e.top+=yt.scrollTop,e.left+=yt.scrollLeft):yt=E(),Ot=F(yt)}k(Q=K.cloneNode(!0),i.ghostClass,!1),k(Q,i.fallbackClass,!0),k(Q,i.dragClass,!0),S(Q,"transition",""),S(Q,"transform",""),S(Q,"box-sizing","border-box"),S(Q,"margin",0),S(Q,"top",e.top),S(Q,"left",e.left),S(Q,"width",e.width),S(Q,"height",e.height),S(Q,"opacity","0.8"),S(Q,"position",$t?"absolute":"fixed"),S(Q,"zIndex","100000"),S(Q,"pointerEvents","none"),qt.ghost=Q,t.appendChild(Q),S(Q,"transform-origin",pt/parseInt(Q.style.width)*100+"% "+mt/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,n=t.dataTransfer,a=i.options;Y("dragStart",this,{evt:t}),qt.eventCanceled?this._onDrop():(Y("setupClone",this),qt.eventCanceled||((it=N(K)).draggable=!1,it.style["will-change"]="",this._hideClone(),k(it,this.options.chosenClass,!1),qt.clone=it),i.cloneId=Gt((function(){Y("clone",i),qt.eventCanceled||(i.options.removeCloneOnHide||J.insertBefore(it,K),i._hideClone(),X({sortable:i,name:"clone"}))})),!e&&k(K,a.dragClass,!0),e?(xt=!0,i._loopId=setInterval(i._emulateDragOver,50)):(b(document,"mouseup",i._onDrop),b(document,"touchend",i._onDrop),b(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",a.setData&&a.setData.call(i,n,K)),v(document,"drop",i),S(K,"transform","translateZ(0)")),wt=!0,i._dragStartId=Gt(i._dragStarted.bind(i,e,t)),v(document,"selectstart",i),gt=!0,f&&S(document.body,"user-select","none"))},_onDragOver:function(t){var e,i,n,a,o=this.el,s=t.target,l=this.options,u=l.group,c=qt.active,d=lt===u,h=l.sort,f=ut||c,p=this,m=!1;if(!Dt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=w(s,l.draggable,o,!0),P("dragOver"),qt.eventCanceled)return m;if(K.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return N(!1);if(xt=!1,c&&!l.disabled&&(d?h||(n=!J.contains(K)):ut===this||(this.lastPutMode=lt.checkPull(this,c,K,t))&&u.checkPut(this,c,K,t))){if(a="vertical"===this._getDirection(t,s),e=M(K),P("dragOverValid"),qt.eventCanceled)return m;if(n)return Z=J,I(),this._hideClone(),P("revert"),qt.eventCanceled||(tt?J.insertBefore(K,tt):J.appendChild(K)),N(!0);var g=R(o,l.draggable);if(!g||function(t,e,i){var n=M(R(i.el,i.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(t,a,this)&&!g.animated){if(g===K)return N(!1);if(g&&o===t.target&&(s=g),s&&(i=M(s)),!1!==Vt(J,o,K,e,s,i,t,!!s))return I(),o.appendChild(K),Z=o,q(),N(!0)}else if(s.parentNode===o){i=M(s);var v,b,_,y=K.parentNode!==o,x=!function(t,e,i){var n=i?t.left:t.top,a=i?t.right:t.bottom,o=i?t.width:t.height,r=i?e.left:e.top,s=i?e.right:e.bottom,l=i?e.width:e.height;return n===r||a===s||n+o/2===r+l/2}(K.animated&&K.toRect||e,s.animated&&s.toRect||i,a),C=a?"top":"left",O=$(s,"top","top")||$(K,"top","top"),D=O?O.scrollTop:void 0;if(vt!==s&&(b=i[C],kt=!1,St=!x&&l.invertSwap||y),0!==(v=function(t,e,i,n,a,o,r,s){var l=n?t.clientY:t.clientX,u=n?i.height:i.width,c=n?i.top:i.left,d=n?i.bottom:i.right,h=!1;if(!r)if(s&&_t<u*a){if(!kt&&(1===bt?l>c+u*o/2:l<d-u*o/2)&&(kt=!0),kt)h=!0;else if(1===bt?l<c+_t:l>d-_t)return-bt}else if(l>c+u*(1-a)/2&&l<d-u*(1-a)/2)return function(t){return A(K)<A(t)?1:-1}(e);if((h=h||r)&&(l<c+u*o/2||l>d-u*o/2))return l>c+u/2?1:-1;return 0}(t,s,i,a,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,St,vt===s))){var E=A(K);do{E-=v,_=Z.children[E]}while(_&&("none"===S(_,"display")||_===Q))}if(0===v||_===s)return N(!1);vt=s,bt=v;var T=s.nextElementSibling,F=!1,j=Vt(J,o,K,e,s,i,t,F=1===v);if(!1!==j)return 1!==j&&-1!==j||(F=1===j),Dt=!0,setTimeout(Bt,30),I(),F&&!T?o.appendChild(K):s.parentNode.insertBefore(K,F?T:s),O&&L(O,0,D-O.scrollTop),Z=K.parentNode,void 0===b||St||(_t=Math.abs(b-M(s)[C])),q(),N(!0)}if(o.contains(K))return N(!1)}return!1}function P(l,u){Y(l,p,r({evt:t,isOwner:d,axis:a?"vertical":"horizontal",revert:n,dragRect:e,targetRect:i,canSort:h,fromSortable:f,target:s,completed:N,onMove:function(i,n){return Vt(J,o,K,e,i,M(i),t,n)},changed:q},u))}function I(){P("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function N(e){return P("dragOverCompleted",{insertion:e}),e&&(d?c._hideClone():c._showClone(p),p!==f&&(k(K,ut?ut.options.ghostClass:c.options.ghostClass,!1),k(K,l.ghostClass,!0)),ut!==p&&p!==qt.active?ut=p:p===qt.active&&ut&&(ut=null),f===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){P("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===K&&!K.animated||s===o&&!s.animated)&&(vt=null),l.dragoverBubble||t.rootEl||s===document||(K.parentNode[z]._isOutsideThisEl(t.target),!e&&Lt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function q(){ot=A(K),st=A(K,l.draggable),X({sortable:p,name:"change",toEl:o,newIndex:ot,newDraggableIndex:st,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Lt),b(document,"mousemove",Lt),b(document,"touchmove",Lt)},_offUpEvents:function(){var t=this.el.ownerDocument;b(t,"mouseup",this._onDrop),b(t,"touchend",this._onDrop),b(t,"pointerup",this._onDrop),b(t,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;ot=A(K),st=A(K,i.draggable),Y("drop",this,{evt:t}),Z=K&&K.parentNode,ot=A(K),st=A(K,i.draggable),qt.eventCanceled?this._nulling():(wt=!1,St=!1,kt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ut(this.cloneId),Ut(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),f&&S(document.body,"user-select",""),S(K,"transform",""),t&&(gt&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(J===Z||ut&&"clone"!==ut.lastPutMode)&&it&&it.parentNode&&it.parentNode.removeChild(it),K&&(this.nativeDraggable&&b(K,"dragend",this),zt(K),K.style["will-change"]="",gt&&!wt&&k(K,ut?ut.options.ghostClass:this.options.ghostClass,!1),k(K,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:Z,newIndex:null,newDraggableIndex:null,originalEvent:t}),J!==Z?(ot>=0&&(X({rootEl:Z,name:"add",toEl:Z,fromEl:J,originalEvent:t}),X({sortable:this,name:"remove",toEl:Z,originalEvent:t}),X({rootEl:Z,name:"sort",toEl:Z,fromEl:J,originalEvent:t}),X({sortable:this,name:"sort",toEl:Z,originalEvent:t})),ut&&ut.save()):ot!==at&&ot>=0&&(X({sortable:this,name:"update",toEl:Z,originalEvent:t}),X({sortable:this,name:"sort",toEl:Z,originalEvent:t})),qt.active&&(null!=ot&&-1!==ot||(ot=at,st=rt),X({sortable:this,name:"end",toEl:Z,originalEvent:t}),this.save()))),this._nulling())},_nulling:function(){Y("nulling",this),J=K=Z=Q=tt=it=et=nt=ct=dt=gt=ot=st=at=rt=vt=bt=ut=lt=qt.dragged=qt.ghost=qt.clone=qt.active=null,Et.forEach((function(t){t.checked=!0})),Et.length=ht=ft=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":K&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,n=0,a=i.length,o=this.options;n<a;n++)w(t=i[n],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Ht(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach((function(t,n){var a=i.children[n];w(a,this.options.draggable,i,!1)&&(e[t]=a)}),this),t.forEach((function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return w(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];var n=U.modifyOption(this,t,e);i[t]=void 0!==n?n:e,"group"===t&&jt(i)},destroy:function(){Y("destroy",this);var t=this.el;t[z]=null,b(t,"mousedown",this._onTapStart),b(t,"touchstart",this._onTapStart),b(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(t,"dragover",this),b(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ct.splice(Ct.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!nt){if(Y("hideClone",this),qt.eventCanceled)return;S(it,"display","none"),this.options.removeCloneOnHide&&it.parentNode&&it.parentNode.removeChild(it),nt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(nt){if(Y("showClone",this),qt.eventCanceled)return;J.contains(K)&&!this.options.group.revertClone?J.insertBefore(it,K):tt?J.insertBefore(it,tt):J.appendChild(it),this.options.group.revertClone&&this.animate(K,it),S(it,"display",""),nt=!1}}else this._hideClone()}},Mt&&v(document,"touchmove",(function(t){(qt.active||wt)&&t.cancelable&&t.preventDefault()})),qt.utils={on:v,off:b,css:S,find:D,is:function(t,e){return!!w(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},throttle:I,closest:w,toggleClass:k,clone:N,index:A,nextTick:Gt,cancelNextTick:Ut,detectDirection:Ft,getChild:T},qt.get=function(t){return t[z]},qt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(qt.utils=r({},qt.utils,t.utils)),U.mount(t)}))},qt.create=function(t,e){return new qt(t,e)},qt.version="1.10.2";var Wt,Yt,Xt,Kt,Zt,Qt,Jt=[],te=!1;function ee(){Jt.forEach((function(t){clearInterval(t.pid)})),Jt=[]}function ie(){clearInterval(Qt)}var ne,ae=I((function(t,e,i,n){if(e.scroll){var a,o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,u=E(),c=!1;Yt!==i&&(Yt=i,ee(),Wt=e.scroll,a=e.scrollFn,!0===Wt&&(Wt=j(i,!0)));var d=0,h=Wt;do{var f=h,p=M(f),m=p.top,g=p.bottom,v=p.left,b=p.right,_=p.width,y=p.height,w=void 0,x=void 0,C=f.scrollWidth,k=f.scrollHeight,O=S(f),D=f.scrollLeft,$=f.scrollTop;f===u?(w=_<C&&("auto"===O.overflowX||"scroll"===O.overflowX||"visible"===O.overflowX),x=y<k&&("auto"===O.overflowY||"scroll"===O.overflowY||"visible"===O.overflowY)):(w=_<C&&("auto"===O.overflowX||"scroll"===O.overflowX),x=y<k&&("auto"===O.overflowY||"scroll"===O.overflowY));var T=w&&(Math.abs(b-o)<=s&&D+_<C)-(Math.abs(v-o)<=s&&!!D),R=x&&(Math.abs(g-r)<=s&&$+y<k)-(Math.abs(m-r)<=s&&!!$);if(!Jt[d])for(var A=0;A<=d;A++)Jt[A]||(Jt[A]={});Jt[d].vx==T&&Jt[d].vy==R&&Jt[d].el===f||(Jt[d].el=f,Jt[d].vx=T,Jt[d].vy=R,clearInterval(Jt[d].pid),0==T&&0==R||(c=!0,Jt[d].pid=setInterval(function(){n&&0===this.layer&&qt.active._onTouchMove(Zt);var e=Jt[this.layer].vy?Jt[this.layer].vy*l:0,i=Jt[this.layer].vx?Jt[this.layer].vx*l:0;"function"==typeof a&&"continue"!==a.call(qt.dragged.parentNode[z],i,e,t,Zt,Jt[this.layer].el)||L(Jt[this.layer].el,i,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==u&&(h=j(h,!1)));te=c}}),30),oe=function(t){var e=t.originalEvent,i=t.putSortable,n=t.dragEl,a=t.activeSortable,o=t.dispatchSortableEvent,r=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=i||a;r();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(u.clientX,u.clientY);s(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function re(){}function se(){}function le(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;ne=e},dragOverValid:function(t){var e=t.completed,i=t.target,n=t.onMove,a=t.activeSortable,o=t.changed,r=t.cancel;if(a.options.swap){var s=this.sortable.el,l=this.options;if(i&&i!==s){var u=ne;!1!==n(i)?(k(i,l.swapClass,!0),ne=i):ne=null,u&&u!==ne&&k(u,l.swapClass,!1)}o(),e(!0),r()}},drop:function(t){var e=t.activeSortable,i=t.putSortable,n=t.dragEl,a=i||this.sortable,o=this.options;ne&&k(ne,o.swapClass,!1),ne&&(o.swap||i&&i.options.swap)&&n!==ne&&(a.captureAnimationState(),a!==e&&e.captureAnimationState(),function(t,e){var i,n,a=t.parentNode,o=e.parentNode;if(!a||!o||a.isEqualNode(e)||o.isEqualNode(t))return;i=A(t),n=A(e),a.isEqualNode(o)&&i<n&&n++;a.insertBefore(e,a.children[i]),o.insertBefore(t,o.children[n])}(n,ne),a.animateAll(),a!==e&&e.animateAll())},nulling:function(){ne=null}},o(t,{pluginName:"swap",eventProperties:function(){return{swapItem:ne}}})}re.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=T(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:oe},o(re,{pluginName:"revertOnSpill"}),se.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:oe},o(se,{pluginName:"removeOnSpill"});var ue,ce,de,he,fe,pe=[],me=[],ge=!1,ve=!1,be=!1;function _e(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,i){var n="";pe.length&&ce===t?pe.forEach((function(t,e){n+=(e?", ":"")+t.textContent})):n=i.textContent,e.setData("Text",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;de=e},delayEnded:function(){this.isMultiDrag=~pe.indexOf(de)},setupClone:function(t){var e=t.sortable,i=t.cancel;if(this.isMultiDrag){for(var n=0;n<pe.length;n++)me.push(N(pe[n])),me[n].sortableIndex=pe[n].sortableIndex,me[n].draggable=!1,me[n].style["will-change"]="",k(me[n],this.options.selectedClass,!1),pe[n]===de&&k(me[n],this.options.chosenClass,!1);e._hideClone(),i()}},clone:function(t){var e=t.sortable,i=t.rootEl,n=t.dispatchSortableEvent,a=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||pe.length&&ce===e&&(ye(!0,i),n("clone"),a()))},showClone:function(t){var e=t.cloneNowShown,i=t.rootEl,n=t.cancel;this.isMultiDrag&&(ye(!1,i),me.forEach((function(t){S(t,"display","")})),e(),fe=!1,n())},hideClone:function(t){var e=this,i=(t.sortable,t.cloneNowHidden),n=t.cancel;this.isMultiDrag&&(me.forEach((function(t){S(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),i(),fe=!0,n())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&ce&&ce.multiDrag._deselectMultiDrag(),pe.forEach((function(t){t.sortableIndex=A(t)})),pe=pe.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),be=!0},dragStarted:function(t){var e=this,i=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){pe.forEach((function(t){t!==de&&S(t,"position","absolute")}));var n=M(de,!1,!0,!0);pe.forEach((function(t){t!==de&&q(t,n)})),ve=!0,ge=!0}i.animateAll((function(){ve=!1,ge=!1,e.options.animation&&pe.forEach((function(t){V(t)})),e.options.sort&&we()}))}},dragOver:function(t){var e=t.target,i=t.completed,n=t.cancel;ve&&~pe.indexOf(e)&&(i(!1),n())},revert:function(t){var e=t.fromSortable,i=t.rootEl,n=t.sortable,a=t.dragRect;pe.length>1&&(pe.forEach((function(t){n.addAnimationState({target:t,rect:ve?M(t):a}),V(t),t.fromRect=a,e.removeAnimationState(t)})),ve=!1,function(t,e){pe.forEach((function(i,n){var a=e.children[i.sortableIndex+(t?Number(n):0)];a?e.insertBefore(i,a):e.appendChild(i)}))}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(t){var e=t.sortable,i=t.isOwner,n=t.insertion,a=t.activeSortable,o=t.parentEl,r=t.putSortable,s=this.options;if(n){if(i&&a._hideClone(),ge=!1,s.animation&&pe.length>1&&(ve||!i&&!a.options.sort&&!r)){var l=M(de,!1,!0,!0);pe.forEach((function(t){t!==de&&(q(t,l),o.appendChild(t))})),ve=!0}if(!i)if(ve||we(),pe.length>1){var u=fe;a._showClone(e),a.options.animation&&!fe&&u&&me.forEach((function(t){a.addAnimationState({target:t,rect:he}),t.fromRect=he,t.thisAnimationDuration=null}))}else a._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,i=t.isOwner,n=t.activeSortable;if(pe.forEach((function(t){t.thisAnimationDuration=null})),n.options.animation&&!i&&n.multiDrag.isMultiDrag){he=o({},e);var a=O(de,!0);he.top-=a.f,he.left-=a.e}},dragOverAnimationComplete:function(){ve&&(ve=!1,we())},drop:function(t){var e=t.originalEvent,i=t.rootEl,n=t.parentEl,a=t.sortable,o=t.dispatchSortableEvent,r=t.oldIndex,s=t.putSortable,l=s||this.sortable;if(e){var u=this.options,c=n.children;if(!be)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),k(de,u.selectedClass,!~pe.indexOf(de)),~pe.indexOf(de))pe.splice(pe.indexOf(de),1),ue=null,W({sortable:a,rootEl:i,name:"deselect",targetEl:de,originalEvt:e});else{if(pe.push(de),W({sortable:a,rootEl:i,name:"select",targetEl:de,originalEvt:e}),e.shiftKey&&ue&&a.el.contains(ue)){var d,h,f=A(ue),p=A(de);if(~f&&~p&&f!==p)for(p>f?(h=f,d=p):(h=p,d=f+1);h<d;h++)~pe.indexOf(c[h])||(k(c[h],u.selectedClass,!0),pe.push(c[h]),W({sortable:a,rootEl:i,name:"select",targetEl:c[h],originalEvt:e}))}else ue=de;ce=l}if(be&&this.isMultiDrag){if((n[z].options.sort||n!==i)&&pe.length>1){var m=M(de),g=A(de,":not(."+this.options.selectedClass+")");if(!ge&&u.animation&&(de.thisAnimationDuration=null),l.captureAnimationState(),!ge&&(u.animation&&(de.fromRect=m,pe.forEach((function(t){if(t.thisAnimationDuration=null,t!==de){var e=ve?M(t):m;t.fromRect=e,l.addAnimationState({target:t,rect:e})}}))),we(),pe.forEach((function(t){c[g]?n.insertBefore(t,c[g]):n.appendChild(t),g++})),r===A(de))){var v=!1;pe.forEach((function(t){t.sortableIndex===A(t)||(v=!0)})),v&&o("update")}pe.forEach((function(t){V(t)})),l.animateAll()}ce=l}(i===n||s&&"clone"!==s.lastPutMode)&&me.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=be=!1,me.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==be&&be||ce!==this.sortable||t&&w(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;pe.length;){var e=pe[0];k(e,this.options.selectedClass,!1),pe.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[z];e&&e.options.multiDrag&&!~pe.indexOf(t)&&(ce&&ce!==e&&(ce.multiDrag._deselectMultiDrag(),ce=e),k(t,e.options.selectedClass,!0),pe.push(t))},deselect:function(t){var e=t.parentNode[z],i=pe.indexOf(t);e&&e.options.multiDrag&&~i&&(k(t,e.options.selectedClass,!1),pe.splice(i,1))}},eventProperties:function(){var t=this,e=[],i=[];return pe.forEach((function(n){var a;e.push({multiDragElement:n,index:n.sortableIndex}),a=ve&&n!==de?-1:ve?A(n,":not(."+t.options.selectedClass+")"):A(n),i.push({multiDragElement:n,index:a})})),{items:l(pe),clones:[].concat(me),oldIndicies:e,newIndicies:i}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function ye(t,e){me.forEach((function(i,n){var a=e.children[i.sortableIndex+(t?Number(n):0)];a?e.insertBefore(i,a):e.appendChild(i)}))}function we(){pe.forEach((function(t){t!==de&&t.parentNode&&t.parentNode.removeChild(t)}))}qt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):e.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),ie(),ee(),clearTimeout(x),x=void 0},nulling:function(){Zt=Yt=Wt=te=Qt=Xt=Kt=null,Jt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var i=this,n=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(n,a);if(Zt=t,e||d||c||f){ae(t,this.options,o,e);var r=j(o,!0);!te||Qt&&n===Xt&&a===Kt||(Qt&&ie(),Qt=setInterval((function(){var o=j(document.elementFromPoint(n,a),!0);o!==r&&(r=o,ee()),ae(t,i.options,o,e)}),10),Xt=n,Kt=a)}else{if(!this.options.bubbleScroll||j(o,!0)===E())return void ee();ae(t,this.options,j(o,!1),!1)}}},o(t,{pluginName:"scroll",initializeByDefault:!0})}),qt.mount(se,re),e.default=qt},152:function(t,e,i){i(167),t.exports=i(185)},153:function(t,e,i){window.$=window.jQuery=i(5),i(154),i(142),i(144),i(155),i(156),i(157),i(158),i(159),window._=i(1),window.moment=i(0),window.md5=i(147)},154:function(t,e,i){var n,a,o;!function(r){"use strict";a=[i(5)],void 0===(o="function"==typeof(n=function(t){var e={};e.fileapi=void 0!==t("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData;var i=!!t.fn.prop;function n(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(i))}function a(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var a=n.closest("[type=submit]");if(0===a.length)return;i=a[0]}var o=this;if(o.clk=i,"image"==i.type)if(void 0!==e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var r=n.offset();o.clk_x=e.pageX-r.left,o.clk_y=e.pageY-r.top}else o.clk_x=e.pageX-i.offsetLeft,o.clk_y=e.pageY-i.offsetTop;setTimeout((function(){o.clk=o.clk_x=o.clk_y=null}),100)}function o(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}t.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(n){if(!this.length)return o("ajaxSubmit: skipping submit process - no element selected"),this;var a,r,s,l=this;"function"==typeof n?n={success:n}:void 0===n&&(n={}),a=n.type||this.attr2("method"),(s=(s="string"==typeof(r=n.url||this.attr2("action"))?t.trim(r):"")||window.location.href||"")&&(s=(s.match(/^([^#]+)/)||[])[1]),n=t.extend(!0,{url:s,success:t.ajaxSettings.success,type:a||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},n);var u={};if(this.trigger("form-pre-serialize",[this,n,u]),u.veto)return o("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(n.beforeSerialize&&!1===n.beforeSerialize(this,n))return o("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var c=n.traditional;void 0===c&&(c=t.ajaxSettings.traditional);var d,h=[],f=this.formToArray(n.semantic,h);if(n.data&&(n.extraData=n.data,d=t.param(n.data,c)),n.beforeSubmit&&!1===n.beforeSubmit(f,this,n))return o("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,n,u]),u.veto)return o("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var p=t.param(f,c);d&&(p=p?p+"&"+d:d),"GET"==n.type.toUpperCase()?(n.url+=(n.url.indexOf("?")>=0?"&":"?")+p,n.data=null):n.data=p;var m=[];if(n.resetForm&&m.push((function(){l.resetForm()})),n.clearForm&&m.push((function(){l.clearForm(n.includeHidden)})),!n.dataType&&n.target){var g=n.success||function(){};m.push((function(e){var i=n.replaceTarget?"replaceWith":"html";t(n.target)[i](e).each(g,arguments)}))}else n.success&&m.push(n.success);if(n.success=function(t,e,i){for(var a=n.context||this,o=0,r=m.length;o<r;o++)m[o].apply(a,[t,e,i||l,l])},n.error){var v=n.error;n.error=function(t,e,i){var a=n.context||this;v.apply(a,[t,e,i,l])}}if(n.complete){var b=n.complete;n.complete=function(t,e){var i=n.context||this;b.apply(i,[t,e,l])}}var _=t("input[type=file]:enabled",this).filter((function(){return""!==t(this).val()})).length>0,y="multipart/form-data",w=l.attr("enctype")==y||l.attr("encoding")==y,x=e.fileapi&&e.formdata;o("fileAPI :"+x);var C,k=(_||w)&&!x;!1!==n.iframe&&(n.iframe||k)?n.closeKeepAlive?t.get(n.closeKeepAlive,(function(){C=O(f)})):C=O(f):C=(_||w)&&x?function(e){for(var i=new FormData,o=0;o<e.length;o++)i.append(e[o].name,e[o].value);if(n.extraData){var r=function(e){var i,a,o=t.param(e,n.traditional).split("&"),r=o.length,s=[];for(i=0;i<r;i++)o[i]=o[i].replace(/\+/g," "),a=o[i].split("="),s.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return s}(n.extraData);for(o=0;o<r.length;o++)r[o]&&i.append(r[o][0],r[o][1])}n.data=null;var s=t.extend(!0,{},t.ajaxSettings,n,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});n.uploadProgress&&(s.xhr=function(){var e=t.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",(function(t){var e=0,i=t.loaded||t.position,a=t.total;t.lengthComputable&&(e=Math.ceil(i/a*100)),n.uploadProgress(t,i,a,e)}),!1),e});s.data=null;var l=s.beforeSend;return s.beforeSend=function(t,e){n.formData?e.data=n.formData:e.data=i,l&&l.call(this,t,e)},t.ajax(s)}(f):t.ajax(n),l.removeData("jqxhr").data("jqxhr",C);for(var S=0;S<h.length;S++)h[S]=null;return this.trigger("form-submit-notify",[this,n]),this;function O(e){var r,s,u,c,d,f,p,m,g,v,b,_,y=l[0],w=t.Deferred();if(w.abort=function(t){m.abort(t)},e)for(s=0;s<h.length;s++)r=t(h[s]),i?r.prop("disabled",!1):r.removeAttr("disabled");if((u=t.extend(!0,{},t.ajaxSettings,n)).context=u.context||u,d="jqFormIO"+(new Date).getTime(),u.iframeTarget?(v=(f=t(u.iframeTarget)).attr2("name"))?d=v:f.attr2("name",d):(f=t('<iframe name="'+d+'" src="'+u.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=f[0],m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";o("aborting upload... "+i),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(t){}f.attr("src",u.iframeSrc),m.error=i,u.error&&u.error.call(u.context,m,i,e),c&&t.event.trigger("ajaxError",[m,u,i]),u.complete&&u.complete.call(u.context,m,i)}},(c=u.global)&&0==t.active++&&t.event.trigger("ajaxStart"),c&&t.event.trigger("ajaxSend",[m,u]),u.beforeSend&&!1===u.beforeSend.call(u.context,m,u))return u.global&&t.active--,w.reject(),w;if(m.aborted)return w.reject(),w;(g=y.clk)&&(v=g.name)&&!g.disabled&&(u.extraData=u.extraData||{},u.extraData[v]=g.value,"image"==g.type&&(u.extraData[v+".x"]=y.clk_x,u.extraData[v+".y"]=y.clk_y));var x=1,C=2;function k(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){o("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){o("cannot get iframe.contentDocument: "+i),e=t.document}return e}var S=t("meta[name=csrf-token]").attr("content"),O=t("meta[name=csrf-param]").attr("content");function D(){var e=l.attr2("target"),i=l.attr2("action"),n=l.attr("enctype")||l.attr("encoding")||"multipart/form-data";y.setAttribute("target",d),a&&!/post/i.test(a)||y.setAttribute("method","POST"),i!=u.url&&y.setAttribute("action",u.url),u.skipEncodingOverride||a&&!/post/i.test(a)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(_=setTimeout((function(){b=!0,R(x)}),u.timeout));var r=[];try{if(u.extraData)for(var s in u.extraData)u.extraData.hasOwnProperty(s)&&(t.isPlainObject(u.extraData[s])&&u.extraData[s].hasOwnProperty("name")&&u.extraData[s].hasOwnProperty("value")?r.push(t('<input type="hidden" name="'+u.extraData[s].name+'">').val(u.extraData[s].value).appendTo(y)[0]):r.push(t('<input type="hidden" name="'+s+'">').val(u.extraData[s]).appendTo(y)[0]));u.iframeTarget||f.appendTo("body"),p.attachEvent?p.attachEvent("onload",R):p.addEventListener("load",R,!1),setTimeout((function t(){try{var e=k(p).readyState;o("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(t){o("Server abort: ",t," (",t.name,")"),R(C),_&&clearTimeout(_),_=void 0}}),15);try{y.submit()}catch(t){document.createElement("form").submit.apply(y)}}finally{y.setAttribute("action",i),y.setAttribute("enctype",n),e?y.setAttribute("target",e):l.removeAttr("target"),t(r).remove()}}O&&S&&(u.extraData=u.extraData||{},u.extraData[O]=S),u.forceSync?D():setTimeout(D,10);var E,M,$,T=50;function R(e){if(!m.aborted&&!$){if((M=k(p))||(o("cannot access response document"),e=C),e===x&&m)return m.abort("timeout"),void w.reject(m,"timeout");if(e==C&&m)return m.abort("server abort"),void w.reject(m,"error","server abort");if(M&&M.location.href!=u.iframeSrc||b){p.detachEvent?p.detachEvent("onload",R):p.removeEventListener("load",R,!1);var i,n="success";try{if(b)throw"timeout";var a="xml"==u.dataType||M.XMLDocument||t.isXMLDoc(M);if(o("isXml="+a),!a&&window.opera&&(null===M.body||!M.body.innerHTML)&&--T)return o("requeing onLoad callback, DOM not available"),void setTimeout(R,250);var r=M.body?M.body:M.documentElement;m.responseText=r?r.innerHTML:null,m.responseXML=M.XMLDocument?M.XMLDocument:M,a&&(u.dataType="xml"),m.getResponseHeader=function(t){return{"content-type":u.dataType}[t.toLowerCase()]},r&&(m.status=Number(r.getAttribute("status"))||m.status,m.statusText=r.getAttribute("statusText")||m.statusText);var s=(u.dataType||"").toLowerCase(),l=/(json|script|text)/.test(s);if(l||u.textarea){var d=M.getElementsByTagName("textarea")[0];if(d)m.responseText=d.value,m.status=Number(d.getAttribute("status"))||m.status,m.statusText=d.getAttribute("statusText")||m.statusText;else if(l){var h=M.getElementsByTagName("pre")[0],g=M.getElementsByTagName("body")[0];h?m.responseText=h.textContent?h.textContent:h.innerText:g&&(m.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==s&&!m.responseXML&&m.responseText&&(m.responseXML=A(m.responseText));try{E=j(m,s,u)}catch(t){n="parsererror",m.error=i=t||n}}catch(t){o("error caught: ",t),n="error",m.error=i=t||n}m.aborted&&(o("upload aborted"),n=null),m.status&&(n=m.status>=200&&m.status<300||304===m.status?"success":"error"),"success"===n?(u.success&&u.success.call(u.context,E,"success",m),w.resolve(m.responseText,"success",m),c&&t.event.trigger("ajaxSuccess",[m,u])):n&&(void 0===i&&(i=m.statusText),u.error&&u.error.call(u.context,m,n,i),w.reject(m,"error",i),c&&t.event.trigger("ajaxError",[m,u,i])),c&&t.event.trigger("ajaxComplete",[m,u]),c&&!--t.active&&t.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,m,n),$=!0,u.timeout&&clearTimeout(_),setTimeout((function(){u.iframeTarget?f.attr("src",u.iframeSrc):f.remove(),m.responseXML=null}),100)}}}var A=t.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},F=t.parseJSON||function(t){return window.eval("("+t+")")},j=function(e,i,n){var a=e.getResponseHeader("content-type")||"",o="xml"===i||!i&&a.indexOf("xml")>=0,r=o?e.responseXML:e.responseText;return o&&"parsererror"===r.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(r=n.dataFilter(r,i)),"string"==typeof r&&("json"===i||!i&&a.indexOf("json")>=0?r=F(r):("script"===i||!i&&a.indexOf("javascript")>=0)&&t.globalEval(r)),r};return w}},t.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&t.isFunction(t.fn.on),!e.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!t.isReady&&i.s?(o("DOM not ready, queuing ajaxForm"),t((function(){t(i.s,i.c).ajaxForm(e)})),this):(o("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return e.delegation?(t(document).off("submit.form-plugin",this.selector,n).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,e,n).on("click.form-plugin",this.selector,e,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,n).bind("click.form-plugin",e,a)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(i,n){var a=[];if(0===this.length)return a;var o,r,s,l,u,c,d,h,f=this[0],p=this.attr("id"),m=i?f.getElementsByTagName("*"):f.elements;if(m&&!/MSIE [678]/.test(navigator.userAgent)&&(m=t(m).get()),p&&(o=t(":input[form="+p+"]").get()).length&&(m=(m||[]).concat(o)),!m||!m.length)return a;for(r=0,d=m.length;r<d;r++)if((l=(c=m[r]).name)&&!c.disabled)if(i&&f.clk&&"image"==c.type)f.clk==c&&(a.push({name:l,value:t(c).val(),type:c.type}),a.push({name:l+".x",value:f.clk_x},{name:l+".y",value:f.clk_y}));else if((u=t.fieldValue(c,!0))&&u.constructor==Array)for(n&&n.push(c),s=0,h=u.length;s<h;s++)a.push({name:l,value:u[s]});else if(e.fileapi&&"file"==c.type){n&&n.push(c);var g=c.files;if(g.length)for(s=0;s<g.length;s++)a.push({name:l,value:g[s],type:c.type});else a.push({name:l,value:"",type:c.type})}else null!=u&&(n&&n.push(c),a.push({name:l,value:u,type:c.type,required:c.required}));if(!i&&f.clk){var v=t(f.clk),b=v[0];(l=b.name)&&!b.disabled&&"image"==b.type&&(a.push({name:l,value:v.val()}),a.push({name:l+".x",value:f.clk_x},{name:l+".y",value:f.clk_y}))}return a},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each((function(){var n=this.name;if(n){var a=t.fieldValue(this,e);if(a&&a.constructor==Array)for(var o=0,r=a.length;o<r;o++)i.push({name:n,value:a[o]});else null!=a&&i.push({name:this.name,value:a})}})),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,a=this.length;n<a;n++){var o=this[n],r=t.fieldValue(o,e);null==r||r.constructor==Array&&!r.length||(r.constructor==Array?t.merge(i,r):i.push(r))}return i},t.fieldValue=function(e,i){var n=e.name,a=e.type,o=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!e.checked||("submit"==a||"image"==a)&&e.form&&e.form.clk!=e||"select"==o&&-1==e.selectedIndex))return null;if("select"==o){var r=e.selectedIndex;if(r<0)return null;for(var s=[],l=e.options,u="select-one"==a,c=u?r+1:l.length,d=u?r:0;d<c;d++){var h=l[d];if(h.selected){var f=h.value;if(f||(f=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),u)return f;s.push(f)}}return s}return t(e).val()},t.fn.clearForm=function(e){return this.each((function(){t("input,select,textarea",this).clearFields(e)}))},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var n=this.type,a=this.tagName.toLowerCase();i.test(n)||"textarea"==a?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==a?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")}))},t.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each((function(){this.disabled=!t}))},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each((function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}}))},t.fn.ajaxSubmit.debug=!1})?n.apply(e,a):n)||(t.exports=o)}()},155:function(t,e,i){var n,a,o;a=[i(5)],void 0===(o="function"==typeof(n=function(t){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1},e.prototype.option=function(e){t.extend(this.options,e)},e.prototype.imageCountLabel=function(t,e){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,e)},e.prototype.init=function(){this.enable(),this.build()},e.prototype.enable=function(){var e=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",(function(i){return e.start(t(i.currentTarget)),!1}))},e.prototype.build=function(){var e=this;t('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",(function(){return e.end(),!1})),this.$lightbox.hide().on("click",(function(i){return"lightbox"===t(i.target).attr("id")&&e.end(),!1})),this.$outerContainer.on("click",(function(i){return"lightbox"===t(i.target).attr("id")&&e.end(),!1})),this.$lightbox.find(".lb-prev").on("click",(function(){return 0===e.currentImageIndex?e.changeImage(e.album.length-1):e.changeImage(e.currentImageIndex-1),!1})),this.$lightbox.find(".lb-next").on("click",(function(){return e.currentImageIndex===e.album.length-1?e.changeImage(0):e.changeImage(e.currentImageIndex+1),!1})),this.$lightbox.find(".lb-loader, .lb-close").on("click",(function(){return e.end(),!1}))},e.prototype.start=function(e){function i(t){n.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var n=this,a=t(window);a.on("resize",t.proxy(this.sizeOverlay,this)),t("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var o,r=0,s=e.attr("data-lightbox");if(s){o=t(e.prop("tagName")+'[data-lightbox="'+s+'"]');for(var l=0;l<o.length;l=++l)i(t(o[l])),o[l]===e[0]&&(r=l)}else if("lightbox"===e.attr("rel"))i(e);else{o=t(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var u=0;u<o.length;u=++u)i(t(o[u])),o[u]===e[0]&&(r=u)}var c=a.scrollTop()+this.options.positionFromTop,d=a.scrollLeft();this.$lightbox.css({top:c+"px",left:d+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("body").addClass("lb-disable-scrolling"),this.changeImage(r)},e.prototype.changeImage=function(e){var i=this;this.disableKeyboardNav();var n=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var a=new Image;a.onload=function(){var o,r,s,l,u,c;n.attr("src",i.album[e].link),t(a),n.width(a.width),n.height(a.height),i.options.fitImagesInViewport&&(c=t(window).width(),u=t(window).height(),l=c-i.containerLeftPadding-i.containerRightPadding-20,s=u-i.containerTopPadding-i.containerBottomPadding-120,i.options.maxWidth&&i.options.maxWidth<l&&(l=i.options.maxWidth),i.options.maxHeight&&i.options.maxHeight<l&&(s=i.options.maxHeight),(a.width>l||a.height>s)&&(a.width/l>a.height/s?(r=l,o=parseInt(a.height/(a.width/r),10),n.width(r),n.height(o)):(o=s,r=parseInt(a.width/(a.height/o),10),n.width(r),n.height(o)))),i.sizeContainer(n.width(),n.height())},a.src=this.album[e].link,this.currentImageIndex=e},e.prototype.sizeOverlay=function(){this.$overlay.width(t(document).width()).height(t(document).height())},e.prototype.sizeContainer=function(t,e){function i(){n.$lightbox.find(".lb-dataContainer").width(r),n.$lightbox.find(".lb-prevLink").height(s),n.$lightbox.find(".lb-nextLink").height(s),n.showImage()}var n=this,a=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),r=t+this.containerLeftPadding+this.containerRightPadding,s=e+this.containerTopPadding+this.containerBottomPadding;a!==r||o!==s?this.$outerContainer.animate({width:r,height:s},this.options.resizeDuration,"swing",(function(){i()})):i()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",(function(e){void 0!==t(this).attr("target")?window.open(t(this).attr("href"),t(this).attr("target")):location.href=t(this).attr("href")})),this.album.length>1&&this.options.showImageNumberLabel){var i=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(i).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,(function(){return e.sizeOverlay()}))},e.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},e.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},e.prototype.keyboardAction=function(t){var e=t.keyCode,i=String.fromCharCode(e).toLowerCase();27===e||i.match(/x|o|c/)?this.end():"p"===i||37===e?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===i||39===e)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&t("body").removeClass("lb-disable-scrolling")},new e})?n.apply(e,a):n)||(t.exports=o)},156:function(t,e,i){(function(){var t,e,i,n,a={}.hasOwnProperty;(n=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,a,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),r=[],n=0,a=(o=t.childNodes).length;n<a;n++)i=o[n],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t.prototype.escapeExpression=function(t){var e,i;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,(function(t){return e[t]||"&amp;"}))):t},t}()).select_to_array=function(t){var e,i,a,o,r;for(i=new n,a=0,o=(r=t.childNodes).length;a<o;a++)e=r[a],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout((function(){return e.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout((function(){return e.blur_test()}),100)},t.prototype.results_option_build=function(t){var e,i,n,a,o;for(e="",n=0,a=(o=this.results_data).length;n<a;n++)(i=o[n]).group?e+=this.result_add_group(i):e+=this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li class="'+e.join(" ")+'"'+i+' data-option-array-index="'+t.array_index+'">'+t.search_text+"</li>"):""},t.prototype.result_add_group=function(t){return(t.search_match||t.group_match)&&t.active_options>0?'<li class="group-result">'+t.search_text+"</li>":""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.stringEscaped=function(t){for(var e=[{val:"A",let:"(A|À|Á|Â|Ã|Ä|Å|Ǻ|Ā|Ă|Ą|Ǎ)"},{val:"a",let:"(a|à|á|â|ã|å|ǻ|ā|ă|ą|ǎ|ª)"},{val:"C",let:"(C|Ç|Ć|Ĉ|Ċ|Č)"},{val:"c",let:"(c|ç|ć|ĉ|ċ|č)"},{val:"D",let:"(D|Ð|Ď|Đ)"},{val:"d",let:"(d|ð|ď|đ)"},{val:"E",let:"(E|È|É|Ê|Ë|Ē|Ĕ|Ė|Ę|Ě)"},{val:"e",let:"(e|è|é|ê|ë|ē|ĕ|ė|ę|ě)"},{val:"G",let:"(G|Ĝ|Ğ|Ġ|Ģ)"},{val:"g",let:"(g|ĝ|ğ|ġ|ģ)"},{val:"H",let:"(H|Ĥ|Ħ)"},{val:"h",let:"(h|ĥ|ħ)"},{val:"I",let:"(I|Ì|Í|Î|Ï|Ĩ|Ī|Ĭ|Ǐ|Į|İ)"},{val:"i",let:"(i|ì|í|î|ï|ĩ|ī|ĭ|ǐ|į|ı)"},{val:"J",let:"(J|Ĵ)"},{val:"j",let:"(j|ĵ)"},{val:"K",let:"(K|Ķ)"},{val:"k",let:"(k|ķ)"},{val:"L",let:"(L|Ĺ|Ļ|Ľ|Ŀ|Ł)"},{val:"l",let:"(l|ĺ|ļ|ľ|ŀ|ł)"},{val:"N",let:"(N|Ñ|Ń|Ņ|Ň)"},{val:"n",let:"(n|ñ|ń|ņ|ň|ŉ)"},{val:"O",let:"(O|Ò|Ó|Ô|Õ|Ō|Ŏ|Ǒ|Ő|Ơ|Ø|Ǿ)"},{val:"o",let:"(o|ò|ó|ô|õ|ō|ŏ|ǒ|ő|ơ|ø|ǿ|º)"},{val:"R",let:"(R|Ŕ|Ŗ|Ř)"},{val:"r",let:"(r|ŕ|ŗ|ř)"},{val:"S",let:"(S|Ś|Ŝ|Ş|Š)"},{val:"s",let:"(s|ś|ŝ|ş|š|ſ)"},{val:"T",let:"(T|Ţ|Ť|Ŧ)"},{val:"t",let:"(t|ţ|ť|ŧ)"},{val:"U",let:"(U|Ù|Ú|Û|Ũ|Ū|Ŭ|Ů|Ű|Ų|Ư|Ǔ|Ǖ|Ǘ|Ǚ|Ǜ)"},{val:"u",let:"(u|ù|ú|û|ũ|ū|ŭ|ů|ű|ų|ư|ǔ|ǖ|ǘ|ǚ|ǜ)"},{val:"Y",let:"(Y|Ý|Ÿ|Ŷ)"},{val:"y",let:"(y|ý|ÿ|ŷ)"},{val:"W",let:"(W|Ŵ)"},{val:"w",let:"(w|ŵ)"},{val:"Z",let:"(Z|Ź|Ż|Ž)"},{val:"z",let:"(z|ź|ż|ž)"},{val:"f",let:"(f|ƒ)"}],i=0;i<e.length;i++)t=(t=t.replace(new RegExp(e[i].let,"g"),e[i].val)).replace(new RegExp(e[i].val,"g"),e[i].let);return t},t.prototype.winnow_results=function(){var t,e,i,n,a,o,r,s,l,u,c,d;for(this.no_results_clear(),i=0,a=this.get_search_text(),u=this.results_data,c=a.split(" "),e=a.split(" "),_s=0,_lens=c.length;_s<_lens;_s++)e[_s]=new RegExp(this.stringEscaped(c[_s]),"i");for(s=0,l=u.length;s<l;s++)if((t=u[s]).search_match=!1,n=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(0===(n=this.results_data[t.group_array_index]).active_options&&n.search_match&&(i+=1),n.active_options+=1),!t.group||this.group_search)){for(t.search_text=t.group?t.label:t.html,d=0,_s=0,_lens=e.length;_s<_lens;_s++)t.search_match=this.search_string_match(t.search_text,e[_s]),t.search_match&&!t.group&&(d+=1),d==_lens?i+=1:t.search_match=null;if(t.search_match){if(a.length)for(_s=0,_lens=c.length;_s<_lens;_s++)o=t.search_text.search(e[_s]),r=t.search_text.substr(0,o+c[_s].length)+"</em>"+t.search_text.substr(o+c[_s].length),t.search_text=r.substr(0,o)+"<em>"+r.substr(o);null!=n&&(n.group_match=!0)}else null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)}return this.result_clear_highlight(),i<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.search_string_match=function(t,e){var i,n,a,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))){if((n=t.replace(/\[|\]/g,"").split(" ")).length)for(a=0,o=n.length;a<o;a++)if(i=n[a],e.test(i))return!0;return!1}},t.prototype.choices_count=function(){var t,e,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=0,e=(i=this.form_field.options).length;t<e;t++)i[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!!/iP(od|hone)/i.test(window.navigator.userAgent)||(/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent),!0)},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),(t=jQuery).fn.extend({chosen:function(n){return e.browser_is_supported()?this.each((function(e){var a,o;o=(a=t(this)).data("chosen"),"destroy"===n&&o?o.destroy():o||a.data("chosen",new i(this,n))})):this}}),i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",(function(e){t.container_mousedown(e)})),this.container.bind("mouseup.chosen",(function(e){t.container_mouseup(e)})),this.container.bind("mouseenter.chosen",(function(e){t.mouse_enter(e)})),this.container.bind("mouseleave.chosen",(function(e){t.mouse_leave(e)})),this.search_results.bind("mouseup.chosen",(function(e){t.search_results_mouseup(e)})),this.search_results.bind("mouseover.chosen",(function(e){t.search_results_mouseover(e)})),this.search_results.bind("mouseout.chosen",(function(e){t.search_results_mouseout(e)})),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",(function(e){t.search_results_mousewheel(e)})),this.form_field_jq.bind("chosen:updated.chosen",(function(e){t.results_update_field(e)})),this.form_field_jq.bind("chosen:activate.chosen",(function(e){t.activate_field(e)})),this.form_field_jq.bind("chosen:open.chosen",(function(e){t.container_mousedown(e)})),this.search_field.bind("blur.chosen",(function(e){t.input_blur(e)})),this.search_field.bind("keyup.chosen",(function(e){t.keyup_checker(e)})),this.search_field.bind("keydown.chosen",(function(e){t.keydown_checker(e)})),this.search_field.bind("focus.chosen",(function(e){t.input_focus(e)})),this.is_multiple?this.search_choices.bind("click.chosen",(function(e){t.choices_click(e)})):this.container.bind("click.chosen",(function(t){t.preventDefault()}))},i.prototype.destroy=function(){return t(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e,i,n;if(null!=(e=-(null!=(i=t.originalEvent)?i.wheelDelta:void 0)||(null!=(n=t.originialEvent)?n.detail:void 0)))return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},i.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return t(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){return this.container.is(t(e.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,n,a,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),a=(n=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop()),(e=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=a)return this.search_results.scrollTop(e-n>0?e-n:0);if(i<o)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},i.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",(function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}))},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;if((i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first()).length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},i.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(e){var i,n,a=this;return i=t("<li />",{class:"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?i.addClass("search-choice-disabled"):((n=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).bind("click.chosen",(function(t){return a.choice_destroy_link_click(t)})),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.reset_single_select_options=function(){var t,e,i,n,a;for(a=[],t=0,e=(i=this.results_data).length;t<e;t++)(n=i[t]).selected?a.push(n.selected=!1):a.push(void 0);return a},i.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(i=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},i.prototype.no_results=function(e){var i;return(i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(e),this.search_results.append(i)},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,n,a,o,r,s,l;if(this.is_multiple){for(0,r=0,a="position:absolute; left: -1000px; top: -1000px; display:none;",s=0,l=(o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;s<l;s++)a+=(n=o[s])+":"+this.search_field.css(n)+";";return(e=t("<div />",{style:a})).text(this.search_field.val()),t("body").append(e),r=e.width()+25,e.remove(),r>(i=this.container.outerWidth())-10&&(r=i-10),this.search_field.css({width:r+"px"})}},i}(e)}).call(this)},157:function(t,e){(function(){var t,e,i=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},n={}.hasOwnProperty;e=function(){var t;function e(){}return t={invalid_select_element:"ChosenOrder::{{function}}: first argument must be a valid HTML Multiple Select element that has been Chosenified!",invalid_selection_array:"ChosenOrder::{{function}}: second argument must be an Array!",unreachable_chosen_container:'ChosenOrder::{{function}}: could not find the Chosen UI container! To solve the problem, try adding an "id" attribute to your <select> element.',ordering_unselected_option:"ChosenOrder::{{function}}: ignoring option '{{option}}' which is not selected. Set optional parameter \"force\" to 'true' to get the ordered selection forced first."},e.insertAt=function(t,e,i){return i.insertBefore(t,i.children[e].nextSibling)},e.getFlattenedOptionsAndGroups=function(t){var e,i,n,a,o,r,s,l,u;for(e=[],r=0,l=(n=Array.prototype.filter.call(t.childNodes,(function(t){var e;return"OPTION"===(e=t.nodeName.toUpperCase())||"OPTGROUP"===e}))).length;r<l;r++)if(i=n[r],e.push(i),"OPTGROUP"===i.nodeName.toUpperCase())for(s=0,u=(o=Array.prototype.filter.call(i.childNodes,(function(t){return"OPTION"===t.nodeName.toUpperCase()}))).length;s<u;s++)a=o[s],e.push(a);return e},e.isValidMultipleSelectElement=function(t){return null!=t&&"SELECT"===t.nodeName&&t.multiple},e.getChosenUIContainer=function(t){return""!==t.id?document.getElementById(t.id.replace(/-/g,"_")+"_chosen"):this.searchChosenUIContainer(t)},e.isChosenified=function(t){return null!=this.getChosenUIContainer(t)},e.forceSelection=function(t,e){var n,a,o,r;for(o=this.getFlattenedOptionsAndGroups(t),n=0;n<o.length;)r=(a=o[n]).getAttribute("value"),i.call(e,r)>=0?(a.selected=!0,a.setAttribute("selected","")):(a.selected=!1,a.removeAttribute("selected")),n++;return this.triggerEvent(t,"chosen:updated")},e.getSelectionOrder=function(e){var i,n,a,o,r,s,l,u,c;if(null!=this.getDOMElement&&(e=this.getDOMElement(e)),s=[],!this.isValidMultipleSelectElement(e))return console.error(t.invalid_select_element.replace("{{function}}","getSelectionOrder")),s;if(null==(n=this.getChosenUIContainer(e)))return console.error(t.unreachable_chosen_container.replace("{{function}}","getSelectionOrder")),s;for(i=n.querySelectorAll(".search-choice"),r=this.getFlattenedOptionsAndGroups(e),u=0,c=i.length;u<c;u++)null!=(a=i[u].querySelectorAll(".search-choice-close")[0])&&(l=a.getAttribute(this.relAttributeName)),o=r[l],s.push(o.value);return s},e.setSelectionOrder=function(e,i,n){var a,o,r,s,l,u,c,d,h,f,p,m,g,v;if(null!=this.getDOMElement&&(e=this.getDOMElement(e)),this.isValidMultipleSelectElement(e)){if(null!=(o=this.getChosenUIContainer(e))){if(i instanceof Array){for(i=i.map(Function.prototype.call,String.prototype.trim),c=this.getFlattenedOptionsAndGroups(e),null!=n&&!0===n&&this.forceSelection(e,i),v=[],r=f=0,m=i.length;f<m;r=++f){for(l=i[r],d=null,s=p=0,g=c.length;p<g;s=++p)c[s].value===l&&(d=s);a=o.querySelectorAll(".search-choice"),h=this.relAttributeName,null!=(u=Array.prototype.filter.call(a,(function(t){return null!=t.querySelector("a.search-choice-close["+h+'="'+d+'"]')}))[0])?(o.querySelector("ul.chosen-choices"),v.push(this.insertAt(u,r,o.querySelector("ul.chosen-choices")))):console.warn(t.ordering_unselected_option.replace("{{function}}","setSelectionOrder").replace("{{option}}",l))}return v}return console.error(t.invalid_selection_array.replace("{{function}}","setSelectionOrder"))}console.error(t.unreachable_chosen_container.replace("{{function}}","setSelectionOrder"))}else console.error(t.invalid_select_element.replace("{{function}}","setSelectionOrder"))},e}(),(t=jQuery).fn.extend({getSelectionOrder:function(){return a.getSelectionOrder(this)},setSelectionOrder:function(t,e){return a.setSelectionOrder(this,t,e)}});var a=this.ChosenOrder=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function a(){this.constructor=t}a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype}(i,e),i.relAttributeName="data-option-array-index",i.isjQueryObject=function(t){return"undefined"!=typeof jQuery&&null!==jQuery&&t instanceof jQuery},i.getDOMElement=function(t){return this.isjQueryObject(t)?t.get(0):t},i.searchChosenUIContainer=function(e){return null!=t(e).data("chosen")?t(e).data("chosen").container[0]:t(e).next(".chosen-container.chosen-container-multi").get(0)},i.triggerEvent=function(e,i){return t(e).trigger(i)},i}(e)}).call(this)},158:function(t,e){jQuery.fn.ckEditors=function(){if(this.length<0)return this;$(this).each((function(){var t=this;$(this).hasClass("js_editor")&&!$(this).hasClass("editor_replaced")&&($(this).addClass("editor_replaced"),CKEDITOR.config.height=$(this).attr("data-height")?$(this).attr("data-height"):"250px",CKEDITOR.replace($(this).attr("id")).on("instanceReady",(function(){$(t).removeClass("js_editor")})))}))},jQuery.fn.firstLevelForm=function(t){return $(this).filter((function(){return $(this).parents("form")[0]==t}))}},159:function(t,e){var i,n,a;i={},n={},a={},window.startTest=function(t){var e;try{throw new Error}catch(t){e=t.stack.split("\n")[2].trim().split(" ")[1]}return e in i||(i[e]=0,n[e]=0),n[e]++,{name:e,t:(new Date).getTime()}},window.endTest=function(t){i[t.name]+=(new Date).getTime()-t.t,a[t.name]&&clearTimeout(a[t.name]),a[t.name]=setTimeout((function(){console.log(n[t.name]+"x "+t.name+" "+i[t.name]/1e6+"s"),n[t.name]=0,i[t.name]=0}),100)}},161:function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,i,n){var a=e&&e.prototype instanceof m?e:m,o=Object.create(a.prototype),r=new D(n||[]);return o._invoke=function(t,e,i){var n=c;return function(a,o){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===a)throw o;return M()}for(i.method=a,i.arg=o;;){var r=i.delegate;if(r){var s=k(r,i);if(s){if(s===p)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===c)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=h;var l=u(t,e,i);if("normal"===l.type){if(n=i.done?f:d,l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=f,i.method="throw",i.arg=l.arg)}}}(t,i,r),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c="suspendedStart",d="suspendedYield",h="executing",f="completed",p={};function m(){}function g(){}function v(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,y=_&&_(_(E([])));y&&y!==i&&n.call(y,o)&&(b=y);var w=v.prototype=m.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function C(t){var e;this._invoke=function(i,a){function o(){return new Promise((function(e,o){!function e(i,a,o,r){var s=u(t[i],t,a);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,o,r)}),(function(t){e("throw",t,o,r)})):Promise.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return e("throw",t,o,r)}))}r(s.arg)}(i,a,e,o)}))}return e=e?e.then(o,o):o()}}function k(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,k(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=u(n,t.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,p;var o=a.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function E(t){if(t){var i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function i(){for(;++a<t.length;)if(n.call(t,a))return i.value=t[a],i.done=!1,i;return i.value=e,i.done=!0,i};return r.next=r}}return{next:M}}function M(){return{value:e,done:!0}}return g.prototype=w.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(C.prototype),C.prototype[r]=function(){return this},t.AsyncIterator=C,t.async=function(e,i,n,a){var o=new C(l(e,i,n,a));return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=E,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function a(n,a){return s.type="throw",s.arg=t,i.next=n,a&&(i.method="next",i.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(l&&u){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var a=n.arg;O(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:E(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},162:function(t,e,i){"use strict";var n=i(170);i.n(n).a},163:function(t,e,i){"use strict";var n=i(175);i.n(n).a},164:function(t,e,i){"use strict";var n=i(177);i.n(n).a},165:function(t,e,i){"use strict";var n=i(181);i.n(n).a},166:function(t,e,i){"use strict";var n=i(183);i.n(n).a},167:function(t,e,i){"use strict";i.r(e);var n=i(7),a=i(140),o=i(141),r={methods:{asset:function(t){return window.crudadmin.admin_assets+"/"+t},isMobileDevice:function(){return $(window).width()<768},isTabletDevice:function(){return $(window).width()<1200}}};function s(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=function(t,e,i){if(["getParentRow"].indexOf(t)>-1){var n=i.$parent.depth_level||i.$parent.$parent.depth_level;if(void 0!==e.depth_level&&e.depth_level>n)return!1}return!0},c=function(t,e,i){return"sendParentRow"==t&&(e={depth_level:i.$parent.depth_level}),e},d={methods:{getLangName:function(t){return"object"==l(t.name)?t.name[Object.keys(t.name)[0]]:t.name},generateUuid:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))},getModelBuilder:function(t,e){var i=this.$parent;for(e="$parent"===t?this.model.slug:null,t="$parent"===t?null:t;i&&("model-builder"!=i.$options.name||t&&i.model.slug!=t||e&&i.model.slug===e);)i=i.$parent;return!t||i&&i.model.slug==t?i:(console.error('Model with table name "'+t+'" does not exists in parents tree of models'),null)},registerFieldComponents:function(t,e,i){if(e&&i in e){for(var n=e[i].split(","),a=null,o=0;o<n.length;o++){var r,s=n[o].toLowerCase(),l=t.components[s];if(l){try{r=this.getComponentObject(l)}catch(t){console.error("Syntax error in component "+n[o]+".Vue\n",t);continue}a?("components"in a||(a.components={}),a.components[n[o]]=r):a=r}}a&&Vue.component(this.componentName(t,e[i]),a)}},componentName:function(t,e){if(e){var i,n,a=e.split(",").filter((function(t){return t})),o=a[0].toLowerCase();return(i=o in t.components?o:a[0])&&(n=this.isGlobalComponent(i))&&this.getComponentObject(n),i}},isGlobalComponent:function(t){var e=Vue.options.components[t];return!(!e||!e.options)&&e.options},getComponentObject:function(t){var e;if("string"==typeof t)try{e=new Function("return "+t)()}catch(i){e=this.isGlobalComponent(t)}else"object"==l(t)&&(e=t);if(!e||1==e.$CA)return e||null;e.$CA=!0,e.template||e.__file||(e.template="<div></div>"),e.ready&&!e.mounted&&(e.mounted=e.ready),e.created=_.castArray(e.created),e.destroyed=_.castArray(e.destroyed);var i=["sendRow","sendParentRow","reloadRows"],n=["getRow","getParentRow","onCreate","onUpdate","onDelete","onSubmit","buttonAction","changeFormSaveState"],a={};return e.created=[function(){var t=this;for(var e in i)!function(e){t.$on(e,a[e]=function(i){eventHub.$emit(e,c(e,i,t))})}(i[e]);for(var e in n)!function(e){eventHub.$on(e,a[e]=function(i){u(e,i,t)&&t.$emit(e,i)})}(n[e])}].concat(s(e.created)).filter((function(t){return t})),e.destroyed=[function(){for(var t in n)e=n[t],eventHub.$off(e,a[e]);var e}].concat(s(e.destroyed)).filter((function(t){return t})),e},getLocaleFieldValue:function(t,e){if(_.isNil(e)&&(e=this.$root.languages.length?this.$root.languages[0].slug:null),t&&"object"===l(t)){if(e in t&&(t[e]||0==t[e]))t=t[e];else for(var i in t)if(t[i]||0===t[i]){t=t[i];break}"object"==l(t)&&(t="")}return t}}},h={methods:{openAlert:function(t,e,i,n,a,o){return i||(i="success"),"error"==i&&(i="danger"),this.$root.alert.type=i,this.$root.alert.title=t,this.$root.alert.message=e,this.$root.alert.success=n,this.$root.alert.close=a,this.$root.alert.opened=(new Date).getTime(),this.$root.alert.component=o,"activeElement"in document&&document.activeElement.blur(),this.$root.alert},errorAlert:function(t){this.openAlert(this.trans("warning"),this.trans("unknown-error"),"danger",null,t||function(){})}}},f=function(t){t.prototype.showTab=function(t){if(-1!==this.hidden_tabs.indexOf(t)){var e=_.cloneDeep(this.hidden_tabs);e.splice(this.hidden_tabs.indexOf(t),1),this.hidden_tabs=e}},t.prototype.hideTab=function(t){-1===this.hidden_tabs.indexOf(t)&&(this.hidden_tabs=_.cloneDeep(this.hidden_tabs).concat(t))},t.prototype.setTabVisibility=function(t,e){!0===e?this.showTab(t):this.hideTab(t)}},p=function(t){t.prototype.showGroup=function(t){-1!==this.hidden_groups.indexOf(t)&&this.hidden_groups.splice(this.hidden_groups.indexOf(t),1)},t.prototype.hideGroup=function(t){-1===this.hidden_groups.indexOf(t)&&this.hidden_groups.push(t)},t.prototype.setGroupVisibility=function(t,e){!0===e?this.showGroup(t):this.hideGroup(t)}};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var g=function(t){t.prototype.hideFromForm=function(t,e){Vue.set(this.fields[t],"hideFromForm",e)},t.prototype.removeFromForm=function(t,e){Vue.set(this.fields[t],"removeFromForm",e)},t.prototype.optionsFilter=function(t,e){this.fields[t].optionsFilter=e},t.prototype.getOptionValue=function(t,e){var i=this.fields[t].options.filter((function(t){return t[0]==e}))[0];return _.isNil(i)?null:i[1]},t.prototype.isMatchedAttributesValues=function(t,e,i){var n=(t||"").split(","),a=n[0].split("."),o=this.fields[a[0]]||this.fields[a[0]+"_id"],r=o?o.value:i[a[0]];if(n=n.map((function(t){var e=t;return e=_.isNil(t)||["","NULL"].indexOf(t)>-1?null:e,e=["TRUE"].indexOf(t)>-1||e,e=!(["FALSE"].indexOf(t)>-1)&&e})),o&&a.length>1){var s=o.options,l=_.find(s,(function(t){return t[0]==r}));if(e){if(l&&n.slice(1).filter((function(t){return t==l[1][a[1]]})).length>0)return!0}else if(l&&l[1][a[1]]===n[1])return!0;return!1}return(_.isNil(r)||""===r)&&(r=null),e?n.slice(1).filter((function(t){return _.isArray(r)?r.indexOf(t)>-1:t==r})).length>0:_.isArray(r)&&1==r.length?Object.values(r)[0]==n[1]:r==n[1]},t.prototype.tryAttribute=function(t,e,i){var n;if(n=t[e]){if(!0===n)return!0;if(!1===n)return!1}return(n=t[e+"If"])?this.isMatchedAttributesValues(n,!1,i):(n=t[e+"IfIn"])?this.isMatchedAttributesValues(n,!0,i):(n=t[e+"IfNot"])?!this.isMatchedAttributesValues(n,!1,i):!!(n=t[e+"IfNotIn"])&&!this.isMatchedAttributesValues(n,!0,i)},t.prototype.getFilterBy=function(t){var e=this.fields[t];if(!(e&&"filterBy"in e))return null;var i,n=e.filterBy.split(",");return this.fields[i=n[0]+"_id"]||this.fields[i=n[0]],n[0]=i,n},t.prototype.isFieldMultiple=function(t){var e=this.fields[t];if(e)return e.multiple&&!0===e.multiple||"belongsToMany"in e},t.prototype.changeValueFromInput=function(t,e,i,n,a){var o=this.fields[t];if(!o.confirmation){i=e?e.target.value:i;if("checkbox"==o.type&&(i=e?e.target.checked:i),"locale"in o){var r="object"===m(o.value)&&o.value||{};$app.$set(r,a,i),i=r}1!=n&&(o.value=i);$app.$set(this.getRow(),t,i)}},t.prototype.pushOption=function(t,e,i){var n=this.fields[t],a=this.getRow();if(n&&"select"===n.type)if("store"==i){var o=this.getFilterBy(t);o&&a[o[0]]&&(e[o[1]]=a[o[0]]),n.options.unshift([e.id,e]),this.isFieldMultiple(t)?(n.value?n.value.push(e.id):n.value=[e.id],this.changeValueFromInput(t,null,n.value,!1)):this.changeValueFromInput(t,null,e.id)}else if("update"==i){for(var r=0;r<n.options.length;r++)if(n.options[r][0]==e.id)for(var s in e)n.options[r][1][s]=e[s]}else if("delete"==i)for(var s in this.isFieldMultiple(t)?$.isArray(n.value)&&(n.value.splice(n.value.indexOf(e),1),this.changeValueFromInput(t,null,n.value,!1)):n.value==e&&this.changeValueFromInput(t,null,null),n.options)if(n.options[s][0]==e){n.options.splice(s,1);break}},t.prototype.hasLocaleFields=function(){for(var t in this.fields){if(1==this.fields[t].locale)return!0;var e=this.fields[t].options;if(e&&e[0]&&"object"==m(e[0][1])&&null!==e[0][1]&&"language_id"in e[0][1]==1)return!0}return!1}},v=i(1),b=i.n(v),y=function(t){t.prototype.addScope=function(t,e){this.removeScope(t),this.getData("scopes").push({key:t,params:e})},t.prototype.setScope=function(t,e){this.addScope(t,e)},t.prototype.removeScope=function(t){var e=this.getData("scopes"),i=b.a.findIndex(e,{key:t});i>-1&&e.splice(i,1)},t.prototype.isInParent=function(){return!0===this.inParent},t.prototype.isSingle=function(){return 1==this.minimum&&1==this.maximum||!0===this.single},t.prototype.formPrefix=function(){return this.isInParent()?"$"+this.table+"_":""},t.prototype.hasAccess=function(t){return!0===this.permissions[t]},t.prototype.getModelProperty=function(t,e){return b.a.get(this,t,e)},t.prototype.getSettings=function(t,e){return this.getModelProperty("settings."+t,e)},t.prototype.setSettings=function(t,e){return b.a.set(this.settings,t,e),this},t.prototype.isSettingEnabled=function(t,e){var i=this.getSettings(t+".enabled"),n=this.getSettings(t+".disabled");return b.a.isNil(i)?b.a.isNil(n)?!!b.a.isNil(e)||e:!1===n:!0===i},t.prototype.isSettingDisabled=function(t,e){var i=this.getSettings(t+".enabled"),n=this.getSettings(t+".disabled");return b.a.isNil(i)?b.a.isNil(n)?!b.a.isNil(e)&&e:!0===n:!1===i},t.prototype.fieldName=function(t){if(t in this.fields)return this.fields[t].column_name||this.getSettings("columns."+t+".name")||this.fields[t].name;switch(t){case"id":return trans("number");case"created_at":return trans("created");case"updated_at":return trans("updated");default:return t}}},w={column:null,query:null,query_to:null,interval:!1},x=function(t){return{uuid:$app.generateUuid(),depth_level:0,tree:[],row:{},rows:{data:[],buttons:{},count:0,loaded:!1,save_children:[]},sizes:{},formOpened:!1,loadingRow:!1,orderBy:[],draggind:!1,selected_language_id:null,registered_components:[],form:null,activetab:null,langid:null,searching:!1,parentActiveGridSize:null,default_columns:[],enabled_columns:null,progress:!1,button_loading:!1,modelOptions:{},scopes:[],hasparentmodel:null,parentrow:null,pagination:{},search:{used:!1,defaultQuery:w,queries:[]},history:{history_id:null,data:{},id:null,rows:[],fields:[]},checked:[],refresh:{},mapValues:[],events:[]}},C=function(t,e){void 0===e.data&&(e.data=x()),t.prototype.refreshInstance=function(){this.data=_.cloneDeep(x())},t.prototype.setData=function(t,e){$app.$set(this.data,t,e);for(var i=this.data.mapValues,n=0;n<i.length;n++)i[n].key===t&&i[n].callback(e);return this},t.prototype.getData=function(t){return this.data[t]},t.prototype.mapData=function(t,e){var i=this;return _.castArray(t).forEach((function(t){var n="function"==typeof e?e:function(i){e[t]=i};i.data.mapValues.push({key:t,callback:n})})),this},t.prototype.getRow=function(t){return this.getData("row")},t.prototype.setRow=function(t){return this.setData("row",t)},t.prototype.setValue=function(t,e){return this.data.row[t]=e,this},t.prototype.getParentModel=function(){return $store.getters["models/getModel"](this.data.tree[0])},t.prototype.getParentModels=function(){return this.data.tree.map((function(t){return $store.getters["models/getModel"](t)}))},t.prototype.emptyRowInstance=function(){var t,e={};for(var i in this.getData("parentrow")&&null!=this.foreign_column&&(t=this.foreign_column[this.getParentTableName()])&&(e[t]=this.getData("parentrow").id),this.fields)e[i]=null;return e},t.prototype.isOpenedRow=function(){var t=this.getData("row");return t&&"id"in t&&t.id},t.prototype.resetChecked=function(){this.setData("checked",[])},t.prototype.getChecked=function(){return this.getData("checked")},t.prototype.setChecked=function(t){if((t=_.castArray(t)).length>0){var e=_.uniq(this.data.checked.concat(t));this.setData("checked",e)}else this.resetChecked()},t.prototype.toggleChecked=function(t){var e=this.getData("checked"),i=e.indexOf(t);-1==i?e.push(t):e.splice(i,1)},t.prototype.resetForm=function(){return this.setData("row",this.emptyRowInstance())}};function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var S=function(t){t.prototype.hasParentFormModel=function(){var t=this.getData("hasparentmodel");return!!_.isNil(t)||t},t.prototype.getParentTableName=function(t){var e=this.getParentModel();if(this.hasParentFormModel()&&"object"==k(this.hasParentFormModel())&&"slug"in this.hasParentFormModel())return this.hasParentFormModel().slug;if(!(!0===t||e&&e.isOpenedRow()&&!1!==this.hasParentFormModel()))return 0;var i=this.getParentModel();return i?i.table:null},t.prototype.getParentRowId=function(){var t=this.getData("parentrow");return t&&"id"in t?t.id:0},t.prototype.isWithoutParentRow=function(){return 1==this.without_parent&&!this.getParentRowId()&&1==this.hasParentFormModel()}},O=i(2),D=i.n(O);function E(t,e,i,n,a,o,r){try{var s=t[o](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,a)}function M(t){return function(){var e=this,i=arguments;return new Promise((function(n,a){var o=t.apply(e,i);function r(t){E(o,n,a,r,s,"next",t)}function s(t){E(o,n,a,r,s,"throw",t)}r(void 0)}))}}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var R=function(t){t.enableRowsRefreshing(!1),t.setData("dragging",!1),$('[data-toggle="tooltip"]').tooltip("enable")},A=function(t,e,i){return function(){var n=$(this);if(function(t,e){e.parents(".tab-pane").each((function(){var e=function(t){var e,i=t.parent().prev().find("li"),n=t.attr("id")||t.attr("data-tab-id");return n&&(e=i.parent().add($("ul.nav.nav-tabs")).find('> li > a[href="#'+n+'"]')),e&&e.length>0?e.parent():i.eq(t.index())};$(this).one("click",(function(){0==$(this).find(".nav-tabs-custom:not(.default) li[has-error]").length&&t.removeActiveTab(e($(this)),!0)})),e($(this)).each((function(){$(this).hasClass("has-error")||$(this).attr("data-toggle","tooltip").attr("data-original-title",$app.trans("tab-error")).attr("has-error","").one("click",(function(){var e=$(this).parents(".nav-tabs-custom").find("> .nav-tabs > li.active[has-error]").not($(this).parent().find("> li"));t.removeActiveTab($([this].concat(e.toArray())),!0)})).find("a").prepend('<i class="nav-link--icon-left fa fa-exclamation-triangle"></i>')}))}))}(t,$(this)),function(t,e){var i=e.parents(".field-wrapper"),n=i.attr("data-field"),a=i.attr("data-lang"),o=i.attr("data-model");if(n&&(1==$app.models[o].fields[n].locale&&a!=t.selectedLanguage().slug)){var r=t.getForm().find(".multi-languages .dropdown-toggle");r.addClass("has-error"),r.next().find('li[data-slug="'+a+'"]').addClass("has-error"),a==$app.languages[0].slug&&$app.openAlert($app.trans("warning"),$app.trans("lang-error"),"warning")}}(t,$(this)),$(this).is("select")?n=n.parent().parent().children().last().prev():$(this).is("textarea")?n=n.parent().children().last().prev():$(this).is("input:checkbox")?n=n.next():$(this).is("input:radio")||$(this).parent().hasClass("label-wrapper")?n=0==(n=n.parent().parent().parent()).find(".help-block").length?n.children().last().prev():null:$(this).parent().hasClass("input-group")&&(n=$(this).parent()),n&&(n.after('<span class="help-block">'+e+"</span>"),function(t,e){var i=t.getForm();i._errorElements||(i._errorElements=[]),i._errorElements.push(e)}(t,n.next())),0==i){var a=$(this).closest("div.form-group").addClass("has-error").find("> label");0==a.find(".fa-times-circle").length&&a.prepend('<i class="far fa-times-circle"></i> ')}}},F=function(t,e,i){var n=[],a=e.split("."),o=t.getForm();(1==a.length||2==a.length&&0==a[1])&&(e=(a=[a[0]])[0],n.push(e),a.push(0)),a=a.map((function(t,e){return 0==e?t:"["+t+"]"})),n.push(a.join(""));for(var r=0;r<n.length;r++)"[]"!=n[r].substr(-2)&&n.push(n[r]+"[]");for(r=0;r<i.length;r++)_.uniqBy(n).map((function(e){o.find('input[name="'+e+'"], select[name="'+e+'"], textarea[name="'+e+'"]').firstLevelForm(o[0]).each(A(t,i[r],r))}))},j=function(t,e,i,n){if(1!=t.getData("submit")){if("undefined"!=typeof CKEDITOR)for(var a in CKEDITOR.instances)CKEDITOR.instances[a].updateElement();t.resetErrors(),t.setData("progress",!0),$(e.target).ajaxSubmit({url:$app.requests[i],success:function(e){if(t.setData("submit",!1),t.setData("progress",!1),"object"!=$.type(e)||!("type"in e))return function(t){$app.errorAlert((function(){t.setData("progress",!1),setTimeout((function(){t.setData("submit",!1)}),500)}))}(t);setTimeout((function(){$app.openAlert(e.title,e.message,e.type,null,(function(){setTimeout((function(){t.setData("submit",!1)}),500)}))}),100),n(e)},error:function(e){t.resetErrors(),$app.errorResponseLayer(e,422,(function(){var i=e.responseJSON,n=[];for(var a in"errors"in i&&!("length"in i.errors)&&(i=i.errors),i)n="string"==typeof i[a]?[i[a]]:i[a],F(t,a,n)}))}})}};function P(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function I(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function L(t,e,i,n,a,o,r){try{var s=t[o](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,a)}function N(t){return function(){var e=this,i=arguments;return new Promise((function(n,a){var o=t.apply(e,i);function r(t){L(o,n,a,r,s,"next",t)}function s(t){L(o,n,a,r,s,"throw",t)}r(void 0)}))}}function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?V(Object(i),!0).forEach((function(e){B(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function B(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var H=function(t){var e=t.request.url;for(var i in t.request.params)e=e.replace("{"+i+"}",t.request.params[i]);$app.openAlert($app.trans("warning"),'Nastala nečakana chyba, skúste neskôr prosím.<br><br>Príčinu zlyhania požiadavky môžete zistiť na tejto adrese:<br> <a target="_blank" href="'+e+'">'+e+"</a>","error")},G=function(t,e,i){if(1==i){var n=e.initial_data||{};for(var a in n)t.setData(a,n[a])}},U=function(t,e,i){for(var n in e)if("filterBy"in(i.fields[n]||{})&&i.fields[n].filterBy?$app.$set(t,"fields."+n+".filterBy",i.fields[n].filterBy):"filterBy"in(t.fields[n]||{})&&delete t.fields[n].filterBy,t.fields[n]&&"options"in t.fields[n]&&("string"==typeof e[n].options||Object.keys(e[n].options).length>0))if("string"==typeof e[n].options){if("$."==e[n].options.substr(0,2)){var a=e[n].options.substr(2),o=z({},t.getData("modelOptions"));o[n]=e[a].options,t.setData("modelOptions",o)}}else{var r=z({},t.getData("modelOptions"));r[n]=e[n].options,t.setData("modelOptions",r)}},W=function(t,e){"scopes"in e||(e.scopes={});for(var i=t.getData("scopes"),n=0;n<i.length;n++){var a=i[n];e.scopes[a.key]=_.isNil(a.params)?1:a.params}return e},Y=function(){return $.parseJSON(localStorage.sizes||"{}")||{}},X=function(t,e){return["created_at","published_at","updated_at"].indexOf(e)>-1||e in t.fields&&["date","datetime"].indexOf(t.fields[e].type)>-1},K=function(t,e){return(e?$("<div>"+t+"</div>").text():t)+""},Z=function(){},Q=[f,p,g,y,C,S,function(t){t.prototype.updateRowsData=function(t,e){var i=this.getData("rows");if(!0===e||i.data.length==t.length&&0!=i.data.length&&i.data[0].id==t[0].id&&1!==e)for(var n in i.data)for(var a in t[n]){var o=$.isArray(t[n][a]);(o&&!_.isEqual(i.data[n][a],t[n][a])||!o)&&(i.data[n][a]=t[n][a])}else i.data=t},t.prototype.isPaginationEnabled=function(){return this.isSettingEnabled("pagination")&&!this.isWithoutParentRow()},t.prototype.isEnabledAutoSync=function(){var t=this.isPaginationEnabled()?this.getData("pagination").limit:0;return!(this.getData("rows").count>0&&1===this.maximum||this.getData("rows").count>100&&parseInt(t)>100)},t.prototype.disableRowsRefreshing=function(){clearTimeout(this.getData("refreshUpdateTimeout"))},t.prototype.hasRows=function(){var t=this.getData("rows");return 0==t.loaded&&1!=this.maximum||t.data.length>0},t.prototype.enableRowsRefreshing=function(t,e){var i=this;if(this.disableRowsRefreshing(),!1!==this.isEnabledAutoSync()||!0===e){var n=setTimeout((function(){i.loadRows(t)}),this.getData("refresh").interval);this.setData("refreshUpdateTimeout",n)}},t.prototype.isHiddenMode=function(){return"hide"==this.getData("pagination").limit},t.prototype.enabledColumnsList=function(){var t=[],e=this.getData("enabled_columns")||{};for(var i in e)1==e[i].enabled&&-1==this.getData("default_columns").indexOf(i)&&t.push(i);return t},t.prototype.isReversed=function(t){return(1==t||2 in this.orderBy&&1==this.orderBy[2])&&(["id","_order"].indexOf(this.orderBy[0])>-1&&"asc"==this.orderBy[1].toLowerCase())},t.prototype.activeGridSize=function(){var t=this,e=this.getData("sizes").filter((function(e){if(1==e.active){var i=Y();i[t.slug]=e.size,i[t.slug+"_default"]=t.getSettings("grid.default"),localStorage.sizes=JSON.stringify(i)}return 1==e.active}));return e[0]?e[0].size:null},t.prototype.isEnabledOnlyFormOrTableMode=function(){return 0===this.activeGridSize()&&!0!==this.isInParent()&&!0!==this.getSettings("grid.splitmode")},t.prototype.isActiveRow=function(t){return!!this.isOpenedRow()&&t.id==this.getRow().id},t.prototype.canAddRow=function(){return!(0==this.insertable||!this.hasAccess("insert"))&&(0==this.maximum||!(this.maximum<=this.getData("rows").count))},t.prototype.isOnlyFormOpened=function(){return 1==this.getData("formOpened")&&!0===this.isEnabledOnlyFormOrTableMode()},t.prototype.canShowRows=function(){return(!0!==this.isEnabledOnlyFormOrTableMode()||!this.isOpenedRow()&&!0!==this.isOnlyFormOpened())&&(0!=this.hasAccess("read")&&!this.isSingle())},t.prototype.checkFormVisibility=function(){return!((!this.isOpenedRow()&&!this.canAddRow()||this.isOpenedRow()&&0==this.editable&&!0!==this.displayable)&&!this.isInParent())&&!(!this.isOpenedRow()&&0==this.hasAccess("insert"))},t.prototype.canShowForm=function(){return!1!==this.checkFormVisibility()&&!(!0===this.isEnabledOnlyFormOrTableMode()&&!this.isOpenedRow()&&!1===this.isOnlyFormOpened()&&0==this.isSingle())},t.prototype.hasChilds=function(){var t=0;for(var e in this.childs)t++;return t},t.prototype.checkMaxRecursivity=function(){var t=this.getSettings("recursivity.max_depth")||10;return this.getParentModels().length<t},t.prototype.getChilds=function(){var t=this.childs;for(var e in t){var i=t[e];"$_itself"!=i||this.checkMaxRecursivity()?("$_itself"==i||"object"==q(i)&&i.table==this.table)&&(t[e]=_.cloneDeep($app.models[this.table]),t[e].name=this.getSettings("recursivity.name",this.name)):delete t[e]}return t},t.prototype.enableOnlyFullScreen=function(){var t=this.getData("sizes");for(var e in t)3!=e&&(t[e].beforeOnlyFullScreenMode=t[e].disabled,t[e].disabled=!0,t[e].active=!1);return t[3].active=!0},t.prototype.exitFullScreenMode=function(){var t=this.getData("sizes");for(var e in t)!0!==t[e].disabled||_.isNil(t[e].beforeOnlyFullScreenMode)||(t[e].disabled=t[e].beforeOnlyFullScreenMode);return t[3].active=!0},t.prototype.isEnabledOnlyFullScreenMode=function(){for(var t in this.fields)if(["gutenberg"].indexOf(this.fields[t].type)>-1)return!0;return!this.checkFormVisibility()||!!this.isSingle()},t.prototype.checkActiveGridSize=function(t){var e=Y(),i=this.getSettings("grid.default"),n=(t=Object.keys(t),this.getData("sizes"));if(t.length>=5&&(n[0].disabled=!0),this.isEnabledOnlyFullScreenMode())return this.enableOnlyFullScreen();if(this.slug in e&&e[this.slug+"_default"]==i){for(var a in n)if(n[a].size==e[this.slug])return n[a].active=!0}else if(null!==i)for(var a in n)if(n[a].size==i||n[a].key==i)return n[a].active=!0;if(function t(e){for(var i=0;i<e.length;i++)if("object"==q(e[i])){if(e[i].model)return!0;if(e[i].fields.length>0&&t(e[i].fields))return!0}return!1}(this.fields_groups)||this.hasChilds()>0||t.length>(window.innerWidth<1500?4:5))return n[3].active=!0;n[2].active=!0},t.prototype.loadRows=N(D.a.mark((function t(){var e,i,n,a,o,r,s,l,u,c,d,h,f,p,m,g=arguments;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(g.length>0&&void 0!==g[0])||g[0],i=g.length>1?g[1]:void 0,!this.isWithoutParentRow()&&!1!==this.getData("activetab")||0!=e){t.next=4;break}return t.abrupt("return",!1);case 4:if(n=this.getData("pagination"),a=this.getData("refresh"),o=this.getData("search"),r=this.getData("rows"),!1!==e&&(n.refreshing=!0),this.disableRowsRefreshing(),s={},l=this.isPaginationEnabled()?this.isHiddenMode()?1:n.limit:0,u={model:this.slug,parent:this.getParentTableName(this.without_parent),subid:this.getParentRowId(),langid:!0===this.localization?this.getData("langid"):0,limit:l,page:n.position,count:a.count},1==i&&(s.download=1),1==this.getData("searching"))for(s.search=[],c=0;c<o.queries.length;c++)d=o.queries[c],h={query:d.query,column:d.column},!0===d.interval&&(h.query_to=d.query_to),s.search.push(h);return this.enabledColumnsList().length>0&&(s.enabled_columns=this.enabledColumnsList().join(";")),W(this,s),t.prev=12,t.next=15,$app.$http.get($app.requests.get("rows",u),{params:s});case 15:if(f=t.sent,!0!==this.getData("dragging")&&!0!==this.getData("progress")){t.next=18;break}return t.abrupt("return");case 18:if("string"!=typeof f.data){t.next=21;break}return H(f),t.abrupt("return");case 21:if(n.refreshing=!1,!f.data.download){t.next=24;break}return t.abrupt("return",window.location.href=f.data.download);case 24:p=f.data.model,G(this,p,0==a.count),this.updateRowsData(f.data.rows,0==this.enabledColumnsList().length?null:1),r.count=f.data.count,r.buttons=f.data.buttons,r.loaded=!0,this.isReversed()&&0==a.count&&(n.position=Math.ceil(r.count/n.limit)),0==a.count&&U(this,p.fields,p),this.isSingle()&&f.data.rows.length>0&&(this.setRow(f.data.rows[0]||this.emptyRowInstance()),this.sendRowData()),a.count++,a.refreshing=!1,$app.reloadCSRFToken(f.data.token),this.isSingle()&&0!=f.data.rows.length||this.enableRowsRefreshing(!1),t.next=45;break;case 39:t.prev=39,t.t0=t.catch(12),t.next=43;break;case 43:if(this.enableRowsRefreshing(!1,!0),500==t.t0.status){try{m=t.t0.message;try{m=t.t0.body.message}catch(t){}}catch(t){}m&&$app.errorResponseLayer(t.t0,m)}else(0==a.count&&!0!==this.getData("hasShowedError")||401==t.t0.status)&&(this.setData("hasShowedError",!0),$app.errorResponseLayer(t.t0,null));case 45:case 46:case"end":return t.stop()}}),t,this,[[12,39]])}))),t.prototype.getRows=function(){var t,e,i=this.getData("orderBy"),n=i[0],a=(t=this,["id","_order"].indexOf(e=n)>-1||e in t.fields&&["integer","decimal","checkbox"].indexOf(t.fields[e].type)>-1||"integer"==t.getSettings("columns."+e+".type")),o=X(this,n),r=function(t,e){return!!(e in t.fields&&t.fields[e].locale)}(this,n),s=!0!==this.getSettings("columns."+n+".encode",!0),l=$app.languages.length?$app.languages[0].slug:null;if(X(this,n)&&n in this.fields)var u=$app.fromPHPFormatToMoment(this.fields[n].date_format);return this.getData("rows").data.slice(0).sort((function(t,e){if(!t||!e)return!1;var c=t[n],d=e[n];if(r&&(c=$app.getLocaleFieldValue(c,l),d=$app.getLocaleFieldValue(d,l)),!0!==c&&!1!==c||(c=!0===c?1:0),!0!==d&&!1!==d||(d=!0===d?1:0),t=K(c,s),e=K(d,s),a)return 1==i[1]?e-t:t-e;if(o&&u){var h=moment(t,u),f=moment(e,u);return h.isValid()&&f.isValid()?1==i[1]?f-h:h-f:0}return 1==i[1]?e.toLowerCase().localeCompare(t.toLowerCase(),"sk"):t.toLowerCase().localeCompare(e.toLowerCase(),"sk")}))},t.prototype.getButtonsForRow=function(t){var e=this.getData("rows");if(!(e.buttons&&t.id in e.buttons))return{};var i={},n=e.buttons[t.id];for(var a in n)["button","both","multiple"].indexOf(n[a].type)>-1&&(i[a]=n[a]);return i},t.prototype.buttonAction=function(){var t=N(D.a.mark((function t(e,i,n){var a,o,r=this;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n?[n.id]:this.getChecked(),o=function(){var t=N(D.a.mark((function t(s,l){var u,c,d,h,f,p;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.setData("button_loading",n?r.getButtonKey(n.id,e):e),u=r.getData("pagination"),t.prev=2,t.next=5,$app.$http.post($app.requests.buttonAction,_.merge(l||{},{_button:{model:r.slug,parent:r.getParentTableName(),id:a,multiple:!n,subid:r.getParentRowId(),limit:u.limit,page:u.position,language_id:!0===r.localization?r.getData("langid"):0,button_id:e,ask:!!s}}));case 5:if(c=t.sent,r.setData("button_loading",!1),l=c.data,s=(d="data"in l)&&1==l.data.ask,h=d&&l.data.component?l.data.component:null,"data"in l&&!s&&(eventHub.$emit("buttonAction",r.buildEventData({rows:l.data.rows.rows},r)),"rows"in l.data&&(console.log("updating",l),r.updateParentData(e,i,n,l)),"redirect"in l.data&&l.data.redirect&&(1==l.data.open?window.location.replace(l.data.redirect):window.open(l.data.redirect)),n||r.resetChecked()),!(l&&"type"in l)){t.next=13;break}return f=h?{name:i.key,component:h,model:r,rows:r.getData("rows").data.filter((function(t){return a.indexOf(t.id)>-1})),row:n,request:{},data:l.data.component_data||[]}:null,p=function(){var t={};this.alert.component&&this.alert.component.request&&(t=_.clone(this.alert.component.request)),o(null,t)},t.abrupt("return",$app.openAlert(l.title,l.message,l.type,s?p:null,!!s||null,f));case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),r.setData("button_loading",!1),$app.errorResponseLayer(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,i){return t.apply(this,arguments)}}(),t.next=4,o(!0);case 4:case"end":return t.stop()}}),t,this)})));return function(e,i,n){return t.apply(this,arguments)}}(),t.prototype.updateParentData=function(t,e,i,n){var a=this.getData("rows");if(0==e.reloadAll)for(var o in n.data.rows.rows){i=n.data.rows.rows[o];for(var r in i.id in n.data.rows.buttons?a.buttons[i.id]=n.data.rows.buttons[i.id]:a.buttons[i.id]=[],a.data)if(a.data[r].id==i.id)for(var o in a.data[r])a.data[r][o]!=i[o]&&(a.data[r][o]=i[o])}else this.updateRowsData(n.data.rows.rows,!1),a.count=n.data.rows.count,a.buttons=n.data.rows.buttons},t.prototype.getButtonKey=function(t,e){return t+"-"+e},t.prototype.setColumnVisibility=function(t,e){return this.data.enabled_columns[t].enabled=e,this}},function(t){t.prototype.isReservedRow=function(t){if("object"===T(t)&&t.length&&this.reserved){for(var e=0;e<t.length;e++)if(this.reserved.indexOf(t[e])>-1)return!0;return!1}return!!(this.reserved&&this.reserved.indexOf(t)>-1)},t.prototype.removeRow=function(t,e){var i=this;t=_.castArray(t);var n=function(){var n=M(D.a.mark((function n(){var a,o,r,s,l,u,c;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={model:i.slug,parent:i.getParentTableName(i.without_parent),id:t,subid:i.getParentRowId(),limit:i.getData("pagination").limit,page:i.getData("pagination").position,_method:"delete"},null!=$app.language_id&&(a.language_id=parseInt($app.language_id)),n.prev=2,n.next=5,$app.$http.post($app.requests.delete,a);case 5:if(o=n.sent,r=o.data,s=i.data.rows,!(r&&"type"in r&&"error"==r.type)){n.next=10;break}return n.abrupt("return",$app.openAlert(r.title,r.message,"danger"));case 10:if(i.isWithoutParentRow()){for(u in l=[],s.data)t.indexOf(s.data[u].id)>-1&&l.push(u);for(c=0;c<l.sort((function(t,e){return e-t})).length;c++)s.data.splice(l[c],1)}else i.updateRowsData(r.data.rows.rows),s.count=r.data.rows.count,i.data.pagination.position=r.data.rows.page;i.getRow()&&t.indexOf(i.getRow().id)>-1&&i.resetForm(),i.emitRowData("onDelete",t),i.fire("onDelete",t),"function"==typeof e&&e(o,a),n.next=21;break;case 17:throw n.prev=17,n.t0=n.catch(2),$app.errorResponseLayer(n.t0),n.t0;case 21:case"end":return n.stop()}}),n,null,[[2,17]])})));return function(){return n.apply(this,arguments)}}();if(this.isReservedRow(t))return $app.openAlert($app.trans("warning"),$app.trans(t.length>1?"cannot-delete-multiple":"cannot-delete"),"warning");$app.openAlert($app.trans("warning"),$app.trans("delete-warning"),"warning",n,!0)},t.prototype.scrollToForm=function(){var t=this;0!=this.activeGridSize()&&0==$app.isTabletDevice()||setTimeout((function(){var e=$("#"+t.getFormId()),i=e.parents('.modal[role="dialog"]:visible');(i.length?i:$("html, body")).animate({scrollTop:e.offset().top-10},$app.isTest?0:500)}),25)},t.prototype.showHistory=function(){var t=M(D.a.mark((function t(e){var i,n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$app.$http.get($app.requests.get("getHistory",{model:this.slug,id:e.id}));case 3:if(i=t.sent,!((n=i.data).length<=1)){t.next=7;break}return t.abrupt("return",$app.openAlert($app.trans("info"),$app.trans("no-changes"),"warning"));case 7:this.getData("history").id=e.id,this.getData("history").rows=n,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),$app.errorResponseLayer(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),t.prototype.closeHistory=function(t){var e=this.getData("history");e.id=null,e.rows=[],t||(e.fields=[],e.history_id=null)},t.prototype.selectRow=function(){var t=M(D.a.mark((function t(e,i,n,a,o){var r,s,l=this;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isOpenedRow()||this.getRow().id!=e.id||a){t.next=2;break}return t.abrupt("return");case 2:if(!n||this.slug==n){t.next=4;break}return t.abrupt("return");case 4:if(!0!==e||null!==i){t.next=6;break}return t.abrupt("return",this.setRow(null));case 6:if(r=function(t){for(var i in t)e[i]=t[i];if(l.setRow(_.cloneDeep(e,!0)),o)for(var i in o)$app.$set(o,i,e[i]);l.closeHistory(!!a),$app.$nextTick((function(){setTimeout((function(){l.setData("loadingRow",!1),l.scrollToForm()}),100)}))},this.setData("loadingRow",e.id),!i){t.next=12;break}r(i),t.next=24;break;case 12:return t.prev=12,t.next=15,$app.$http.get($app.requests.get("show",{model:this.slug,id:e.id,subid:a}));case 15:s=t.sent,i=s.data,a&&(this.getData("history").data=s.data,i=i.row),r(i),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(12),$app.errorResponseLayer(t.t0);case 24:case"end":return t.stop()}}),t,this,[[12,21]])})));return function(e,i,n,a,o){return t.apply(this,arguments)}}(),t.prototype.canUnpublishRow=function(t){return this.publishable&&this.hasAccess("publishable")},t.prototype.togglePublishedAt=function(){var t=M(D.a.mark((function t(e){var i,n,a,o;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=_.cloneDeep(_.castArray(e)),t.prev=1,t.next=4,$app.$http.post($app.requests.togglePublishedAt,{model:this.slug,id:e});case 4:if(i=t.sent,!((n=i.data)&&"type"in n)){t.next=8;break}return t.abrupt("return",$app.openAlert(n.title,n.message,"danger"));case 8:for(o in(a=this.getData("rows")).data)e.indexOf(a.data[o].id)>-1&&(a.data[o].published_at=n[a.data[o].id]);t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),$app.errorResponseLayer(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),t.prototype.isDragEnabled=function(){return!$app.isMobileDevice()&&1==this.sortable},t.prototype.onDragStart=function(t){this.disableRowsRefreshing(),this.setData("dragging",!0),$('[data-toggle="tooltip"]').tooltip("disable")},t.prototype.getDragOptions=function(){return{animation:200,group:this.table,disabled:!1,ghostClass:"ghost"}},t.prototype.onDragEnd=function(){var t=M(D.a.mark((function t(e,i){var n,a,o,r,s,l,u,c,d,h;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("_order"==this.getData("orderBy")[0]){t.next=3;break}return R(this),t.abrupt("return");case 3:for(n=i,a=i[e.oldIndex],o=i[e.newIndex],r=a._order,s=o._order,l={},[],u=n.length-1;u>=0;u--)(c=n[u]).id==a.id?(c._order=s,l[c.id]=c._order):r>s&&c._order>=s&&c._order<=r?(c._order+=1,l[c.id]=c._order):r<s&&c._order<=s&&c._order>r&&(c._order-=1,l[c.id]=c._order);return t.prev=5,t.next=8,$app.$http.post($app.requests.updateOrder,{model:this.slug,rows:l});case 8:if(d=t.sent,!((h=d.data)&&"type"in h)){t.next=12;break}return t.abrupt("return",$app.openAlert(h.title,h.message,"danger"));case 12:R(this),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(5),$app.errorResponseLayer(t.t0),R(this);case 19:case"end":return t.stop()}}),t,this,[[5,15]])})));return function(e,i){return t.apply(this,arguments)}}()},function(t){t.prototype.selectedLanguage=function(){var t=$app.languages;if(!this.getData("selected_language_id"))return t[0];for(var e in t)if(t[e].id==this.getData("selected_language_id"))return t[e];return t[0]},t.prototype.removeActiveTab=function(t,e){t.filter((function(){return!0===e||!$(this).hasClass("model-tab")})).removeAttr("data-toggle").removeAttr("data-original-title").removeAttr("has-error").tooltip("dispose").find("a > .fa.fa-exclamation-triangle").remove()},t.prototype.resetErrors=function(){var t=this.getForm();if(t.find(".form-group.has-error").firstLevelForm(t[0]).removeClass("has-error").find(".help-block").remove(),t.find(".far.fa-times-circle").firstLevelForm(t[0]).remove(),t.find(".multi-languages .has-error").firstLevelForm(t[0]).removeClass("has-error"),this.removeActiveTab(t.find(".nav-tabs li[has-error]").firstLevelForm(t[0])),this.setData("progress",!1),t._errorElements){for(var e=0;e<t._errorElements.length;e++)t._errorElements[e].remove();t._errorElements=[]}},t.prototype.getFormAction=function(){return this.isOpenedRow()?"update":"store"},t.prototype.getSelectedLanguageId=function(){return this.getData("selected_language_id")?this.getData("selected_language_id"):this.getData("langid")},t.prototype.getAdditionalFormData=function(){var t={_model:this.slug},e=this.getData("parentrow");if(null!=this.foreign_column&&e&&(t[this.foreign_column[this.getParentTableName()]]=e.id),this.global_relation&&e&&this.getParentTableName(!0)&&(t._table=this.getParentTableName(!0),t._row_id=e.id),"update"==this.getFormAction())t._id=this.getRow().id,t._method="put";else{this.getSelectedLanguageId()&&(t.language_id=this.getSelectedLanguageId());var i=this.getData("rows");i.save_children.length>0&&(t._save_children=JSON.stringify(i.save_children))}var n={};for(var a in t)n[this.formPrefix()+a]=t[a];return n},t.prototype.saveParentChilds=function(t){if(this.getData("rows").save_children=[],this.isWithoutParentRow())for(var e=this.getParentModel().getData("rows"),i=0;i<t.length;i++)e.save_children.push({table:this.slug,id:t[i].id})},t.prototype.pulseForm=function(){var t=this;if(0!=this.activeGridSize()||!this.canShowRows()||0!=this.getData("depth_level")){if(!0===this.isEnabledOnlyFormOrTableMode())return!1;var e=this.getForm();if(e.addClass("animated shake"),!this.getData("formPusling")){var i=setTimeout((function(){e.removeClass("animated shake"),t.setData("formPusling",null)}),1e3);this.setData("formPusling",i)}}},t.prototype.resetFormWithEvents=function(t,e,i){e&&!this.isOpenedRow()||_.isEqual(this.getRow(),this.emptyRowInstance())||this.resetForm(),!0===t&&(this.scrollToForm(),this.pulseForm()),!0===i&&eventHub.$emit("changeActiveTab",{table:this.table,depth_level:this.getData("depth_level"),activetab:0})},t.prototype.getFormId=function(){return"form-"+this.getData("depth_level")+"-"+this.slug},t.prototype.getForm=function(){return $("#"+this.getFormId())},t.prototype.openForm=function(){this.setData("formOpened",!0)},t.prototype.closeForm=function(){this.setData("formOpened",!1),this.isOpenedRow()&&(this.resetFormWithEvents(),this.closeHistory())},t.prototype.initForm=function(t,e){var i=t&&"id"in t;if(!1!==e)for(var n in this.fields)$app.$set(this.fields[n],"value",null);if(this.resetErrors(),i||this.resetFormWithEvents(),i&&this.canAddRow()&&0==this.editable&&1!=this.displayable&&0==this.hasChilds())this.resetFormWithEvents();else{var a=this.fields;for(var n in a)if(!i||a[n].value!=t[n]||e){var o=void 0===(o=i?t[n]:null)?null:o;a[n].value=o,a[n].$original_value=o,eventHub.$emit("updateField",this.buildEventData({key:n,field:a[n]}))}i?this.setData("isActive",null==t.published_at):(this.setData("isActive",!0),this.getParentModel()&&this.closeHistory())}},t.prototype.saveForm=function(t){var e=this;if(!this.isInParent()){var i=this.getFormAction();j(this,t,i,(function(t){if(!t.data)return!1;if("store"==i)for(var n in t.data){var a=_.cloneDeep(t.data[n].rows[0]),o=t.data[n].model==e.table,r=$app.models[t.data[n].model];o&&e.getParentModel()&&e.saveParentChilds(t.data[n].rows);var s=o?e:r,l=e.buildEventData({row:a,request:t.data[n]},s,!o);if(eventHub.$emit("onSubmit",l),eventHub.$emit("onCreate",l),e.fire("onCreate",a),o){var u=e.getSettings("autoreset");e.isSingle()||!1===u?(e.setRow(a),e.scrollToForm()):(e.initForm(e.emptyRowInstance()),e.closeForm())}}else if("update"==i){var c=t.data.rows;for(var d in c){a=_.cloneDeep(c[d]),o=d==e.table,r=$app.models[d],l=e.buildEventData({row:a,request:c[d]},r,!o);eventHub.$emit("onSubmit",l),eventHub.$emit("onUpdate",l),e.fire("onUpdate",e.getRow())}}}))}}},function(t){t.prototype.getComponents=function(t,e){var i=this;return this.layouts.filter((function(e){return!(-1===i.getData("registered_components").indexOf(e.name)&&!Vue.options.components[e.component_name])&&e.position==t})).map((function(t){return $app.isGlobalComponent(t.component_name)?$app.componentName(i,t.component_name):i.getComponentName(t.name)}))},t.prototype.getComponentName=function(t,e){return t+(e||"Layout")}},function(t){t.prototype.on=function(t,e){return this.data.events.push({type:t,callback:e}),this},t.prototype.off=function(t,e){return this.data.events=this.data.events.filter((function(i){return!(i.type===t&&i.callback===e)})),this},t.prototype.fire=function(t,e){return this.data.events.forEach((function(i){i.type===t&&i.callback(e)})),this}},function(t){t.prototype.emitRowData=function(t,e){e&&e.table&&e.table!=this.table||eventHub.$emit(t,{model:this,table:this.table,slug:this.table,row:this.getRow(),rows:this.data.rows.data,count:this.data.rows.count,component:this.data.component,depth_level:this.data.depth_level})},t.prototype.buildEventData=function(t,e,i){return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?P(Object(i),!0).forEach((function(e){I(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({table:(e=e||this).slug,model:e,depth_level:this.getData("depth_level")+(i?1:0)},t)},t.prototype.sendRowData=function(){this.emitRowData("getRow"),this.emitRowData("getParentRow")}}],J=function(t){if(!0===t._initialized)return t;(t=_.cloneDeep(t))._initialized=!0;var e=new Z;for(var i in t)e[i]=t[i];for(var i in Q)Q[i](Z,e);return e},tt={methods:{getFreshModel:function(t){var e=this.$root.originalModels[t];if(e)return new J(e)},getActiveModel:function(t){return _.find($store.state.models.models,{table:t})}}},et="#$_",it=function(){};it.prototype.get=function(t,e){var i=this[t];if(!e)return i;for(var n in e)i=i.replace(":"+n,null==e[n]?"":e[n]);return i};var nt,at,ot=function(t){var e=new it;for(var i in t)e[i]=t[i];return e};function rt(t,e,i,n,a,o,r){try{var s=t[o](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,a)}function st(t,e,i,n,a,o,r,s){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):a&&(l=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:u}}var lt=st({props:["user"],computed:{language:function(){return this.$root.admin_language},languages:function(){return this.$root.admin_languages},logout:function(){return window.crudadmin.logout},getPermissions:function(){if("roles"in this.user){for(var t=[],e=0;e<this.user.roles.length;e++)t.push(this.user.roles[e].name);if(t.length>0)return t.join(", ")}return this.trans("admin-user")}},methods:{changeLocale:(nt=D.a.mark((function t(e){var i;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.$root.requests.get("switch_locale",{id:e.id}),t.next=3,this.$http.get(i);case 3:window.location.reload();case 4:case"end":return t.stop()}}),t,this)})),at=function(){var t=this,e=arguments;return new Promise((function(i,n){var a=nt.apply(t,e);function o(t){rt(a,i,n,o,r,"next",t)}function r(t){rt(a,i,n,o,r,"throw",t)}o(void 0)}))},function(t){return at.apply(this,arguments)})}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.user?i("div",{staticClass:"navbar-custom-menu"},[i("div",{staticClass:"dropdown fields-list mr-4",attrs:{"fields-list":""}},[t.languages.length>1?i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[i("i",{staticClass:"--icon-left fa fa-globe"}),t._v("\n            "+t._s(t.language?t.language.name:"")+"\n            "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]):t._e(),t._v(" "),i("ul",{staticClass:"dropdown-menu menu-left dropdown-menu-right"},t._l(t.languages,(function(e){return i("li",{class:{active:t.language&&t.language.id==e.id},on:{click:function(i){return i.preventDefault(),t.changeLocale(e)}}},[t._v("\n                "+t._s(e.name)+"\n            ")])})),0)]),t._v(" "),i("ul",{staticClass:"nav navbar-nav"},[i("li",{staticClass:"user user-menu"},[i("a",{staticClass:"user-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[i("img",{staticClass:"user-image",attrs:{src:t.getAvatar,alt:"User Image"}}),t._v(" "),t.user?i("span",[t._v(t._s(t.user.username))]):t._e(),t._v(" "),i("i",{staticClass:"fa fa-angle-down"})]),t._v(" "),i("ul",{staticClass:"dropdown-menu"},[i("li",{staticClass:"user-header"},[i("img",{staticClass:"img-circle",attrs:{src:t.getAvatar,alt:"User Image"}}),t._v(" "),t.user?i("p",[t._v("\n                        "+t._s(t.user.username)+" - "+t._s(t.getPermissions)+"\n                    ")]):t._e()]),t._v(" "),i("li",{staticClass:"user-body"}),t._v(" "),i("li",{staticClass:"user-footer"},[i("a",{staticClass:"btn btn-primary",attrs:{href:t.logout}},[t._v(t._s(t.trans("logout")))])])])])])]):t._e()}),[],!1,null,null,null).exports,ut=st({name:"sidebar-row",props:["row","parent"],data:function(){return{opened:!1,levels:[],defaultIcon:"fa-link"}},created:function(){var t=[];if(this.parent)for(var e=0;e<this.parent.length;e++)t.push(this.parent[e]);return t.push(this.row),this.levels=t},mounted:function(){var t=this;this.openTree(),eventHub.$on("closeMenu",(function(e){t.getParentLi()!=e&&t!=e&&(t.opened=!1)}))},computed:{hasSubmenu:function(){return 0!==this.row.submenu.length},isGroup:function(){return this.row.slug.substr(0,et.length)==et},hasChilds:function(){for(var t in this.row.submenu)return!0;return!1},isActive:function(){return!1!==this.row.active&&!1!==this.row.in_menu||1==this.opened}},methods:{getParentLi:function(){for(var t=this,e=[];"sidebar-row"==t.$options.name;)t=t.$parent,e.push(t);return e[e.length-2]||this},openTree:function(){if(this.row.table==this.$router.history.current.params.model)for(var t=this;"sidebar-row"==t.$options.name;)t.opened=!0,t=t.$parent},toggleMenu:function(){this.opened=!this.opened,eventHub.$emit("closeMenu",this.getParentLi())}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fragment",[t.isActive&&!t.isGroup?i("router-link",{staticClass:"treeview",attrs:{tag:"li","data-slug":t.row.slug,to:{name:"admin-model",params:{model:t.row.slug}},"exact-active-class":"active","active-class":"active"}},[i("a",{on:{click:t.toggleMenu}},[i("i",{staticClass:"icon",class:["fa",t.faMigrator(t.row.icon||t.defaultIcon)]}),t._v(" "),i("span",[t._v(t._s(t.row.name))]),t._v(" "),t.hasSubmenu?i("i",{staticClass:"fa side-arrow",class:{"fa-angle-down":t.opened,"fa-angle-left":!t.opened}}):t._e()]),t._v(" "),t.hasSubmenu?i("ul",{staticClass:"treeview-menu"},t._l(t.row.submenu,(function(e,n){return i("sidebar-row",{key:n,attrs:{row:e,parent:t.levels}})})),1):t._e()]):t._e(),t._v(" "),t.isActive&&t.isGroup&&t.hasChilds?i("li",{staticClass:"treeview treeview-list",class:{active:t.opened},attrs:{"data-slug":t.row.slug}},[i("a",{on:{click:t.toggleMenu}},[i("i",{staticClass:"fa icon",class:t.faMigrator(t.row.icon||"fa-folder-open far")}),t._v(" "),i("span",[t._v(t._s(t.row.name))]),t._v(" "),t.hasSubmenu?i("i",{staticClass:"fa side-arrow",class:{"fa-angle-down":t.opened,"fa-angle-left":!t.opened}}):t._e()]),t._v(" "),t.hasSubmenu?i("ul",{staticClass:"treeview-menu"},t._l(t.row.submenu,(function(e,n){return i("sidebar-row",{key:n,attrs:{row:e,parent:t.levels}})})),1):t._e()]):t._e()],1)}),[],!1,null,null,null).exports,ct=i(3);function dt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ht(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(i),!0).forEach((function(e){ft(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):dt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ft(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var pt=st({props:["rows","languages","langid","user","version","author"],components:{SidebarRow:ut},watch:{rows:function(t){var e=this;this.$nextTick((function(){e.addActiveTreeClasses()}))}},computed:ht({},Object(ct.c)("header",["sidebarMenuVisible"]),{year:function(){return moment().format("Y")},groups:function(){var t=this.rows;for(var e in t)!0!==t[e].active&&(!1!==t[e].active&&this.hasActiveModule(t[e].submenu)||delete t[e]);return t}}),methods:ht({},Object(ct.b)("header",["toggleSidebarMenu"]),{addActiveTreeClasses:function(){$('.sidebar li[data-slug="'+this.$router.currentRoute.params.model+'"]').parent().addClass("menu-open").css("display","block").parents(".treeview").addClass("active"),$(".sidebar .treeview-menu a").click((function(){$(this).parent().siblings(".active").removeClass("active").find(".menu-open").slideUp()}))},hasActiveModule:function(t){for(var e in t){if(!0===t[e].active)return!0;if(t[e].submenu&&this.hasActiveModule(t[e].submenu))return!0}return!1}})},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{staticClass:"sidebar"},[i("ul",{staticClass:"sidebar-menu"},t._l(t.groups,(function(t,e){return i("sidebar-row",{key:e,attrs:{row:t}})})),1)]),t._v(" "),i("div",{staticClass:"footer-sidebar"},[i("div",{staticClass:"footer-content"},[!1!==t.author?i("p",[t._v("Developed by "),i("a",{attrs:{href:"https://www.marekgogol.sk",target:"_blank"}},[t._v("Marek Gogoľ")])]):t._e(),t._v(" "),i("p",[t._v("© 2016 - "+t._s(t.year)+" "),i("a",{attrs:{href:"https://www.crudadmin.com",target:"_blank"}},[t._v("CrudAdmin")])]),t._v(" "),!1!==t.author?i("br"):t._e(),t._v(" "),i("p",[t._v("Version "),i("a",{attrs:{target:"_blank",href:"https://packagist.org/packages/crudadmin/crudadmin#"+t.version}},[t._v(t._s(t.version))])])]),t._v(" "),i("div",{staticClass:"toggle-menu-size",on:{click:t.toggleSidebarMenu}},[i("i",{staticClass:"fa",class:{"fa-angle-left":t.sidebarMenuVisible,"fa-angle-right":!t.sidebarMenuVisible}})])])])}),[],!1,null,null,null).exports,mt=st({props:["alert"],data:function(){return{registredComponents:[]}},mounted:function(){var t=this;this.$watch("alert.component",(function(e){t.bindAlertComponent(e)})),this.checkAlertEvents()},computed:{canShowAlert:function(){return null!=this.alert.title&&null!=this.alert.message||this.alert.component},getRegistredComponent:function(){var t=this.alert.component;if(t&&t.name)return this.isGlobalComponent(t.component)?t.component:this.registredComponents.indexOf(t.name)>-1?t.name:void 0}},methods:{checkAlertEvents:function(){var t=this;$(window).keyup((function(e){!0===t.canShowAlert?t.alert.opened&&(new Date).getTime()-t.alert.opened<300||(13==e.keyCode&&t.closeAlert(t.alert.success||t.alert.close),27==e.keyCode&&t.closeAlert(t.alert.close)):27==e.keyCode&&$(".modal .modal-header .close:visible").last().click()}))},bindAlertComponent:function(t){var e;if(t)try{e=this.getComponentObject(t.component),this.isGlobalComponent(t.component)||(e.name=t.name,this.$options.components[e.name]=e,this.registredComponents.push(e.name))}catch(t){console.error("Syntax error in component button component.\n",t),this.alert.component=null}},closeAlert:function(t){if("function"==typeof t)try{t.call(this.$parent)}catch(t){console.error(t)}for(var e in this.alert)this.$parent.alert[e]=null}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.canShowAlert?i("div",{staticClass:"message-modal"},[i("div",{staticClass:"modal",class:"modal-"+t.alert.type,style:{display:t.canShowAlert?"block":"none"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[t._v(t._s(t.alert.title))]),t._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.closeAlert(t.alert.close)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),i("div",{staticClass:"modal-body"},[t.alert.message?i("p",{domProps:{innerHTML:t._s(t.alert.message)}}):t._e(),t._v(" "),t.getRegistredComponent?i(t.getRegistredComponent,{tag:"component",attrs:{model:t.alert.component.model,rows:t.alert.component.rows,row:t.alert.component.row,request:t.alert.component.request,data:t.alert.component.data}}):t._e()],1),t._v(" "),i("div",{staticClass:"modal-footer"},[t.alert.close||"success"==t.alert.type&&!t.alert.close||!t.alert.close&&!t.alert.success?i("button",{staticClass:"btn btn-secondary",class:{"pull-left":t.alert.success},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.closeAlert(t.alert.close)}}},[t._v(t._s(t.trans("close")))]):t._e(),t._v(" "),t.alert.success?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.closeAlert(t.alert.success)}}},[t._v(t._s(t.trans("accept")))]):t._e()])])])])]):t._e()}),[],!1,null,null,null).exports;function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function bt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(i),!0).forEach((function(e){_t(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):vt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var yt=function(t,e){return{el:"#app",router:t,store:e,data:function(){return{mobile_menu:!1,csrf_token:null,version:null,version_resources:null,version_assets:null,gettext:null,locale:null,dashboard:null,license_key:null,requests:{},user:null,tree:[],originalModels:{},models:{},localization:{},languages:[],admin_languages:[],language_id:null,languages_active:!1,alert:{type:null,title:null,message:null,success:null,close:null,component:null,opened:null}}},watch:{language_id:function(t){localStorage.language_id=t}},components:{Sidebar:pt,RightNavbar:lt,Modal:mt},created:function(){this.reloadCSRFToken($('meta[name="csrf-token"]')[0].content),this.bootApp()},mounted:function(){this.bootTooltips()},computed:bt({},Object(ct.c)("header",["isActiveMobileMenu","sidebarMenuVisible"]),{isTest:function(){return this.version.indexOf("test")>-1}}),methods:bt({},Object(ct.b)("header",["toggleMobileMenu"]),{setDefaultRoute:function(){var e=this;if("dashboard"==t.currentRoute.name){var i,n=function(t){return e.getFreshModel(t).hasAccess("read")};for(var a in this.models){var o=this.getFreshModel(a);if(n(a)&&!0===o.getSettings("default",!1)){i=o.table;break}}var r=(this.user.roles||[]).filter((function(t){return t.default_model&&n(t.default_model)})).map((function(t){return t.default_model}));(r.length>0||i)&&t.push({name:"admin-model",params:{model:r[0]||i}})}},bootTooltips:function(){$("body").tooltip({selector:"[data-toggle='tooltip']"}),$("body").on("click",(function(){$('[data-toggle="tooltip"]').tooltip("dispose"),$(".tooltip.show").remove()}))},reloadCSRFToken:function(t){this.csrf_token=t,Vue.http.options.headers={"X-CSRF-TOKEN":t},$.ajaxSetup({headers:{"X-CSRF-TOKEN":t}})},bootApp:function(){var t=this;window.crudadmin.logged&&this.$http.get(window.crudadmin.baseURL+"/api/layout").then((function(e){var i=e.data;t.version=i.version,t.version_resources=i.version_resources,t.version_assets=i.version_assets,t.gettext=i.gettext,t.locale=i.locale,t.dashboard=i.dashboard,t.license_key=i.license_key,t.requests=ot(i.requests),t.user=i.user,t.tree=i.models,t.models=t.flattenModelsWithChilds(i.models),t.originalModels=t.flattenModelsWithChilds(i.models),t.localization=i.localization||{},t.languages=i.languages||[],t.admin_language=i.admin_language||{},t.admin_languages=i.admin_languages||[],t.bootLanguages(),t.setDefaultRoute()})).catch((function(e){t.errorResponseLayer(e)}))},getModelsFromGroups:function(t,e){for(var i in t)if(i.substr(0,et.length)==et)for(var n in t[i].submenu)n.substr(0,et.length)==et?e=e.concat(this.getModelsFromGroups(t[i].submenu[n].submenu,e)):e.push(t[i].submenu[n]);else e.push(t[i]);return e},flattenModelsWithChilds:function(t){var e={};for(var i in t=this.getModelsFromGroups(t,[]))"object"==gt(t[i])&&(e[t[i].slug]=_.cloneDeep(t[i]),Object.keys(t[i].childs).length>0&&(e=_.merge(e,this.flattenModelsWithChilds(t[i].childs))));return e},bootLanguages:function(){0!=this.languages.length&&("language_id"in localStorage&&$.isNumeric(localStorage.language_id)||(localStorage.language_id=this.languages[0].id),this.language_id=localStorage.language_id)},errorResponseLayer:function(t,e,i){return console.error(t),"responseJSON"in t&&(t.data=t.responseJSON),!t.data&&t.body&&(t.data=t.body),t.data&&t.data.message&&t.data.title&&t.data.type?this.$root.openAlert(t.data.title,t.data.message,t.data.type,null,(function(){401==t.status&&(window.location.href=window.crudadmin.baseURL)})):404==t.status?this.$root.openAlert(this.trans("warning"),this.trans("row-error"),"warning"):401==t.status?this.$root.openAlert(this.trans("warning"),this.trans("auto-logout"),"warning",null,(function(){window.location.reload()})):!i||e!==t.status&&null!==e?t.data.message?this.$root.openAlert("Error "+t.status,t.data.message,"error"):void this.$root.errorAlert():i(t)},getModelProperty:function(t,e,i){return t?t.getModelProperty(e,i):null},languageOptions:function(t,e,i,n){var a,o,r,s,l=[],u=i&&Object.keys(i).length>0;e&&(a=e.belongsTo||e.belongsToMany)&&(o=a.split(",")[1])&&(s=o.replace(/\\:/g,"").match(new RegExp(/[\:^]([0-9,a-z,A-Z$_]+)+/,"g"))),e&&e.option&&(s=(o=e.option).replace(/\\:/g,"").match(new RegExp(/[\:^]([0-9,a-z,A-Z$_]+)+/,"g")));t:for(var c in t){if(u)for(var d in i){if(null==t[c][1][d])continue t;if(i[d]&&"object"==gt(i[d])){if(-1==i[d].indexOf(t[c][1][d]))continue t}else if(t[c][1][d]&&"object"==gt(t[c][1][d])){if(-1==t[c][1][d].indexOf(i[d]))continue t}else if(t[c][1][d]!=i[d])continue t}if(s)for(var h=o.replace(/\\:/g,":"),f=0;f<s.length;f++){var p=s[f].substr(1),m=a?this.models[a.split(",")[0]].fields[p]:e,g="id"==p?t[c][0]:this.getLangValue(t[c][1][p],m);h=h.replace(new RegExp(s[f],"g"),g||0===g?g:"")}else{o&&(r=a?this.models[a.split(",")[0]].fields[o]:e);h="object"==gt(t[c][1])&&null!==t[c][1]?this.getLangValue(t[c][1][o],r):t[c][1]}h=null==h?null:h;var v=e.hiddenOptions||e.optionsFilter;if(v&&!1!==n){if("object"==gt(v)&&v.indexOf(t[c][0])>-1)continue;if("function"==typeof v&&!1===v(t[c][0],h,t[c][1]))continue}l.push([t[c][0],h])}return l},getLangValue:function(t,e){if(e&&t&&"object"==gt(t)&&"locale"in e){if(this.languages[0].slug in t&&(t[this.languages[0].slug]||0==t[this.languages[0].slug]))return t[this.languages[0].slug];for(var i in t)if(t[i]||0==t[i])return t[i];return null}return t},fromPHPFormatToMoment:function(t){var e={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:"o",w:"e",z:"DDD",W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:"",L:"",o:"YYYY",Y:"YYYY",y:"YY",a:"a",A:"A",B:"",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSS",e:"zz",I:"",O:"",P:"",T:"",Z:"",c:"",r:"",U:"X"},i=new RegExp(Object.keys(e).join("|"),"gi");return t.replace(i,(function(t){return t in e?e[t]:t}))},runInlineScripts:function(t){$("<div>"+t+"</div>").find("script").each((function(){if($(this).attr("src")){var t=document.createElement("script");t.src=$(this).attr("src"),t.type="text/javascript",$("body").append(t)}else try{new Function($(this).html()).call(Vue)}catch(t){console.error(t)}})),$("<div>"+t+"</div>").find("style").each((function(){$("body").append($(this)[0].outerHTML)}))}})}},wt={"fa-500px":"fab fa-500px","fa-address-book-o":"far fa-address-book","fa-address-card-o":"far fa-address-card","fa-adn":"fab fa-adn","fa-amazon":"fab fa-amazon","fa-android":"fab fa-android","fa-angellist":"fab fa-angellist","fa-apple":"fab fa-apple","fa-area-chart":"fas fa-chart-area","fa-arrow-circle-o-down":"far fa-arrow-alt-circle-down","fa-arrow-circle-o-left":"far fa-arrow-alt-circle-left","fa-arrow-circle-o-right":"far fa-arrow-alt-circle-right","fa-arrow-circle-o-up":"far fa-arrow-alt-circle-up","fa-arrows":"fas fa-arrows-alt","fa-arrows-alt":"fas fa-expand-arrows-alt","fa-arrows-h":"fas fa-arrows-alt-h","fa-arrows-v":"fas fa-arrows-alt-v","fa-asl-interpreting":"fas fa-american-sign-language-interpreting","fa-automobile":"fas fa-car","fa-bandcamp":"fab fa-bandcamp","fa-bank":"fas fa-university","fa-bar-chart":"far fa-chart-bar","fa-bar-chart-o":"far fa-chart-bar","fa-bathtub":"fas fa-bath","fa-battery":"fas fa-battery-full","fa-battery-0":"fas fa-battery-empty","fa-battery-1":"fas fa-battery-quarter","fa-battery-2":"fas fa-battery-half","fa-battery-3":"fas fa-battery-three-quarters","fa-battery-4":"fas fa-battery-full","fa-behance":"fab fa-behance","fa-behance-square":"fab fa-behance-square","fa-bell-o":"far fa-bell","fa-bell-slash-o":"far fa-bell-slash","fa-bitbucket":"fab fa-bitbucket","fa-bitbucket-square":"fab fa-bitbucket","fa-bitcoin":"fab fa-btc","fa-black-tie":"fab fa-black-tie","fa-bluetooth":"fab fa-bluetooth","fa-bluetooth-b":"fab fa-bluetooth-b","fa-bookmark-o":"far fa-bookmark","fa-btc":"fab fa-btc","fa-building-o":"far fa-building","fa-buysellads":"fab fa-buysellads","fa-cab":"fas fa-taxi","fa-calendar":"fas fa-calendar-alt","fa-calendar-check-o":"far fa-calendar-check","fa-calendar-minus-o":"far fa-calendar-minus","fa-calendar-o":"far fa-calendar","fa-calendar-plus-o":"far fa-calendar-plus","fa-calendar-times-o":"far fa-calendar-times","fa-caret-square-o-down":"far fa-caret-square-down","fa-caret-square-o-left":"far fa-caret-square-left","fa-caret-square-o-right":"far fa-caret-square-right","fa-caret-square-o-up":"far fa-caret-square-up","fa-cc":"far fa-closed-captioning","fa-cc-amex":"fab fa-cc-amex","fa-cc-diners-club":"fab fa-cc-diners-club","fa-cc-discover":"fab fa-cc-discover","fa-cc-jcb":"fab fa-cc-jcb","fa-cc-mastercard":"fab fa-cc-mastercard","fa-cc-paypal":"fab fa-cc-paypal","fa-cc-stripe":"fab fa-cc-stripe","fa-cc-visa":"fab fa-cc-visa","fa-chain":"fas fa-link","fa-chain-broken":"fas fa-unlink","fa-check-circle-o":"far fa-check-circle","fa-check-square-o":"far fa-check-square","fa-chrome":"fab fa-chrome","fa-circle-o":"far fa-circle","fa-circle-o-notch":"fas fa-circle-notch","fa-circle-thin":"far fa-circle","fa-clipboard":"far fa-clipboard","fa-clock-o":"far fa-clock","fa-clone":"far fa-clone","fa-close":"fas fa-times","fa-cloud-download":"fas fa-cloud-download-alt","fa-cloud-upload":"fas fa-cloud-upload-alt","fa-cny":"fas fa-yen-sign","fa-code-fork":"fas fa-code-branch","fa-codepen":"fab fa-codepen","fa-codiepie":"fab fa-codiepie","fa-comment-o":"far fa-comment","fa-commenting":"far fa-comment-dots","fa-commenting-o":"far fa-comment-dots","fa-comments-o":"far fa-comments","fa-compass":"far fa-compass","fa-connectdevelop":"fab fa-connectdevelop","fa-contao":"fab fa-contao","fa-copyright":"far fa-copyright","fa-creative-commons":"fab fa-creative-commons","fa-credit-card":"far fa-credit-card","fa-credit-card-alt":"fas fa-credit-card","fa-css3":"fab fa-css3","fa-cutlery":"fas fa-utensils","fa-dashboard":"fas fa-tachometer-alt","fa-dashcube":"fab fa-dashcube","fa-deafness":"fas fa-deaf","fa-dedent":"fas fa-outdent","fa-delicious":"fab fa-delicious","fa-deviantart":"fab fa-deviantart","fa-diamond":"far fa-gem","fa-digg":"fab fa-digg","fa-dollar":"fas fa-dollar-sign","fa-dot-circle-o":"far fa-dot-circle","fa-dribbble":"fab fa-dribbble","fa-drivers-license":"fas fa-id-card","fa-drivers-license-o":"far fa-id-card","fa-dropbox":"fab fa-dropbox","fa-drupal":"fab fa-drupal","fa-edge":"fab fa-edge","fa-eercast":"fab fa-sellcast","fa-empire":"fab fa-empire","fa-envelope-o":"far fa-envelope","fa-envelope-open-o":"far fa-envelope-open","fa-envira":"fab fa-envira","fa-etsy":"fab fa-etsy","fa-eur":"fas fa-euro-sign","fa-euro":"fas fa-euro-sign","fa-exchange":"fas fa-exchange-alt","fa-expeditedssl":"fab fa-expeditedssl","fa-external-link":"fas fa-external-link-alt","fa-external-link-square":"fas fa-external-link-square-alt","fa-eye":"far fa-eye","fa-eye-slash":"far fa-eye-slash","fa-eyedropper":"fas fa-eye-dropper","fa-fa":"fab fa-font-awesome","fa-facebook":"fab fa-facebook-f","fa-facebook-f":"fab fa-facebook-f","fa-facebook-official":"fab fa-facebook","fa-facebook-square":"fab fa-facebook-square","fa-feed":"fas fa-rss","fa-file-archive-o":"far fa-file-archive","fa-file-audio-o":"far fa-file-audio","fa-file-code-o":"far fa-file-code","fa-file-excel-o":"far fa-file-excel","fa-file-image-o":"far fa-file-image","fa-file-movie-o":"far fa-file-video","fa-file-o":"far fa-file","fa-file-pdf-o":"far fa-file-pdf","fa-file-photo-o":"far fa-file-image","fa-file-picture-o":"far fa-file-image","fa-file-powerpoint-o":"far fa-file-powerpoint","fa-file-sound-o":"far fa-file-audio","fa-file-text":"fas fa-file-alt","fa-file-text-o":"far fa-file-alt","fa-file-video-o":"far fa-file-video","fa-file-word-o":"far fa-file-word","fa-file-zip-o":"far fa-file-archive","fa-files-o":"far fa-copy","fa-firefox":"fab fa-firefox","fa-first-order":"fab fa-first-order","fa-flag-o":"far fa-flag","fa-flash":"fas fa-bolt","fa-flickr":"fab fa-flickr","fa-floppy-o":"far fa-save","fa-folder-o":"far fa-folder","fa-folder-open-o":"far fa-folder-open","fa-font-awesome":"fab fa-font-awesome","fa-fonticons":"fab fa-fonticons","fa-fort-awesome":"fab fa-fort-awesome","fa-forumbee":"fab fa-forumbee","fa-foursquare":"fab fa-foursquare","fa-free-code-camp":"fab fa-free-code-camp","fa-frown-o":"far fa-frown","fa-futbol-o":"far fa-futbol","fa-gbp":"fas fa-pound-sign","fa-ge":"fab fa-empire","fa-gear":"fas fa-cog","fa-gears":"fas fa-cogs","fa-get-pocket":"fab fa-get-pocket","fa-gg":"fab fa-gg","fa-gg-circle":"fab fa-gg-circle","fa-globe":"fa fa-globe-americas","fa-git":"fab fa-git","fa-git-square":"fab fa-git-square","fa-github":"fab fa-github","fa-github-alt":"fab fa-github-alt","fa-github-square":"fab fa-github-square","fa-gitlab":"fab fa-gitlab","fa-gittip":"fab fa-gratipay","fa-glass":"fas fa-glass-martini","fa-glide":"fab fa-glide","fa-glide-g":"fab fa-glide-g","fa-google":"fab fa-google","fa-google-plus":"fab fa-google-plus-g","fa-google-plus-circle":"fab fa-google-plus","fa-google-plus-official":"fab fa-google-plus","fa-google-plus-square":"fab fa-google-plus-square","fa-google-wallet":"fab fa-google-wallet","fa-gratipay":"fab fa-gratipay","fa-grav":"fab fa-grav","fa-group":"fas fa-users","fa-hacker-news":"fab fa-hacker-news","fa-hand-grab-o":"far fa-hand-rock","fa-hand-lizard-o":"far fa-hand-lizard","fa-hand-o-down":"far fa-hand-point-down","fa-hand-o-left":"far fa-hand-point-left","fa-hand-o-right":"far fa-hand-point-right","fa-hand-o-up":"far fa-hand-point-up","fa-hand-paper-o":"far fa-hand-paper","fa-hand-peace-o":"far fa-hand-peace","fa-hand-pointer-o":"far fa-hand-pointer","fa-hand-rock-o":"far fa-hand-rock","fa-hand-scissors-o":"far fa-hand-scissors","fa-hand-spock-o":"far fa-hand-spock","fa-hand-stop-o":"far fa-hand-paper","fa-handshake-o":"far fa-handshake","fa-hard-of-hearing":"fas fa-deaf","fa-hdd-o":"far fa-hdd","fa-header":"fas fa-heading","fa-heart-o":"far fa-heart","fa-hospital-o":"far fa-hospital","fa-hotel":"fas fa-bed","fa-hourglass-1":"fas fa-hourglass-start","fa-hourglass-2":"fas fa-hourglass-half","fa-hourglass-3":"fas fa-hourglass-end","fa-hourglass-o":"far fa-hourglass","fa-houzz":"fab fa-houzz","fa-html5":"fab fa-html5","fa-id-badge":"far fa-id-badge","fa-id-card-o":"far fa-id-card","fa-ils":"fas fa-shekel-sign","fa-image":"far fa-image","fa-imdb":"fab fa-imdb","fa-inr":"fas fa-rupee-sign","fa-instagram":"fab fa-instagram","fa-institution":"fas fa-university","fa-internet-explorer":"fab fa-internet-explorer","fa-intersex":"fas fa-transgender","fa-ioxhost":"fab fa-ioxhost","fa-joomla":"fab fa-joomla","fa-jpy":"fas fa-yen-sign","fa-jsfiddle":"fab fa-jsfiddle","fa-keyboard-o":"far fa-keyboard","fa-krw":"fas fa-won-sign","fa-lastfm":"fab fa-lastfm","fa-lastfm-square":"fab fa-lastfm-square","fa-leanpub":"fab fa-leanpub","fa-legal":"fas fa-gavel","fa-lemon-o":"far fa-lemon","fa-level-down":"fas fa-level-down-alt","fa-level-up":"fas fa-level-up-alt","fa-life-bouy":"far fa-life-ring","fa-life-buoy":"far fa-life-ring","fa-life-ring":"far fa-life-ring","fa-life-saver":"far fa-life-ring","fa-lightbulb-o":"far fa-lightbulb","fa-line-chart":"fas fa-chart-line","fa-linkedin":"fab fa-linkedin-in","fa-linkedin-square":"fab fa-linkedin","fa-linode":"fab fa-linode","fa-linux":"fab fa-linux","fa-list-alt":"far fa-list-alt","fa-long-arrow-down":"fas fa-long-arrow-alt-down","fa-long-arrow-left":"fas fa-long-arrow-alt-left","fa-long-arrow-right":"fas fa-long-arrow-alt-right","fa-long-arrow-up":"fas fa-long-arrow-alt-up","fa-mail-forward":"fas fa-share","fa-mail-reply":"fas fa-reply","fa-mail-reply-all":"fas fa-reply-all","fa-map-marker":"fas fa-map-marker-alt","fa-map-o":"far fa-map","fa-maxcdn":"fab fa-maxcdn","fa-meanpath":"fab fa-font-awesome","fa-medium":"fab fa-medium","fa-meetup":"fab fa-meetup","fa-meh-o":"far fa-meh","fa-minus-square-o":"far fa-minus-square","fa-mixcloud":"fab fa-mixcloud","fa-mobile":"fas fa-mobile-alt","fa-mobile-phone":"fas fa-mobile-alt","fa-modx":"fab fa-modx","fa-money":"far fa-money-bill-alt","fa-moon-o":"far fa-moon","fa-mortar-board":"fas fa-graduation-cap","fa-navicon":"fas fa-bars","fa-newspaper-o":"far fa-newspaper","fa-object-group":"far fa-object-group","fa-object-ungroup":"far fa-object-ungroup","fa-odnoklassniki":"fab fa-odnoklassniki","fa-odnoklassniki-square":"fab fa-odnoklassniki-square","fa-opencart":"fab fa-opencart","fa-openid":"fab fa-openid","fa-opera":"fab fa-opera","fa-optin-monster":"fab fa-optin-monster","fa-pagelines":"fab fa-pagelines","fa-paper-plane-o":"far fa-paper-plane","fa-paste":"far fa-clipboard","fa-pause-circle-o":"far fa-pause-circle","fa-paypal":"fab fa-paypal","fa-pencil":"fas fa-pencil-alt","fa-pencil-square":"fas fa-pen-square","fa-pencil-square-o":"far fa-edit","fa-photo":"far fa-image","fa-picture-o":"far fa-image","fa-pie-chart":"fas fa-chart-pie","fa-pied-piper":"fab fa-pied-piper","fa-pied-piper-alt":"fab fa-pied-piper-alt","fa-pied-piper-pp":"fab fa-pied-piper-pp","fa-pinterest":"fab fa-pinterest","fa-pinterest-p":"fab fa-pinterest-p","fa-pinterest-square":"fab fa-pinterest-square","fa-play-circle-o":"far fa-play-circle","fa-plus-square-o":"far fa-plus-square","fa-product-hunt":"fab fa-product-hunt","fa-qq":"fab fa-qq","fa-question-circle-o":"far fa-question-circle","fa-quora":"fab fa-quora","fa-ra":"fab fa-rebel","fa-ravelry":"fab fa-ravelry","fa-rebel":"fab fa-rebel","fa-reddit":"fab fa-reddit","fa-reddit-alien":"fab fa-reddit-alien","fa-reddit-square":"fab fa-reddit-square","fa-refresh":"fas fa-sync","fa-registered":"far fa-registered","fa-remove":"fas fa-times","fa-renren":"fab fa-renren","fa-reorder":"fas fa-bars","fa-repeat":"fas fa-redo","fa-resistance":"fab fa-rebel","fa-rmb":"fas fa-yen-sign","fa-rotate-left":"fas fa-undo","fa-rotate-right":"fas fa-redo","fa-rouble":"fas fa-ruble-sign","fa-rub":"fas fa-ruble-sign","fa-ruble":"fas fa-ruble-sign","fa-rupee":"fas fa-rupee-sign","fa-s15":"fas fa-bath","fa-safari":"fab fa-safari","fa-scissors":"fas fa-cut","fa-scribd":"fab fa-scribd","fa-sellsy":"fab fa-sellsy","fa-send":"fas fa-paper-plane","fa-send-o":"far fa-paper-plane","fa-share-square-o":"far fa-share-square","fa-shekel":"fas fa-shekel-sign","fa-sheqel":"fas fa-shekel-sign","fa-shield":"fas fa-shield-alt","fa-shirtsinbulk":"fab fa-shirtsinbulk","fa-sign-in":"fas fa-sign-in-alt","fa-sign-out":"fas fa-sign-out-alt","fa-signing":"fas fa-sign-language","fa-simplybuilt":"fab fa-simplybuilt","fa-skyatlas":"fab fa-skyatlas","fa-skype":"fab fa-skype","fa-slack":"fab fa-slack","fa-sliders":"fas fa-sliders-h","fa-slideshare":"fab fa-slideshare","fa-smile-o":"far fa-smile","fa-snapchat":"fab fa-snapchat","fa-snapchat-ghost":"fab fa-snapchat-ghost","fa-snapchat-square":"fab fa-snapchat-square","fa-snowflake-o":"far fa-snowflake","fa-soccer-ball-o":"far fa-futbol","fa-sort-alpha-asc":"fas fa-sort-alpha-down","fa-sort-alpha-desc":"fas fa-sort-alpha-up","fa-sort-amount-asc":"fas fa-sort-amount-down","fa-sort-amount-desc":"fas fa-sort-amount-up","fa-sort-asc":"fas fa-sort-up","fa-sort-desc":"fas fa-sort-down","fa-sort-numeric-asc":"fas fa-sort-numeric-down","fa-sort-numeric-desc":"fas fa-sort-numeric-up","fa-soundcloud":"fab fa-soundcloud","fa-spoon":"fas fa-utensil-spoon","fa-spotify":"fab fa-spotify","fa-square-o":"far fa-square","fa-stack-exchange":"fab fa-stack-exchange","fa-stack-overflow":"fab fa-stack-overflow","fa-star-half-empty":"far fa-star-half","fa-star-half-full":"far fa-star-half","fa-star-half-o":"far fa-star-half","fa-star-o":"far fa-star","fa-steam":"fab fa-steam","fa-steam-square":"fab fa-steam-square","fa-sticky-note-o":"far fa-sticky-note","fa-stop-circle-o":"far fa-stop-circle","fa-stumbleupon":"fab fa-stumbleupon","fa-stumbleupon-circle":"fab fa-stumbleupon-circle","fa-sun-o":"far fa-sun","fa-superpowers":"fab fa-superpowers","fa-support":"far fa-life-ring","fa-tablet":"fas fa-tablet-alt","fa-tachometer":"fas fa-tachometer-alt","fa-telegram":"fab fa-telegram","fa-television":"fas fa-tv","fa-tencent-weibo":"fab fa-tencent-weibo","fa-themeisle":"fab fa-themeisle","fa-thermometer":"fas fa-thermometer-full","fa-thermometer-0":"fas fa-thermometer-empty","fa-thermometer-1":"fas fa-thermometer-quarter","fa-thermometer-2":"fas fa-thermometer-half","fa-thermometer-3":"fas fa-thermometer-three-quarters","fa-thermometer-4":"fas fa-thermometer-full","fa-thumb-tack":"fas fa-thumbtack","fa-thumbs-o-down":"far fa-thumbs-down","fa-thumbs-o-up":"far fa-thumbs-up","fa-ticket":"fas fa-ticket-alt","fa-times-circle-o":"far fa-times-circle","fa-times-rectangle":"fas fa-window-close","fa-times-rectangle-o":"far fa-window-close","fa-toggle-down":"far fa-caret-square-down","fa-toggle-left":"far fa-caret-square-left","fa-toggle-right":"far fa-caret-square-right","fa-toggle-up":"far fa-caret-square-up","fa-trash":"fas fa-trash-alt","fa-trash-o":"far fa-trash-alt","fa-trello":"fab fa-trello","fa-tripadvisor":"fab fa-tripadvisor","fa-try":"fas fa-lira-sign","fa-tumblr":"fab fa-tumblr","fa-tumblr-square":"fab fa-tumblr-square","fa-turkish-lira":"fas fa-lira-sign","fa-twitch":"fab fa-twitch","fa-twitter":"fab fa-twitter","fa-twitter-square":"fab fa-twitter-square","fa-unsorted":"fas fa-sort","fa-usb":"fab fa-usb","fa-usd":"fas fa-dollar-sign","fa-user-circle-o":"far fa-user-circle","fa-user-o":"far fa-user","fa-vcard":"fas fa-address-card","fa-vcard-o":"far fa-address-card","fa-viacoin":"fab fa-viacoin","fa-viadeo":"fab fa-viadeo","fa-viadeo-square":"fab fa-viadeo-square","fa-video-camera":"fas fa-video","fa-vimeo":"fab fa-vimeo-v","fa-vimeo-square":"fab fa-vimeo-square","fa-vine":"fab fa-vine","fa-vk":"fab fa-vk","fa-volume-control-phone":"fas fa-phone-volume","fa-warning":"fas fa-exclamation-triangle","fa-wechat":"fab fa-weixin","fa-weibo":"fab fa-weibo","fa-weixin":"fab fa-weixin","fa-whatsapp":"fab fa-whatsapp","fa-wheelchair-alt":"fab fa-accessible-icon","fa-wikipedia-w":"fab fa-wikipedia-w","fa-window-close-o":"far fa-window-close","fa-window-maximize":"far fa-window-maximize","fa-window-restore":"far fa-window-restore","fa-windows":"fab fa-windows","fa-won":"fas fa-won-sign","fa-wordpress":"fab fa-wordpress","fa-wpbeginner":"fab fa-wpbeginner","fa-wpexplorer":"fab fa-wpexplorer","fa-wpforms":"fab fa-wpforms","fa-xing":"fab fa-xing","fa-xing-square":"fab fa-xing-square","fa-y-combinator":"fab fa-y-combinator","fa-y-combinator-square":"fab fa-hacker-news","fa-yahoo":"fab fa-yahoo","fa-yc":"fab fa-y-combinator","fa-yc-square":"fab fa-hacker-news","fa-yelp":"fab fa-yelp","fa-yen":"fas fa-yen-sign","fa-yoast":"fab fa-yoast","fa-youtube":"fab fa-youtube","fa-youtube-play":"fab fa-youtube","fa-youtube-square":"fab fa-youtube-square"},xt=function(t){return t in wt?wt[t]:t},Ct={computed:{getAvatar:function(){return this.user&&this.user.avatar?this.user.avatar:this.$http.options.root+"/../"+window.crudadmin.path+"/dist/img/avatar5.png"}},created:function(){window.trans||(window.trans=this.trans)},methods:{trans:function(t){return t in this.$root.localization?this.$root.localization[t]:t},faMigrator:function(t){return xt(t)},scrollTo:function(t,e){$("html, body").animate({scrollTop:$(t).offset().top-10},500,e)}}},kt=st({props:["model","row"]},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:["btn","btn-sm",{"btn-info":!t.row.published_at,"btn-warning":t.row.published_at}],attrs:{"data-button":"publishable",type:"button","data-published":t.row.published_at?"true":"false","data-toggle":"tooltip","data-original-title":t.row.published_at?t.trans("hide"):t.trans("show")},on:{click:function(e){return t.model.togglePublishedAt(t.row.id)}}},[i("i",{class:{fa:!0,"fa-eye":t.row.published_at,"fa-eye-slash":!t.row.published_at}})])}),[],!1,null,null,null).exports,St=st({props:["model","button","buttonKey","row"],computed:{iconClasses:function(){var t=this.model.getData("button_loading");return["fa",t==this.model.getButtonKey(this.row.id,this.buttonKey)?"fa-sync-alt":this.faMigrator(this.button.icon),{"fa-spin":t==this.model.getButtonKey(this.row.id,this.buttonKey)}]}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:["btn","btn-sm",t.button.class],attrs:{type:"button","data-button":"action-"+t.button.key,"data-toggle":"tooltip","data-html":t.button.tooltipEncode?"false":"true","data-original-title":t.button.name},on:{click:function(e){return t.model.buttonAction(t.buttonKey,t.button,t.row)}}},[i("i",{class:t.iconClasses})])}),[],!1,null,null,null).exports,Ot=i(6),Dt=i.n(Ot);function Et(t,e,i,n,a,o,r){try{var s=t[o](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,a)}function Mt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function $t(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(i),!0).forEach((function(e){Tt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Mt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Tt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Rt,At={name:"TreeItem",props:["item","parentRow","items","sortable","disabledTypes"],components:{TreeItem:Ft,PublishButton:kt,draggable:Dt.a,ButtonsAction:St},data:function(){var t=this.getActiveModel("site_trees");return{showSubTree:!1,row:b.a.cloneDeep(this.item||t.emptyRowInstance()),model:t,errors:[]}},watch:{"row.type":function(t){"group-link"!==t&&(this.row.group_type=null)},rowValuesWatcher:b.a.debounce((function(t,e){this.row.id&&this.saveItem()}),1e3)},computed:$t({selectedLink:function(){if(this.isUrl)return this.getValueOrLocalized("url");if(!this.isGroup&&this.row.type&&this.row.row_id&&this.models[this.row.model]){var t=b.a.find(this.models[this.row.model].rows,{id:this.row.row_id});if(t)return t._url}},rowValuesWatcher:function(){return[JSON.stringify(this.row.name),JSON.stringify(this.row.url),this.row.type,this.row.group_type,this.row.model,this.row.insertable,this.row.row_id].join(",")}},Object(ct.c)("sitetree",["models"]),{nextLevel:function(){return this.item?b.a.filter(this.items,{parent_id:this.item.id}):[]},isModelSelect:function(){return"model"==this.row.type||"model"==this.row.group_type},isGroup:function(){return["group","group-link"].indexOf(this.row.type)>-1},isGroupLink:function(){return["group-link"].indexOf(this.row.type)>-1},isUrl:function(){return"url"==this.row.type||"url"==this.row.group_type},editorMode:function(){return 1==this.model.getData("sitetree_editor")},selectedModelRows:function(){var t=this,e=this.models[this.row.model];return e&&0!=e.rows.length?e.rows.map((function(i){return i.name=t.getLocaleFieldValue(i[e.column]),i})):{}}}),methods:{modelsOptions:function(t){var e=this,i={};if(!this.disabledTypes||-1==this.disabledTypes.indexOf("model"))for(var n in this.models)i[n]=this.models[n].name;return this.model.fields.type.options.forEach((function(n){if(!0===t&&["group","group-link"].indexOf(n[0])>-1)return!1;["model"].indexOf(n[0])>-1||e.disabledTypes&&e.disabledTypes.indexOf(n[0])>-1||(i["$"+n[0]]=n[1])})),i},rowGroupType:function(t){return"model"==this.row[t]?this.row.model:this.row[t]?"$"+this.row[t]:void 0},isLocalized:function(t){return"locale"in this.model.fields[t]},getValueOrLocalized:function(t){return this.isLocalized(t)?(this.row[t]||{})[this.model.selectedLanguage().slug]:this.row[t]},onGroupTypeChange:function(t,e){"$"==e.substr(0,1)?this.row[t]=e.substr(1):(this.row[t]="model",this.row.model=e)},updateValue:function(t,e){var i;this.isLocalized(t)?(i=this.row[t]||{},i=b.a.isArray(i)?{}:i,this.$set(i,this.model.selectedLanguage().slug,e.target.value)):i=e.target.value,this.$set(this.row,t,i)},hasError:function(t){return this.errors.indexOf(t)>-1},castRow:function(t){var e=this;return t=b.a.cloneDeep(t),["name","url"].forEach((function(i){if(e.isLocalized(i)){for(var n in t[i]||{})t[i][n]||delete t[i][n];t[i]&&0==Object.values(t[i]).filter((function(t){return t})).length&&delete t[i]}})),t},saveItem:(Rt=function(t){return function(){var e=this,i=arguments;return new Promise((function(n,a){var o=t.apply(e,i);function r(t){Et(o,n,a,r,s,"next",t)}function s(t){Et(o,n,a,r,s,"throw",t)}r(void 0)}))}}(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.errors=[],t.prev=1,t.next=4,this.$http.post(crudadmin.baseURL+"/sitetree/store",$t({},this.castRow(this.row),{parent_id:this.parentRow?this.parentRow.id:null}));case 4:t.sent,this.row.id||(this.row=this.model.emptyRowInstance(),this.model.loadRows()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),422==t.t0.status&&(this.errors=Object.keys(t.t0.body.errors).map((function(t){return t.split(".").length>1?t.split(".")[0]:t})));case 11:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return Rt.apply(this,arguments)}),removeItem:function(t){this.model.removeRow(t.id)}}},Ft=(i(162),st(At,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sitetree__item__wrapper"},[i("div",{staticClass:"sitetree__item"},[t.sortable&&t.row.id?i("div",{staticClass:"sitetree__item__drag"},[i("i",{staticClass:"fa fa-grip-vertical"})]):t._e(),t._v(" "),i("div",{staticClass:"sitetree__item__inputs"},[i("div",{staticClass:"form-group",class:{"has-error":t.hasError("name")},attrs:{"data-toggle":"tooltip",title:t._("Zadajte názov odkazu/sekcie")}},[i("input",{staticClass:"form-control",attrs:{type:"text",placeholder:t.getLocaleFieldValue(t.row.name)||t._("Zadajte názov odkazu/sekcie")},domProps:{value:t.getValueOrLocalized("name")},on:{keyup:function(e){return t.updateValue("name",e)}}})]),t._v(" "),!t.isGroup||t.editorMode?i("div",{staticClass:"form-group",class:{"has-error":t.hasError("type")},attrs:{"data-toggle":"tooltip",title:t._("Vyberte typ podstránky")}},[i("vue-chosen",{attrs:{placeholder:t._("Vyberte typ podstránky"),value:t.rowGroupType("type"),options:t.modelsOptions()},on:{input:function(e){return t.onGroupTypeChange("type",e)}}})],1):t._e(),t._v(" "),t.isGroupLink?i("div",{staticClass:"form-group",class:{"has-error":t.hasError("group_type")},attrs:{"data-toggle":"tooltip",title:t._("Vyberte typ presmerovania")}},[i("vue-chosen",{attrs:{placeholder:t._("Vyberte typ presmerovania"),value:t.rowGroupType("group_type"),options:t.modelsOptions(!0)},on:{input:function(e){return t.onGroupTypeChange("group_type",e)}}})],1):t._e(),t._v(" "),t.isUrl?i("div",{staticClass:"form-group",class:{"has-error":t.hasError("url")},attrs:{"data-toggle":"tooltip",title:t._("Zadajte url adresu odkazu")}},[i("input",{staticClass:"form-control",attrs:{type:"text",placeholder:t.getLocaleFieldValue(t.row.url)||t._("Zadajte url adresu odkazu")},domProps:{value:t.getValueOrLocalized("url")},on:{keyup:function(e){return t.updateValue("url",e)}}})]):t._e(),t._v(" "),t.isModelSelect?i("div",{key:t.rowGroupType("type"),staticClass:"form-group",class:{"has-error":t.hasError("row_id")}},[i("vue-chosen",{attrs:{placeholder:t._("Vyberte záznam podstránky"),"track-by":"id",label:"name",options:t.selectedModelRows},model:{value:t.row.row_id,callback:function(e){t.$set(t.row,"row_id",e)},expression:"row.row_id"}})],1):t._e(),t._v(" "),t.row.id?t._e():i("button",{staticClass:"btn btn-primary",on:{click:t.saveItem}},[t._v(t._s(t._("Pridať")))])]),t._v(" "),i("div",{staticClass:"sitetree__item__actions"},[t.selectedLink?i("a",{staticClass:"btn btn-sm",attrs:{target:"_blank",href:t.selectedLink}},[i("i",{staticClass:"fa fa-link"})]):t._e(),t._v(" "),t.row.id&&t.isGroup&&(t.row.insertable||t.nextLevel.length>0)?i("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){t.showSubTree=!t.showSubTree}}},[i("i",{staticClass:"fa",class:{"fa-angle-down":!t.showSubTree,"fa-angle-up":t.showSubTree}})]):t._e(),t._v(" "),t.isGroup&&t.editorMode?i("button",{staticClass:"btn btn-sm",class:{"btn-success":t.model.isActiveRow(t.row),"btn-default":!t.model.isActiveRow(t.row)},attrs:{"data-toggle":"tooltip",title:t._("Upraviť skupinu")},on:{click:function(e){return t.model.selectRow(t.row)}}},[i("i",{staticClass:"far fa-edit"})]):t._e(),t._v(" "),t.isGroup&&t.editorMode?i("button",{staticClass:"btn btn-sm btn-default",attrs:{"data-toggle":"tooltip",title:t._("Zámok na pridavanie do skupiny")},on:{click:function(e){t.row.insertable=!t.row.insertable}}},[i("i",{staticClass:"fa",class:{"fa-lock":!t.row.insertable,"fa-lock-open":t.row.insertable}})]):t._e(),t._v(" "),t._l(t.model.getButtonsForRow(t.row),(function(e,n){return i("buttons-action",{key:n,attrs:{button:e,row:t.row,buttonKey:n,model:t.model}})})),t._v(" "),t.row.id&&t.model.canUnpublishRow(t.row)?i("publish-button",{attrs:{model:t.model,row:t.item}}):t._e(),t._v(" "),t.row.id?i("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.removeItem(t.row)}}},[i("i",{staticClass:"fa fa-trash"})]):t._e()],2)]),t._v(" "),t.showSubTree?i("div",{staticClass:"sitetree__subtree"},[i(t.item.sortable?"draggable":"div",t._b({tag:"component",attrs:{group:{put:!1},handle:".sitetree__item__drag"},on:{start:function(e){return t.model.onDragStart(e)},end:function(e){return t.model.onDragEnd(e,t.nextLevel)}}},"component",t.model.getDragOptions(),!1),t._l(t.nextLevel,(function(e){return i("TreeItem",{key:e.id,attrs:{item:e,parentRow:t.item,sortable:t.item.sortable,disabledTypes:t.item.disabled_types,items:t.items}})})),1),t._v(" "),t.isGroup&&t.row.insertable?i("TreeItem",{attrs:{disabledTypes:t.item.disabled_types,parentRow:t.item}}):t._e()],1):t._e()])}),[],!1,null,"d9433676",null).exports),jt=st({props:["model"],computed:{languages:function(){return this.$root.languages}},methods:{changeLanguage:function(t){this.model.setData("selected_language_id",t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.model.hasLocaleFields()&&t.model.selectedLanguage()&&t.languages.length>1?i("div",{staticClass:"dropdown multi-languages",attrs:{"data-form-language-switch":""}},[i("button",{staticClass:"btn btn-default dropdown-toggle btn-sm",attrs:{type:"button",id:"languageDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[i("i",{staticClass:"--icon-left fa fa-globe-americas"}),t._v(" "),i("span",{staticClass:"text"},[t._v(t._s(t.getLangName(t.model.selectedLanguage())))]),t._v(" "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"languageDropdown"}},t._l(t.languages,(function(e){return t.model.selectedLanguage().id!=e.id?i("li",{staticClass:"--no-item-padding",attrs:{"data-slug":e.slug}},[i("a",{staticClass:"--dropdown-item-padding",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.changeLanguage(e.id)}}},[t._v("\n                "+t._s(t.getLangName(e))+"\n            ")])]):t._e()})),0)]):t._e()}),[],!1,null,null,null).exports;function Pt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function It(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Lt=st({props:["model"],components:{TreeItem:Ft,draggable:Dt.a,ModelLanguageSwitch:jt},watch:{siteTreeModels:function(t){this.setModels(t)}},computed:{siteTreeModels:function(){return this.model.getData("sitetree_models")},items:function(){return this.model.getRows()},firstLevel:function(){return _.filter(this.items,{parent_id:null})},firstLevelDisabledTypes:function(){return["url","model"]}},methods:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(i),!0).forEach((function(e){It(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Pt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(ct.b)("sitetree",["setModels"]))},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"box box--presets"},[i("div",{staticClass:"box-header box-header--actions"},[i("div",{staticClass:"box-header__left"},[i("div",[i("h1",{staticClass:"box-header__title"},[t._v(t._s(t.model.name))]),t._v(" "),t.model.title?i("p",{staticClass:"box-header__description"},[t._v(t._s(t.model.title))]):t._e()])]),t._v(" "),i("div",{staticClass:"box-header__right"},[i("model-language-switch",{attrs:{model:t.model}})],1)]),t._v(" "),i("div",{staticClass:"box-body"},[t._l(t.firstLevel,(function(e){return i("TreeItem",{key:e.id,attrs:{item:e,items:t.items,sortable:!1,disabledTypes:t.firstLevelDisabledTypes}})})),t._v(" "),t.model.getData("sitetree_editor")?i("TreeItem",{attrs:{disabledTypes:t.firstLevelDisabledTypes}}):t._e()],2)])])}),[],!1,null,"36db19da",null).exports;function Nt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var qt=st({props:{value:{type:[String,Number,Array,Object],default:null},options:{type:[Array,Object],default:function(){return[]}},label:{type:String,default:"label"},trackBy:{type:String,default:"id"},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:"Select"},searchable:{type:Boolean,default:!0},searchableMin:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},allowAll:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onValueReturn:{type:Object,default:function(){return{}}}},computed:{localOptions:function(){var t,e,i=this,n=[];this.allowAll&&n.push((Nt(e={},this.trackBy,-1),Nt(e,this.label,"All"),e));return Array.isArray(this.options)?n.concat(this.options):(Object.keys(this.options).forEach((function(t){var e;n.push((Nt(e={},i.trackBy,t),Nt(e,i.label,i.options[t]),e))})),this.allowEmpty?[(t={},Nt(t,this.trackBy,null),Nt(t,this.label,""),t)].concat(n):n)},localValue:function(){var t=this.allowAll&&null===this.value?-1:this.value;return this.$nextTick((function(){$(this.$el).val(t).trigger("chosen:updated")})),t}},watch:{localValue:function(){},localOptions:function(){this.$nextTick((function(){var t=this.allowAll&&null===this.value?"-1":this.value;$(this.$el).val(t).trigger("chosen:updated")}))}},mounted:function(){var t=this;$(this.$el).chosen({width:"100%",disable_search_threshold:this.searchable?this.searchableMin:1e5}).change((function(e){var i=$(e.target).val();return void 0!==t.onValueReturn[i]?t.$emit("input",t.onValueReturn[i]):!t.allowAll||"-1"!==$(e.target).val()&&-1!==$(e.target).val()?void t.$emit("input",$(e.target).val()):t.$emit("input",null)}))}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("select",{attrs:{"data-placeholder":t.placeholder,multiple:t.multiple,disabled:t.disabled}},t._l(t.localOptions,(function(e){return i("option",{domProps:{value:e[t.trackBy]}},[t._v("\n        "+t._s(e[t.label])+"\n    ")])})),0)}),[],!1,null,null,null).exports,Vt=st({props:["model","field_name","field_key","field","value","required","disabled","readonly"],computed:{isPassword:function(){return"password"==this.field.type}},methods:{changeValue:function(t){this.$parent.changeValue(t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group",class:{disabled:t.disabled||t.readonly},attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[i("label",[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v("\n        "+t._s(t.field_name)+"\n        "),t.required?i("span",{staticClass:"required"},[t._v("*")]):t._e()]),t._v(" "),i("input",{staticClass:"form-control",attrs:{autocomplete:t.isPassword?"new-password":"off",type:t.isPassword?"password":"text",name:t.field_key,maxlength:t.field.max,placeholder:t.field.placeholder||t.field_name,disabled:t.disabled,readonly:t.readonly},domProps:{value:t.value},on:{change:t.changeValue,keyup:t.changeValue}}),t._v(" "),i("small",[t._v(t._s(t.field.title))])])}),[],!1,null,null,null).exports,zt=st({props:["model","field_name","field_key","field","value","required","disabled","readonly"],computed:{isDecimal:function(){return"decimal"==this.field.type},getDecimalStep:function(){var t=((this.field.decimal_length||"").replace(":",",")||"8,2").split(",");return"0."+_.repeat(0,t[1]-1)+"1"}},methods:{changeValue:function(t){this.$parent.changeValue(t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group",class:{disabled:t.disabled||t.readonly},attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[i("label",[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v("\n        "+t._s(t.field_name)+"\n        "),t.required?i("span",{staticClass:"required"},[t._v("*")]):t._e()]),t._v(" "),i("input",{staticClass:"form-control",attrs:{type:"number",name:t.field_key,step:t.isDecimal?t.getDecimalStep:"",placeholder:t.field.placeholder||t.field_name,disabled:t.disabled,readonly:t.readonly},domProps:{value:t.value},on:{keyup:t.changeValue}}),t._v(" "),i("small",[t._v(t._s(t.field.title))])])}),[],!1,null,null,null).exports,Bt=st({props:["model","field_name","field_key","field","value","required","disabled","readonly","depth_level"],created:function(){$.datetimepicker.setLocale(this.$root.locale)},mounted:function(){var t=this;this.bindDatepickers(),eventHub.$on("updateField",this.onUpdateEvent=function(e){e.table==t.model.slug&&e.depth_level==t.depth_level&&e.key==t.$parent.field_key&&t.bindDatepickers()})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent)},watch:{"field.date_step":function(t){this.bindDatepickers()}},computed:{isMultipleDatepicker:function(){return 1==this.field.multiple},getMultiDates:function(){var t=this,e=this.field.value||[];return $.isArray(e)||(e=[]),_.cloneDeep(e).filter((function(e){return e.length==("time"==t.field.type?5:10)}))}},methods:{getInput:function(){return $(this.$refs.input)},bindDatepickers:function(){if(!0!==this.readonly){var t=this;this.getInput().datetimepicker({lang:this.$root.locale,format:this.field.date_format,timepicker:"date"!=this.field.type,datepicker:"time"!=this.field.type,scrollInput:!1,timepickerScrollbar:!1,dayOfWeekStart:1,step:this.field.date_step?parseInt(this.field.date_step):30,scrollMonth:!1,scrollYear:!1,inline:this.isMultipleDatepicker,onGenerate:function(e){t.onGenerate(this,e)},onChangeDateTime:this.onChangeDateTime})}},onGenerate:function(t,e){if(this.isMultipleDatepicker){t.addClass("multiple-dates");for(var i=this.getMultiDates,n=0;n<i.length;n++){var a="time"==this.field.type?i[n].split(":"):new Date(i[n]),o="time"==this.field.type?'div[data-hour="'+parseInt(a[0])+'"][data-minute="'+parseInt(a[1])+'"]':'td[data-date="'+a.getDate()+'"][data-month="'+a.getMonth()+'"][data-year="'+a.getFullYear()+'"]';t.find(o).addClass("multiple-selected")}}},onChangeDateTime:function(t){if(t)if(this.isMultipleDatepicker){var e=moment(t).format("time"==this.field.type?"HH:mm":"YYYY-MM-DD"),i=this.getMultiDates,n=i.indexOf(e);n>-1?i.splice(n,1):i.push(e),this.changeValue(null,i)}else{e=moment(t).format(this.$root.fromPHPFormatToMoment(this.field.date_format));this.changeValue(null,e)}},getMultiDateValue:function(t){return"time"==this.field.type&&5==t.length&&":"==t[2]?t:moment(t).format("YYYY-MM-DD")},changeValue:function(t,e){this.$parent.changeValue(t,e)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group",class:{disabled:t.disabled||t.readonly,"multiple-date":t.isMultipleDatepicker},attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[i("label",[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v("\n        "+t._s(t.field_name)+" "),t.required?i("span",{staticClass:"required"},[t._v("*")]):t._e()]),t._v(" "),i("input",{ref:"input",staticClass:"form-control",attrs:{type:"text",disabled:t.disabled,readonly:t.readonly,name:t.isMultipleDatepicker?"":t.field_key,placeholder:t.field.placeholder||t.field_name,autocomplete:"off"},domProps:{value:t.value},on:{keyup:t.changeValue}}),t._v(" "),t.isMultipleDatepicker&&0==t.getMultiDates.length?i("input",{attrs:{type:"hidden",name:t.field_key+"[]",value:""}}):t._e(),t._v(" "),t._l(t.getMultiDates,(function(e){return t.isMultipleDatepicker?i("input",{attrs:{type:"hidden",name:t.field_key+"[]"},domProps:{value:t.getMultiDateValue(e)}}):t._e()})),t._v(" "),i("small",[t._v(t._s(t.field.title))])],2)}),[],!1,null,null,null).exports,Ht=st({props:["model","field_name","field_key","field","value","required","disabled"],methods:{changeValue:function(t){this.$parent.changeValue(t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group",class:{disabled:t.disabled}},[i("label",{staticClass:"checkbox",attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v("\n        "+t._s(t.field_name)+" "),t.field.placeholder?i("span",[t._v(t._s(t.field.placeholder))]):t._e(),t._v(" "),i("input",{staticClass:"ios-switch green",attrs:{type:"checkbox",value:"1",disabled:t.disabled,name:t.field_key},domProps:{checked:1==t.value},on:{change:t.changeValue}}),t._v(" "),t._m(0)]),t._v(" "),i("small",[t._v(t._s(t.field.title))])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div")])}],!1,null,null,null).exports,Gt=st({props:["id","model","field_name","field_key","field","value","required","disabled","readonly","depth_level"],mounted:function(){var t=this;$("#"+this.id).ckEditors();this.isEditor&&CKEDITOR.instances[this.id].on("change",(function(e){t.$parent.changeValue(null,e.editor.getData())})),eventHub.$on("updateField",this.onUpdateEvent=function(e){if(e.table==t.model.slug&&e.depth_level==t.depth_level&&e.key==t.$parent.field_key&&t.isEditor){var i=CKEDITOR.instances[t.id];if(i){var n=t.$parent.getLocalizedValue(t.field.value)||"";i.setData(n),i.on("instanceReady",(function(){t.onReadyInstance&&clearTimeout(t.onReadyInstance),t.onReadyInstance=setTimeout((function(){_.trim(i.getData())!=_.trim(n)&&i.setData(n)}),20)}))}}})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent)},computed:{isText:function(){return["text","longtext"].indexOf(this.field.type)>-1},isEditor:function(){return["editor","longeditor"].indexOf(this.field.type)>-1}},methods:{changeValue:function(t){this.$parent.changeValue(t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group",class:{disabled:t.disabled||t.readonly},attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[i("label",[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v(" "+t._s(t.field_name)+"\n        "),t.required?i("span",{staticClass:"required"},[t._v("*")]):t._e()]),t._v(" "),i("textarea",{class:{"form-control":t.isText,js_editor:t.isEditor},attrs:{rows:"5",id:t.id,"data-height":t.field.editor_height,disabled:t.disabled,readonly:t.readonly,name:t.field_key,maxlength:t.field.max,placeholder:t.field.placeholder||t.field_name},domProps:{value:t.value},on:{keyup:t.changeValue}}),t._v(" "),i("small",[t._v(t._s(t.field.title))])])}),[],!1,null,null,null).exports,Ut={props:["id","model","field_name","field_key","field","value","required","disabled","readonly","depth_level"],data:function(){return{initializing:!1,initialized:!1,destroying:!1}},mounted:function(){var t=this;this.tryInitializeEditor(),eventHub.$on("disableGutenbergEditors",this.$disableGutenbergEditors=function(e){1!=t.initializing&&1!=t.initialized||e.id==t.id||t.removeEditor(e.callback)}),eventHub.$on("updateField",this.$updateField=function(e){if(1!=t.destroying&&e.table==t.model.slug&&e.depth_level==t.depth_level&&e.key==t.$parent.field_key){var i=t.$parent.getLocalizedValue(t.field.value)||"";1==t.initialized&&Gutenberg.setContent(i)}}),wp.data.subscribe(_.debounce((function(e){1!=t.destroying&&0!=t.initialized&&t.$parent.changeValue(null,Gutenberg.getContent())}),500))},beforeDestroy:function(){this.removeEditor(),eventHub.$off("updateField",this.$updateField),eventHub.$off("disableGutenbergEditors",this.$disableGutenbergEditors)},computed:{elementKeyRender:function(){return this.initializing||this.initialized?"initialized":"unitialized"}},methods:{toggleEditorInstance:function(){var t=this;this.initializing||(this.initializing=!0,setTimeout((function(){Gutenberg.editor?eventHub.$emit("disableGutenbergEditors",{id:t.id,callback:function(){t.tryInitializeEditor()}}):t.tryInitializeEditor()}),100))},onEditorBoot:function(){!1!==this.initializing&&(this.initialized=!0,Gutenberg.setContent(this.value||""))},flushStorage:function(){sessionStorage.removeItem("wp-autosave-block-editor-post-1")},tryInitializeEditor:function(){Gutenberg.editor||Gutenberg.initialized||this.initializeEditor()},initializeEditor:function(){var t=this;Gutenberg.initialized=!0,this.initializing=!0,this.destroying=!1,this.flushStorage(),this.$nextTick((function(){Gutenberg.init(t.id,{laravelFilemanager:{prefix:"/admin/filemanager"},onBoot:function(){t.onEditorBoot()}})}))},removeEditor:function(t){Gutenberg.initialized=!1,this.initializing=!1,this.initialized=!1,this.destroying=!0;try{this.flushStorage();var e=wp.data.select("core/blocks").getBlockTypes().map((function(t){return t.name}));(0,wp.data.dispatch("core/blocks").removeBlockTypes)(e);wp.data.dispatch("core/edit-post").toggleFeature;(0,wp.data.dispatch("core/editor").__experimentalTearDownEditor)(),wp.element.unmountComponentAtNode(window.Gutenberg.editor),$("#laraberg__editor").remove()}catch(t){console.error(t)}window.Gutenberg.editor=void 0,"function"==typeof t&&t()}}},Wt=(i(163),st(Ut,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.elementKeyRender,staticClass:"form-group",class:{disabled:t.disabled||t.readonly},attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[i("label",[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v(" "+t._s(t.field_name)+"\n        "),t.required?i("span",{staticClass:"required"},[t._v("*")]):t._e()]),t._v(" "),i("textarea",{staticClass:"form-control d-none",attrs:{rows:"3",name:t.field_key},domProps:{value:t.value}}),t._v(" "),i("textarea",{staticClass:"d-none",attrs:{rows:"10",id:t.id},domProps:{value:t.value}}),t._v(" "),0==t.initialized?i("div",{staticClass:"alert alert-warning",class:{"--loading":t.initializing&&!t.initialized}},[i("p",[t._v(t._s(t._("Inštanciu editora je možné spustiť len raz. Pre prepnutie inštancie editora kliknite na nasledujúce tlačidlo.")))]),t._v(" "),i("button",{staticClass:"btn btn-warning mt-3",attrs:{type:"button"},on:{click:t.toggleEditorInstance}},[t._v(t._s(t._("Zapnúť editor")))])]):t._e(),t._v(" "),i("small",[t._v(t._s(t.field.title))])])}),[],!1,null,"7881ab42",null).exports),Yt=st({props:["file","field","model","image"],methods:{isExtension:function(t,e){var i=t.split(".").pop().toLowerCase();return e.indexOf(i)>-1},isImage:function(t){return this.isExtension(t,["jpg","jpeg","png","bmp","gif","svg"])},isPdf:function(t){return this.isExtension(t,["pdf"])},isZip:function(t){return this.isExtension(t,["zip","rar","7zip","gzip","7z"])},isDoc:function(t){return this.isExtension(t,["doc","docx","ppt","pptx","xls","txt"])},isOther:function(t){return!(this.isImage(t)||this.isPdf(t)||this.isZip(t)||this.isDoc(t))}},computed:{downloadPath:function(){return this.$root.requests.download+"?model="+encodeURIComponent(this.model.slug)+"&field="+encodeURIComponent(this.field)+"&file="+encodeURIComponent(this.file)},imagePath:function(){return this.isExtension(this.file,["svg"])?this.path:window.crudadmin.root+"/uploads/cache/"+this.model.slug+"/"+this.field+"/admin-thumbnails/"+this.file},path:function(){return window.crudadmin.root+"/uploads/"+this.model.slug+"/"+this.field+"/"+this.file}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isImage(t.file)&&1!=t.image?i("a",{attrs:{href:t.path,"data-lightbox":"gallery",title:""}},[t._v(t._s(t.trans("show-image")))]):t._e(),t._v(" "),t.isImage(t.file)&&1==t.image?i("a",{attrs:{href:t.path,"data-lightbox":"gallery",title:""}},[i("img",{attrs:{src:t.imagePath,alt:""}})]):t._e(),t._v(" "),t.isPdf(t.file)?i("a",{attrs:{href:t.path,target:"_blank",title:""}},[t._v(t._s(t.trans("show"))+" PDF")]):t._e(),t._v(" "),t.isZip(t.file)?i("a",{attrs:{href:t.downloadPath,target:"_blank",title:""}},[t._v(t._s(t.trans("download"))+" ZIP")]):t._e(),t._v(" "),t.isDoc(t.file)?i("a",{attrs:{href:t.downloadPath,target:"_blank",title:""}},[t._v(t._s(t.trans("download-document")))]):t._e(),t._v(" "),t.isOther(t.file)?i("a",{attrs:{href:t.downloadPath,target:"_blank",title:""}},[t._v(t._s(t.trans("download-file")))]):t._e()])}),[],!1,null,null,null).exports,Xt=st({props:["id","model","field_name","field_key","field_key_original","field","value","required","disabled","depth_level"],components:{File:Yt},data:function(){return{file_will_remove:!1,file_from_server:!0}},mounted:function(){var t=this;this.addMultipleFilesSupport(!0),eventHub.$on("updateField",this.onUpdateEvent=function(e){e.table==t.model.slug&&e.depth_level==t.depth_level&&e.key==t.$parent.field_key&&(t.file_from_server=!0,t.addMultipleFilesSupport())}),eventHub.$on("onSubmit",this.onSubmitEvent=function(e){var i=e.row;e.table==t.model.slug&&e.depth_level==t.depth_level&&(1==t.file_from_server&&null!=i||(t.file_from_server=!!i,t.field.value=i?i[t.field_key]:"",$(t.$refs.fileInput).val("")))})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent),eventHub.$off("onSubmit",this.onSubmitEvent)},computed:{canFileBeDeleted:function(){return!this.disabled&&(this.value&&!this.isMultipleUpload||!this.file_from_server)&&this.model.getSettings("fields."+this.field_key+".canDelete",!0)},canFileBeDownloaded:function(){return this.value&&!this.hasMultipleFilesValue&&this.file_from_server&&!this.isMultiple&&this.model.getSettings("fields."+this.field_key+".canDownload",!0)},isMultiple:function(){return!0===this.field.multiple},isMultirows:function(){return this.field.multirows&&!0===this.field.multirows},isMultipleUpload:function(){return this.isMultirows&&!this.model.isOpenedRow()||this.isMultiple},hasMultipleFilesValue:function(){return $.isArray(this.field.value)},hasLocale:function(){return"locale"in this.field},getFiles:function(){var t=this.value;return t?$.isArray(t)?t:[t]:[]}},methods:{changeValue:function(t){this.$parent.changeValue(t)},addMultipleFilesSupport:function(t){var e=this;"file"==this.field.type&&this.isMultiple&&!this.isMultirows&&$(this.$refs.multipleFiles).chosen({disable_search_threshold:10,search_contains:!0}).trigger("chosen:updated"),1==t&&this.$watch("field.value",(function(){e.$nextTick((function(){$(e.$refs.multipleFiles).trigger("chosen:updated")}))}))},removeFile:function(){this.isMultiple||(this.hasLocale?this.field.value[this.langslug]=null:this.field.value=null),this.file_will_remove=!0,this.file_from_server=!0,$("#"+this.getId).val("")},addFile:function(t){this.file_will_remove=!1,this.file_from_server=!1}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group",class:{disabled:t.disabled},attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[i("label",[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v("\n        "+t._s(t.field_name)+"\n        "),t.required?i("span",{staticClass:"required"},[t._v("*")]):t._e()]),t._v(" "),i("div",{staticClass:"file-group"},[i("div",{staticClass:"upload-file-wrapper"},[i("input",{ref:"fileInput",staticClass:"form-control",attrs:{disabled:t.disabled,type:"file",multiple:t.isMultipleUpload,name:t.isMultipleUpload?t.field_key+"[]":t.field_key,placeholder:t.field.placeholder||t.field_name},on:{change:t.addFile}}),t._v(" "),t.value||1!=t.file_will_remove?t._e():i("input",{attrs:{type:"hidden",name:"$remove_"+t.field_key},domProps:{value:1}}),t._v(" "),t.canFileBeDeleted?i("button",{staticClass:"btn btn-danger remove-file",attrs:{type:"button","data-toggle":"tooltip",title:"","data-original-title":t.trans("delete-file")},on:{click:function(e){return e.preventDefault(),t.removeFile(e)}}},[i("i",{staticClass:"far fa-trash-alt"})]):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isMultiple&&!t.isMultirows&&t.getFiles.length>0,expression:"(isMultiple && !isMultirows) && getFiles.length > 0"}]},[i("select",{ref:"multipleFiles",attrs:{name:t.hasLocale||t.isMultiple&&!t.isMultirows&&t.getFiles.length>0?"$uploaded_"+t.field_key+"[]":"","data-placeholder":" ",multiple:""}},t._l(t.getFiles,(function(e){return i("option",{key:e,attrs:{selected:""}},[t._v(t._s(e))])})),0)]),t._v(" "),i("small",[t._v(t._s(t.field.title))]),t._v(" "),t.canFileBeDownloaded?i("span",[i("file",{attrs:{file:t.value,field:t.field_key_original,model:t.model}})],1):t._e()])])}),[],!1,null,null,null).exports;function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Zt={props:["id","model","field_name","field_key","field","value","required","disabled","readonly","inputlang","langid","depth_level"],data:function(){return{filterBy:null,allowRelation:!1,relationAction:null}},watch:{value:function(t){var e=this;this.$nextTick((function(){e.reloadSelectWithMultipleOrders(!1)}))},disabled:function(){this.$nextTick(this.reloadSelectWithMultipleOrders)},readonly:function(){this.$nextTick(this.reloadSelectWithMultipleOrders)},allowRelation:function(t){1==t&&(this.setRelationModel(),this.setModelEvents())}},mounted:function(){var t=this;this.$options.components["model-builder"]=Vue.extend(Ei),this.onChangeSelect(),this.bindFilters(),eventHub.$on("updateField",this.onUpdateEvent=function(e){e.table==t.model.slug&&e.depth_level==t.depth_level&&e.key==t.$parent.field_key&&t.$nextTick(t.reloadSelectWithMultipleOrders)})},destroyed:function(){eventHub.$off("updateField",this.onUpdateEvent)},computed:{row:function(){return this.model.getRow()},hasRelationModal:function(){return this.canAddRow||this.canViewRow||this.canEditRow},isCanAddInParentMode:function(){return["parent"].indexOf(this.field.canAdd)>-1},modelBuilderId:function(){return this.isCanAddInParentMode?this.id+this.row.id:"key"},getModalId:function(){return"form-relation-modal-"+this.id},relationTable:function(){return(this.field.belongsTo||this.field.belongsToMany||"").split(",")[0]},getRelationRow:function(){var t=this.getFilterBy;return this.getRelationModelParent&&t&&this.row[t[0]]?{id:this.row[t[0]]}:{}},getRelationModelParent:function(){var t=this.getFilterBy;if(!t||!this.row[t[0]])return!1;var e=this.model.fields[t[0]],i=(e.belongsTo||e.belongsToMany||"").split(",")[0];return i?this.getFreshModel(i):void 0},isModalInModal:function(){return!1===this.model.hasParentFormModel()},canAddRow:function(){if(!this.field.canAdd)return!1;var t=this.getFreshModel(this.relationTable);return t&&t.hasAccess("insert")&&(!0===this.field.canAdd||this.isCanAddInParentMode)&&(!this.getFilterBy||this.filterBy)},canViewRow:function(){if(!this.field.canView||!this.field.value)return!1;var t=this.getFreshModel(this.relationTable);return t&&t.hasAccess("read")&&(!this.getFilterBy||this.filterBy)},canEditRow:function(){if(!this.field.canEdit||!this.field.value)return!1;var t=this.getFreshModel(this.relationTable);return t&&t.hasAccess("update")&&(!this.getFilterBy||this.filterBy)},canAddScopes:function(){return 0==this.isCanAddInParentMode?[]:[{key:"filterByParentField",params:[this.model.table,this.field_key,this.row.id].join(";")}]},getFilterBy:function(){return this.model.getFilterBy(this.field_key)},isMultiple:function(){return this.model.isFieldMultiple(this.field_key)},fieldOptions:function(){return"object"!=Kt(this.field.options)?[]:(this.$nextTick(this.reloadSelectWithMultipleOrders),this.$root.languageOptions(this.field.options,this.field,this.getFilter(this.field.options)))},missingValueInSelectOptions:function(){if(!this.row)return[];var t=this.fieldOptions,e=[],i=this.$parent.getLocalizedValue(this.field.$original_value);if(!this.isMultiple){for(n=0;n<t.length;n++)if(t[n][0]==i)return[];return this.filterBy||[null,void 0].indexOf(i)>-1?[]:[i]}if(i)for(var n=0;n<i.length;n++){0!=t.filter(function(t){return t[0]==i[n]}.bind(this)).length||this.filterBy||e.push(i[n])}return e},isRequiredIfHasValues:function(){return"required_with_values"in this.field&&1==this.field.required_with_values&&this.fieldOptions.length>0},hasNoFilterValues:function(){return!this.isStaticFilterColumn&&(this.getFilterBy&&(!this.filterBy||0==this.fieldOptions.length))},isStaticFilterColumn:function(){return this.getFilterBy&&!(this.getFilterBy[0]in this.model.fields)},isParentFilterColumn:function(){return this.getFilterBy&&this.getFilterBy[0].split(".").length>1},getStaticFilterBy:function(){var t=this.getFilterBy[0].split(".");return(2==t.length?this.getModelBuilder(t[0]):this).row[t[t.length-1]]}},methods:{performRelationAction:function(t){this.relationAction=t,this.allowRelation=!0},setModelEvents:function(){var t=this,e=this.relationModel.insertable,i=this.relationModel.editable,n=function(){$(t.$refs.relationModalRef).modal("hide")};$(this.$refs.relationModalRef).on("show.bs.modal",(function(){["view","edit"].indexOf(t.relationAction)>-1?(t.relationModel.insertable=!1,t.relationModel.displayable=!0,"view"==t.relationAction&&(t.relationModel.editable=!1),t.relationModel.enableOnlyFullScreen(),t.relationModel.selectRow({id:t.field.value})):["add"].indexOf(t.relationAction)>-1&&(t.relationModel.openForm(),t.relationModel.on("onCreate",n))})),$(this.$refs.relationModalRef).on("hidden.bs.modal",(function(){["view","edit"].indexOf(t.relationAction)>-1?(t.relationModel.insertable=e,t.relationModel.editable=i,t.relationModel.exitFullScreenMode()):["add"].indexOf(t.relationAction)>-1&&t.relationModel.off("onCreate",n),t.relationModel.closeForm(),$(".modal[select-field] .modal-header:visible").length>0?$("body").addClass("modal-open"):$("body").removeClass("modal-open")}))},setRelationModel:function(){var t=this;if(this.hasRelationModal){var e=this.getFreshModel(this.relationTable);this.isCanAddInParentMode&&(e.settings.refresh_interval=!1),this.relationModel=e,this.relationModel.on("onCreate",this.onRelationCreated=function(e){t.model.pushOption(t.field_key,e,"store"),t.reloadSetters(e.id)}),this.relationModel.on("onUpdate",this.onRelationUpdate=function(e){t.model.pushOption(t.field_key,e,"update")}),this.relationModel.on("onDelete",this.onRelationDeleted=function(e){e.forEach((function(e){t.model.pushOption(t.field_key,e,"delete")}))})}},bindFilters:function(){this.getFilterBy&&!this.isParentFilterColumn&&(this.$watch("model.fields."+this.getFilterBy[0]+".value",(function(t){this.filterBy=null===t?this.$parent.defaultFieldValue(this.model.fields[this.getFilterBy[0]]):t})),this.filterBy=this.$parent.defaultFieldValue(this.model.fields[this.getFilterBy[0]]))},changeValue:function(t,e,i){this.$parent.changeValue(t,e,i)},onChangeSelect:function(){var t=this,e=$(this.$refs.select),i=!1;e.change((function(n){if(i=!0,t.isMultiple)setTimeout((function(){t.changeValue(null,e.getSelectionOrder()),t.rebuildSelect()}),50);else{var a=e.val();t.changeValue(null,a),t.reloadSetters(a)}})),this.$watch("field.value",(function(e,n){!0===i||_.isNil(e)||e===n||_.isEqual(e,n)?i=!1:t.$nextTick(t.reloadSelectWithMultipleOrders)}))},hasValue:function(t,e,i){if(1==i&&$.isArray(e)){if(e.indexOf($.isNumeric(t)?parseInt(t):t)>-1)return!0}else if((t||0==t)&&(e||0==e)&&t==e)return!0;return!1},rebuildSelect:function(){if(this.isMultiple){var t=$(this.$refs.select),e=t.prev(),i=t.getSelectionOrder();e.is("select")||(e=t.before('<select name="'+this.field_key+'[]" multiple="multiple" style="display: none"></select>').prev()),e.find("option").remove();for(var n=0;n<i.length;n++)e.append($("<option></option>").attr("selected",!0).attr("value",i[n]).text(i[n]))}},reloadSelectWithMultipleOrders:function(t){var e=$(this.$refs.select).chosen({disable_search_threshold:10,search_contains:!0});if(!1!==t&&e.trigger("chosen:updated"),this.isMultiple){if(this.field.value)try{e.setSelectionOrder(this.field.value)}catch(t){}this.rebuildSelect()}},getFilter:function(t){var e={};return t&&t[0]&&"object"==Kt(t[0][1])&&null!==t[0][1]&&"language_id"in t[0][1]==1&&(e.language_id=this.row.language_id||(this.inputlang?this.inputlang.id:null)||this.langid),this.getFilterBy&&(e[this.getFilterBy[1]]=this.isStaticFilterColumn?this.getStaticFilterBy:this.filterBy),e},reloadSetters:function(t){for(var e in this.model.fields){var i=this.model.fields[e],n=this.getFillBy(i);if(n&&n[0]&&(n[0]==this.field_key||n[0]+"_id"==this.field_key)){var a=this.field.options||[];for(var o in a)if(a[o][0]==t){this.$set(this.row,e,a[o][1][n[1]||e]);break}}}},getFillBy:function(t){if(!("fillBy"in t))return null;var e,i=t.fillBy.replace(",",".").split(".");return this.model.fields[e=i[0]+"_id"]||this.model.fields[e=i[0]],i[0]=e,i}}},Qt=(i(164),st(Zt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.required||!t.hasNoFilterValues,expression:"required || !hasNoFilterValues"}],staticClass:"form-group",class:{disabled:t.disabled||t.readonly||t.hasNoFilterValues},attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[i("label",[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v("\n        "+t._s(t.field.name)+"\n        "),t.required||t.isRequiredIfHasValues?i("span",{staticClass:"required"},[t._v("*")]):t._e()]),t._v(" "),i("div",{staticClass:"form-group__chosen-container",class:{canPerformActions:t.hasRelationModal}},[i("select",{ref:"select",staticClass:"form-control",attrs:{disabled:t.disabled,name:t.isMultiple?"":t.field_key,"data-placeholder":t.field.placeholder?t.field.placeholder:t.trans("select-option-multi"),multiple:t.isMultiple}},[t.isMultiple?t._e():i("option",{attrs:{value:""}},[t._v(t._s(t.trans("select-option")))]),t._v(" "),t._l(t.missingValueInSelectOptions,(function(e){return i("option",{key:e,domProps:{value:e,selected:t.hasValue(e,t.value,t.isMultiple)}},[t._v(t._s(e))])})),t._v(" "),t._l(t.fieldOptions,(function(e){return i("option",{key:e[0],domProps:{selected:t.hasValue(e[0],t.value,t.isMultiple)?"selected":"",value:e[0]}},[t._v(t._s(null==e[1]?t.trans("number")+" "+e[0]:e[1]))])}))],2),t._v(" "),t.canAddRow?i("button",{staticClass:"action-button btn-success",attrs:{"data-add-relation-row":"",type:"button","data-target":"#"+t.getModalId,"data-toggle":"modal"},on:{click:function(e){return t.performRelationAction("add")}}},[i("i",{staticClass:"fa fa-plus"})]):t._e(),t._v(" "),t.canViewRow?i("button",{staticClass:"action-button btn-default",attrs:{"data-add-relation-row":"",type:"button","data-target":"#"+t.getModalId,"data-toggle":"modal"},on:{click:function(e){return t.performRelationAction("view")}}},[i("i",{staticClass:"fa fa-folder-open"})]):t._e(),t._v(" "),t.canEditRow?i("button",{staticClass:"action-button btn-default",attrs:{"data-add-relation-row":"",type:"button","data-target":"#"+t.getModalId,"data-toggle":"modal"},on:{click:function(e){return t.performRelationAction("edit")}}},[i("i",{staticClass:"fa fa-edit"})]):t._e()]),t._v(" "),i("small",[t._v(t._s(t.field.title))]),t._v(" "),t.isRequiredIfHasValues?i("input",{attrs:{type:"hidden",name:"$required_"+t.field_key,value:"1"}}):t._e(),t._v(" "),t.hasRelationModal?i("div",{ref:"relationModalRef",staticClass:"modal fade",class:{"--inModal":t.isModalInModal},attrs:{"select-field":"",id:t.getModalId,"data-keyboard":"false",tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),i("div",{staticClass:"modal-body"},[t.allowRelation&&t.relationModel?i("model-builder",{key:t.modelBuilderId,attrs:{langid:t.langid,hasparentmodel:t.getRelationModelParent,parentrow:t.getRelationRow,scopes:t.canAddScopes,model_builder:t.relationModel}}):t._e()],1)])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),e("h4",{staticClass:"modal-title"},[this._v(" ")])])}],!1,null,"4723d380",null).exports),Jt=st({props:["model","field_name","field_key","field","value","required","disabled"],computed:{isPassword:function(){return"password"==this.field.type}},methods:{hasValue:function(t,e,i){return(t||0==t)&&e&&t==e},changeValue:function(t){this.$parent.changeValue(t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group radio-group",attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[i("label",[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v("\n        "+t._s(t.field_name)+"\n        "),t.required?i("span",{staticClass:"required"},[t._v("*")]):t._e()]),t._v(" "),t.required?t._e():i("div",{staticClass:"radio"},[i("label",[i("input",{attrs:{type:"radio",name:t.field_key,value:""}}),t._v("\n            "+t._s(t.trans("no-option"))+"\n        ")])]),t._v(" "),t._l(t.field.options,(function(e){return i("div",{staticClass:"radio"},[i("label",[i("input",{attrs:{type:"radio",name:t.field_key},domProps:{checked:t.hasValue(e[0],t.value),value:e[0]},on:{change:t.changeValue}}),t._v("\n\n            "+t._s(e[1])+"\n        ")])])})),t._v(" "),i("small",[t._v(t._s(t.field.title))])],2)}),[],!1,null,null,null).exports;function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ie(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ne(t,e,i){return e&&ie(t.prototype,e),i&&ie(t,i),t}function ae(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function se(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function le(t,e,i){return(le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=oe(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(i):a.value}})(t,e,i||t)}function ue(t){return"object"===te(t)&&t.model?t.model:("#"!==t.slice(0,1)||4!==t.length&&7!==t.length)&&("#"!==t.slice(0,1)||6!==t.length&&9!==t.length)?"RGBA"===t.slice(0,4).toUpperCase()?"rgb":"RGB"===t.slice(0,3).toUpperCase()?"rgb":"HSLA"===t.slice(0,4).toUpperCase()?"hsl":"HSL"===t.slice(0,3).toUpperCase()&&"hsl":"hex"}function ce(t){return isNaN(parseInt(t,16))?0:parseInt(t,16)}function de(t,e){return function(i){return i>=t&&i<=e}}function he(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function fe(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return Number((t*(1-i)+e*i).toFixed(2))}function pe(t){return!(void 0===t||isNaN(t)||t<0||t>1)}var me=function(){function t(e){var i=this;ee(this,t),this.invalid=!this.validate(e),this.invalid||Object.keys(e).forEach((function(t){i[t]=e[t]})),this.init()}return ne(t,[{key:"init",value:function(){}},{key:"validate",value:function(t){return!!t&&"object"===te(t)}}]),t}(),ge=function(t){function e(){return ee(this,e),se(this,oe(e).apply(this,arguments))}return ae(e,t),ne(e,[{key:"validate",value:function(t){if(!le(oe(e.prototype),"validate",this).call(this,t))return!1;var i=de(0,255);return i(t.red)&&i(t.green)&&i(t.blue)}},{key:"init",value:function(){this.model="rgb",this.alpha=pe(this.alpha)?this.alpha:1}},{key:"toString",value:function(){return this.invalid?"Invalid Color":de(0,.999)(this.alpha)?"rgba(".concat(this.red,",").concat(this.green,",").concat(this.blue,",").concat(this.alpha,")"):"rgb(".concat(this.red,",").concat(this.green,",").concat(this.blue,")")}}]),e}(me),ve=function(t){function e(){return ee(this,e),se(this,oe(e).apply(this,arguments))}return ae(e,t),ne(e,[{key:"validate",value:function(t){if(!le(oe(e.prototype),"validate",this).call(this,t))return!1;var i=de(0,100);return de(0,360)(t.hue)&&i(t.lum)&&i(t.sat)}},{key:"init",value:function(){this.model="hsl",this.alpha=pe(this.alpha)?this.alpha:1}},{key:"toString",value:function(){return this.invalid?"Invalid Color":de(0,.999)(this.alpha)?"hsla(".concat(this.hue,",").concat(this.sat,"%,").concat(this.lum,"%,").concat(this.alpha,")"):"hsl(".concat(this.hue,",").concat(this.sat,"%,").concat(this.lum,"%)")}}]),e}(me),be=function(t){function e(){return ee(this,e),se(this,oe(e).apply(this,arguments))}return ae(e,t),ne(e,[{key:"validate",value:function(t){return!!le(oe(e.prototype),"validate",this).call(this,t)&&/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test("#".concat(t.red).concat(t.green).concat(t.blue))}},{key:"init",value:function(){this.model="hex",this.alpha=void 0!==this.alpha?this.alpha:"ff"}},{key:"toString",value:function(){return this.invalid?"Invalid Color":de(0,.999)(ce(this.alpha)/255)?"#".concat(this.red).concat(this.green).concat(this.blue).concat(this.alpha):"#".concat(this.red).concat(this.green).concat(this.blue)}}]),e}(me),_e=Object.freeze({Color:me,RgbColor:ge,HslColor:ve,HexColor:be});function ye(t){if("object"===te(t))return t;var e=t.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!e||e.length<4?new ge:new ge({red:Number(e[1]),green:Number(e[2]),blue:Number(e[3]),alpha:Number(e[4])})}function we(t){if("object"===te(t))return t;var e=function(t){var e=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])*$/i;return 5!==t.length&&4!==t.length||!e.test(t)||(t=t.replace(e,(function(t,e,i,n,a){return"#".concat(e).concat(e).concat(i).concat(i).concat(n).concat(n).concat(a?"".concat(a).concat(a):"")}))),t}(t),i=e.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})*/i);return!i||i.length<4?new be:new be({hex:e,red:i[1],green:i[2],blue:i[3],alpha:i[4]})}function xe(t){if("object"===te(t))return t;var e=t.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!e||e.length<4?new ve:new ve({hue:Number(e[1]),sat:Number(e[2]),lum:Number(e[3]),alpha:Number(e[4])})}function Ce(t){return t=Math.floor(t),isNaN(t)?"00":("0"+t.toString(16)).slice(-2)}function ke(t){if(!t)return new be;var e=[Ce((t=ye(t)).red),Ce(t.green),Ce(t.blue),t.alpha?Ce(255*t.alpha):null];return new be({red:e[0],green:e[1],blue:e[2],alpha:e[3]||"ff"})}function Se(t){if(!t)return new ve;var e=[(t=ye(t)).red/255,t.green/255,t.blue/255,t.alpha],i=e[0],n=e[1],a=e[2],o=e[3],r=0,s=0,l=0,u=Math.min(i,n,a),c=Math.max(i,n,a);return l=(u+c)/2,u!==c&&(s=l>.5?(c-u)/(2-c-u):(c-u)/(c+u)),i>=c&&u!==c&&(r=(n-a)/(c-u)*60),n>=c&&u!==c&&(r=60*(2+(a-i)/(c-u))),a>=c&&u!==c&&(r=60*(4+(i-n)/(c-u))),r=r<0?Math.floor(r+360):Math.floor(r),s=Math.floor(100*s),l=Math.floor(100*l),new ve({hue:r,sat:s,lum:l,alpha:o})}function Oe(t){if(!t)return new ge;var e=we(t),i=e.red,n=e.green,a=e.blue,o=e.alpha;return new ge({red:ce(i),green:ce(n),blue:ce(a),alpha:void 0===o?1:Number((ce(o)/255).toFixed(2))})}function De(t){return Math.min(Math.max(parseInt(t),0),255)}function Ee(t){if(!t)return new ge;var e=[(t=xe(t)).hue/360,t.sat/100,t.lum/100,t.alpha],i=e[0],n=e[1],a=e[2],o=e[3],r=0,s=0,l=0;if(0===n&&(r=s=l=De(255*a)),0!==n){var u=a>=50?a+n-a*n:a*(1+n),c=2*a-u,d=function(t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?c+6*(u-c)*t:t<.5?u:t<2/3?c+(u-c)*(2/3-t)*6:c};r=De(255*d(i+1/3)),s=De(255*d(i)),l=De(255*d(i-1/3))}return new ge({red:r,green:s,blue:l,alpha:o})}function Me(t){var e=ue(t);return"hex"===e?Oe(t):"hsl"===e?Ee(t):"rgb"===e&&"string"==typeof t?ye(t):"rgb"===e&&"object"===te(t)?t:new ge}function $e(t){var e,i=ue(t);return"hex"===i?(e=t)?Se(Oe(e)):new ve:"rgb"===i?Se(t):"hsl"===i&&"string"==typeof t?xe(t):"hsl"===i&&"object"===te(t)?t:new ve}function Te(t){var e,i=ue(t);return"rgb"===i?ke(t):"hsl"===i?(e=t)?ke(Ee(e)):new be:"hex"===i&&"string"==typeof t?we(t):"hex"===i&&"object"===te(t)?t:new be}function Re(){return"rgb(".concat(he(0,255),", ").concat(he(0,255),", ").concat(he(0,255),")")}function Ae(t,e,i){t=Me(t),e=Me(e);var n=Math.floor(fe(t.red,e.red,i)),a=Math.floor(fe(t.green,e.green,i)),o=Math.floor(fe(t.blue,e.blue,i)),r=fe(t.alpha,e.alpha,i);return new ge({red:n,green:a,blue:o,alpha:r})}function Fe(t,e){for(var i=[],n=0;n<t;n++){var a="function"==typeof e?e():e;i.push(a)}return i}function je(t,e){for(;t!==document&&null!==t;){if(t===e)return!0;t=t.parentNode}return!1}function Pe(t,e){return t.reduce((function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t}))}function Ie(t,e){return function(t){var i=-1!==e.indexOf(t);return i}}function Le(t){if(t.type.match(/^touch/i)){var e=t.touches[0];return{x:e.clientX,y:e.clientY}}return t.type.match(/^mouse/i)?{x:t.clientX,y:t.clientY}:{x:0,y:0}}var Ne={name:"VerteSlider",props:{gradient:Array,classes:Array,colorCode:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},reverse:{type:Boolean,default:!1},label:{type:Boolean,default:!1},trackSlide:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:255},step:{type:Number,default:1},value:{type:Number,default:0},handlesValue:{type:Array,default:function(){return[0]}}},data:function(){return{fill:{translate:0,scale:0},multiple:!1,currentValue:0,handles:[],values:[]}},watch:{gradient:function(t){this.initGradient(t),this.reloadHandlesColor()},values:function(){this.multiple=this.values.length>1,this.fill=!this.multiple&&(this.fill||{})},value:function(t,e){t!==e&&t!==this.currentValue&&this.updateValue(this.value,!0)}},methods:{init:function(){var t,e,i,n=this;this.$emitInputEvent=(t=function(){n.$emit("input",n.currentValue)},void 0===e&&(e=!1),function(){var n=arguments,a=function(){i=null,e||t.apply(void 0,n)},o=e&&!i;window.cancelAnimationFrame(i),i=window.requestAnimationFrame(a),o&&t.apply(void 0,arguments)}),this.multiple=this.values.length>1,this.values=this.handlesValue,this.handles=this.handlesValue.map((function(t,e){return{value:t,position:0,color:"#fff"}})),1===this.values.length&&(this.values[0]=Number(this.value)),this.values.sort(),this.initElements(),this.gradient&&this.initGradient(this.gradient),this.initEvents(),this.values.forEach((function(t,e){n.activeHandle=e,n.updateValue(t,!0)}))},initElements:function(){var t;this.wrapper=this.$refs.wrapper,this.track=this.$refs.track,this.fill=this.$refs.fill,this.wrapper.classList.toggle("slider--editable",this.editable),this.wrapper.classList.toggle("slider--reverse",this.reverse),this.classes&&(t=this.wrapper.classList).add.apply(t,this.classes)},initGradient:function(t){t.length>1?this.fill.style.backgroundImage="linear-gradient(90deg, "+t+")":(this.fill.style.backgroundImage="",this.fill.style.backgroundColor=t[0],this.handles.forEach((function(e){e.style.color=t[0]})))},handleResize:function(){this.updateWidth(),this.updateValue(this.currentValue,!0)},initEvents:function(){window.addEventListener("resize",this.handleResize)},select:function(t){if(t.preventDefault(),t.stopPropagation(),2!==t.buttons){this.updateWidth(),this.track.classList.add("slider--dragging"),this.ticking=!1;var e=this.getStepValue(t);if(this.multiple){var i=Pe(this.values,e);this.activeHandle=this.values.indexOf(i)}this.updateValue(e),this.tempDrag=this.dragging.bind(this),this.tempRelease=this.release.bind(this),document.addEventListener("mousemove",this.tempDrag),document.addEventListener("touchmove",this.tempDrag),document.addEventListener("touchend",this.tempRelease),document.addEventListener("mouseup",this.tempRelease)}},dragging:function(t){var e=this,i=this.getStepValue(t);this.ticking||(window.requestAnimationFrame((function(){e.updateValue(i),e.ticking=!1})),this.ticking=!0)},release:function(){this.track.classList.remove("slider--dragging"),document.removeEventListener("mousemove",this.tempDrag),document.removeEventListener("touchmove",this.tempDrag),document.removeEventListener("mouseup",this.tempRelease),document.removeEventListener("touchend",this.tempRelease)},getStepValue:function(t){var e=Le(t).x-this.currentX,i=parseInt(e/this.stepWidth+.5,10)*this.step+this.min;return this.decimalsCount?Number(i.toFixed(this.decimalsCount)):i},updateWidth:function(){var t=this.track.getBoundingClientRect();this.currentX=t.left,this.width=t.width,this.stepWidth=this.width/(this.max-this.min)*this.step},getPositionPercentage:function(t){return((t-this.min)/(this.max-this.min)).toFixed(2)},normalizeValue:function(t){if(isNaN(Number(t)))return this.value;if(this.multiple){var e=this.values[this.activeHandle-1]||this.min,i=this.values[this.activeHandle+1]||this.max;t=Math.min(Math.max(Number(t),e),i)}return Math.min(Math.max(Number(t),this.min),this.max)},addHandle:function(t){var e=Pe(this.values,t),i=this.values.indexOf(e),n=this.values[i]<=t?i+1:i;this.handles.splice(n,0,{value:t,position:0,color:"#fff"}),this.values.splice(n,0,t),this.activeHandle=n,this.currentValue=null,this.updateValue(t)},removeHandle:function(t){this.handles.splice(t,1),this.values.splice(t,1),this.activeHandle=0===t?t+1:t-1},getHandleColor:function(t){for(var e=this.gradient.length-1,i=t,n=1;n<=e;n++)if(i>=(n-1)/e&&i<=n/e){var a=(i-(n-1)/e)/(1/e);return Ae(this.gradient[n-1],this.gradient[n],a)}return"rgb(0, 0, 0)"},reloadHandlesColor:function(){var t=this;this.handles.forEach((function(e,i){var n=t.getPositionPercentage(e.value),a=t.getHandleColor(n);t.handles[i].color=a.toString()}))},updateValue:function(t,e){var i=this;void 0===e&&(e=!1),window.requestAnimationFrame((function(){var n=i.normalizeValue(t),a=i.getPositionPercentage(n);if(i.fill&&(i.fill.translate=a*i.width,i.fill.scale=1-a),i.values[i.activeHandle]=n,i.handles[i.activeHandle].value=n,i.handles[i.activeHandle].position=a*i.width,i.currentValue=n,i.$refs.input.value=i.currentValue,i.gradient){var o=i.getHandleColor(a);i.handles[i.activeHandle].color=o.toString(),i.colorCode&&(i.currentValue=o)}e||i.$emitInputEvent()}))}},created:function(){var t=this.step.toString().split(".")[1];this.currentValue=this.value,this.decimalsCount=t?t.length:0},mounted:function(){var t=this;this.init(),this.$nextTick((function(){t.updateWidth(),t.updateValue(void 0,!0)}))},destroyed:function(){window.removeEventListener("resize",this.handleResize)}},qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"slider"},[i("div",t._g({ref:"track",staticClass:"slider__track"},t.trackSlide?{mousedown:t.select,touchstart:t.select}:{}),[i("div",{ref:"fill",staticClass:"slider__fill"}),t._l(t.handles,(function(e){return i("div",{staticClass:"slider__handle",style:"transform: translate("+e.position+"px, 0); background-color: "+e.color+";",on:{mousedown:t.select,touchstart:t.select}},[t.label?i("div",{staticClass:"slider__label"},[t._v(t._s(e.value))]):t._e()])}))],2),i("input",{directives:[{name:"show",rawName:"v-show",value:t.editable,expression:"editable"}],ref:"input",staticClass:"slider__input",attrs:{type:t.colorCode?"text":"number"},on:{change:function(e){t.updateValue(e.target.value)}}})])};qe._withStripped=!0;var Ve,ze,Be,He,Ge,Ue=(Ve={render:qe,staticRenderFns:[]},Be=void 0,He=!1,(Ge=("function"==typeof(ze=Ne)?ze.options:ze)||{}).__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Slider.vue",Ge.render||(Ge.render=Ve.render,Ge.staticRenderFns=Ve.staticRenderFns,Ge._compiled=!0,He&&(Ge.functional=!0)),Ge._scopeId=Be,Ge),We={name:"VertePicker",components:{Slider:Ue},props:{mode:{type:String,default:"square"},edge:{type:Number,default:250},diameter:{type:Number,default:180},satSlider:{type:Boolean,default:!0},alpha:{type:Number,default:1},value:{type:String,default:"#fff"}},data:function(){return{currentHue:0,currentSat:0,currentColor:"",cursor:{},preventUpdating:!1,preventEcho:!1}},watch:{value:function(t){this.preventUpdating?this.preventUpdating=!1:this.handleValue(t,!0)},currentSat:function(){this.updateWheelColors(),this.updateColor()},currentHue:function(){this.updateSquareColors(),this.updateColor()}},methods:{initSquare:function(){var t=this.edge;this.$refs.canvas.width=t,this.$refs.canvas.height=t-100,this.ctx=this.$refs.canvas.getContext("2d"),this.updateSquareColors()},initWheel:function(){this.$refs.canvas.width=this.diameter,this.$refs.canvas.height=this.diameter,this.ctx=this.$refs.canvas.getContext("2d"),this.circle={path:new Path2D,xCords:this.diameter/2,yCords:this.diameter/2,radius:this.diameter/2},this.circle.path.moveTo(this.circle.xCords,this.circle.yCords),this.circle.path.arc(this.circle.xCords,this.circle.yCords,this.circle.radius,0,360),this.circle.path.closePath(),this.updateWheelColors()},handleValue:function(t,e){void 0===e&&(e=!1);var i=this.pickerRect,n=i.width,a=i.height;if(this.currentColor=$e(t),this.preventEcho=!0,"wheel"===this.mode){var o=(100-this.currentColor.lum)*(this.diameter/200),r=this.diameter/2,s=function(t,e){return{x:t*Math.cos(e*Math.PI*2),y:t*Math.sin(e*Math.PI*2)}}(o,this.currentColor.hue/360);this.cursor={x:s.x+r,y:s.y+r},this.currentSat=this.currentColor.sat}if("square"===this.mode){var l=this.currentColor.sat/100*n,u=(100-this.currentColor.lum)/100*a;this.cursor={x:l,y:u},this.currentHue=this.currentColor.hue}},updateCursorPosition:function(t){var e=t.x,i=t.y,n=this.pickerRect,a=n.left,o=n.top,r=n.width,s=n.height,l={x:Math.min(Math.max(e-a,0),r),y:Math.min(Math.max(i-o,0),s)};("wheel"!==this.mode||this.ctx.isPointInPath(this.circle.path,l.x,l.y))&&(this.cursor=l,this.updateColor())},updateColor:function(t){void 0===t&&(t=!1),this.preventEcho?this.preventEcho=!1:(this.currentColor=this.getCanvasColor(),this.preventUpdating=!0,this.$emit("change",this.currentColor),this.$emit("input",this.currentColor))},updateWheelColors:function(){if(this.circle){var t=this.pickerRect,e=t.width,i=t.height,n=this.circle.xCords,a=this.circle.yCords,o=this.circle.radius,r=this.satSlider?this.currentSat:100;this.ctx.clearRect(0,0,e,i);for(var s=0;s<360;s+=1){var l=this.ctx.createRadialGradient(n,a,0,n,a,o),u=(s-2)*Math.PI/180,c=(s+2)*Math.PI/180;this.ctx.beginPath(),this.ctx.moveTo(n,a),this.ctx.arc(n,a,o,u,c),this.ctx.closePath(),l.addColorStop(0,"hsl("+s+", "+r+"%, 100%)"),l.addColorStop(.5,"hsl("+s+", "+r+"%, 50%)"),l.addColorStop(1,"hsl("+s+", "+r+"%, 0%)"),this.ctx.fillStyle=l,this.ctx.fill()}}},updateSquareColors:function(){var t=this.pickerRect,e=t.width,i=t.height;this.ctx.clearRect(0,0,e,i),this.ctx.fillStyle="hsl("+this.currentHue+", 100%, 50%)",this.ctx.fillRect(0,0,e,i);var n=this.ctx.createLinearGradient(0,0,e,0);n.addColorStop(0,"hsl(0, 0%, 50%)"),n.addColorStop(1,"hsla(0, 0%, 50%, 0)"),this.ctx.fillStyle=n,this.ctx.fillRect(0,0,e,i);var a=this.ctx.createLinearGradient(0,0,0,i);a.addColorStop(0,"hsl(0, 0%, 100%)"),a.addColorStop(.5,"hsla(0, 0%, 100%, 0)"),a.addColorStop(.5,"hsla(0, 0%, 0%, 0)"),a.addColorStop(1,"hsl(0, 0%, 0%) "),this.ctx.fillStyle=a,this.ctx.fillRect(0,0,e,i)},getCanvasColor:function(){var t=this.cursor,e=t.x,i=t.y,n=0,a=0,o=0;if("wheel"===this.mode){var r=this.diameter/2,s=function(t,e){return{r:Math.sqrt(t*t+e*e),theta:180*Math.atan2(e,t)/Math.PI}}(e-r,-1*(i-r)),l=s.r,u=s.theta;a=100*(r-l)/r,o=~Math.sign(u)?360-u:-u,n=this.currentSat}if("square"===this.mode){var c=this.pickerRect;n=100*e/c.width,a=100-100*i/c.height,o=this.currentHue}return new _e.HslColor({alpha:this.alpha,hue:Math.round(o),sat:Math.round(n),lum:Math.round(a)})},handleSelect:function(t){var e=this;t.preventDefault(),this.pickerRect=this.$refs.canvas.getBoundingClientRect(),this.updateCursorPosition(Le(t));var i=function(t){window.requestAnimationFrame((function(){e.updateCursorPosition(Le(t))}))},n=function(){document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)};document.addEventListener("mousemove",i),document.addEventListener("touchmove",i),document.addEventListener("mouseup",n),document.addEventListener("touchend",n)}},mounted:function(){var t=this;this.pickerRect=this.$refs.canvas.getBoundingClientRect(),"wheel"===this.mode&&this.initWheel(),"square"===this.mode&&this.initSquare(),this.$nextTick((function(){t.handleValue(t.value)}))}},Ye=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"picker",staticClass:"verte-picker",class:"verte-picker--"+t.mode},[i("div",{ref:"origin",staticClass:"verte-picker__origin"},[i("canvas",{ref:"canvas",staticClass:"verte-picker__canvas",on:{mousedown:t.handleSelect,touchstart:t.handleSelect}}),i("div",{ref:"cursor",staticClass:"verte-picker__cursor",style:"transform: translate3d("+t.cursor.x+"px, "+t.cursor.y+"px, 0)"})]),"square"===t.mode?i("slider",{staticClass:"verte-picker__slider",attrs:{gradient:["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],editable:!1,max:360},model:{value:t.currentHue,callback:function(e){t.currentHue=e},expression:"currentHue"}}):t._e(),"wheel"===t.mode?i("slider",{staticClass:"verte-picker__slider",attrs:{gradient:["hsl("+t.currentColor.hue+",0%,"+t.currentColor.lum+"%)","hsl("+t.currentColor.hue+",100%,"+t.currentColor.lum+"%)"],editable:!1,max:100},model:{value:t.currentSat,callback:function(e){t.currentSat=e},expression:"currentSat"}}):t._e()],1)};Ye._withStripped=!0;var Xe,Ke=function(t,e,i,n,a,o,r,s){var l=("function"==typeof i?i.options:i)||{};return l.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Picker.vue",l.render||(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),l._scopeId=n,l}({render:Ye,staticRenderFns:[]},0,We,void 0,!1),Ze=6;function Qe(t,e){if(Xe)return Xe;var i=(e=e||{}).recentColors,n=e.onRecentColorsChange;return Xe=new t({data:function(){return{recentColors:i||Fe(6,Re)}},methods:{addRecentColor:function(t){this.recentColors.includes(t)||(this.recentColors.length>=Ze&&this.recentColors.pop(),this.recentColors.unshift(t),n&&n(this.recentColors))}}})}var Je={name:"Verte",components:{Picker:Ke,Slider:Ue},props:{picker:{type:String,default:"square",validator:Ie(0,["wheel","square"])},value:{type:String,default:"#000"},model:{type:String,default:"hsl",validator:Ie(0,["rgb","hex","hsl"])},display:{type:String,default:"picker",validator:Ie(0,["picker","widget"])},menuPosition:{type:String,default:"bottom",validator:Ie(0,["top","bottom","left","right","center"])},showHistory:{type:Boolean,default:!0},colorHistory:{type:Array,default:null},enableAlpha:{type:Boolean,default:!0},rgbSliders:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},data:function(){return{isMenuActive:!0,isLoading:!0,rgb:Me("#000"),hex:Te("#000"),hsl:$e("#000"),delta:{x:0,y:0},currentModel:"",internalColorHistory:[]}},computed:{$_verteStore:function(){return Qe()},historySource:function(){return this.colorHistory?this.internalColorHistory:this.$_verteStore.recentColors},currentColor:{get:function(){return this[this.model],this[this.model].toString()},set:function(t){this.selectColor(t)}},alpha:{get:function(){return this[this.model]?isNaN(this[this.model].alpha)?1:this[this.model].alpha:1},set:function(t){this[this.model].alpha=t,this.selectColor(this[this.model])}},menuOnly:function(){return"widget"===this.display}},watch:{value:function(t,e){t!==e&&t!==this.currentColor&&this.selectColor(t)},rgb:{handler:function(t){this.hex=Te(t.toString()),this.$emit("input",this.currentColor)},deep:!0},colorHistory:function(t){this.internalColorHistory!==t&&(this.internalColorHistory=[].concat(t))}},beforeCreate:function(){Qe(this.$options._base)},install:function(t,e){Qe(t,e),t.component("Verte",this)},created:function(){this.colorHistory&&(this.internalColorHistory=[].concat(this.colorHistory)),this.selectColor(this.value||"#000",!0),this.currentModel=this.model},mounted:function(){var t=this;this.$nextTick((function(){t.isLoading=!1,t.menuOnly||(t.isMenuActive=!1)}))},methods:{selectColor:function(t,e){void 0===e&&(e=!1),function(t){var e=ue(t);return"rgb"===e?!ye(t).invalid:"hex"===e?!we(t).invalid:"hsl"===e&&!xe(t).invalid}(t)&&(this.rgb=Me(t),this.hex=Te(t),this.hsl=$e(t),e||this.$emit("input",this.currentColor))},switchModel:function(){var t=["hex","rgb","hsl"],e=t.indexOf(this.currentModel);this.currentModel=t[e+1]||t[0]},handleMenuDrag:function(t){var e=this;if(2!==t.button){t.preventDefault();var i=Object.assign({},this.delta),n=Le(t),a=function(t){window.requestAnimationFrame((function(){var a=Le(t);e.delta.x=i.x+a.x-n.x,e.delta.y=i.y+a.y-n.y}))},o=function(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",a),document.removeEventListener("touchup",o)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",o),document.addEventListener("touchmove",a),document.addEventListener("touchup",o)}},submit:function(){this.$emit("beforeSubmit",this.currentColor),this.addColorToHistory(this.currentColor),this.$emit("input",this.currentColor),this.$emit("submit",this.currentColor)},addColorToHistory:function(t){if(this.colorHistory)return this.internalColorHistory.length>=Ze&&this.internalColorHistory.pop(),this.internalColorHistory.unshift(t),void this.$emit("update:colorHistory",this.internalColorHistory);this.$_verteStore.addRecentColor(this.currentColor)},inputChanged:function(t,e){var i=t.target;if("hex"!==this.currentModel){var n=Math.min(Math.max(i.value,i.min),i.max);this[this.currentModel][e]=n,this.selectColor(this[this.currentModel])}else this.selectColor(i.value)},toggleMenu:function(){this.isMenuActive?this.closeMenu():this.openMenu()},closeMenu:function(){this.isMenuActive=!1,document.removeEventListener("mousedown",this.closeCallback),this.$emit("close",this.currentColor)},openMenu:function(){var t=this;this.isMenuActive=!0,this.closeCallback=function(e){je(e.target,t.$refs.menu)||je(e.target,t.$refs.guide)||t.closeMenu()},document.addEventListener("mousedown",this.closeCallback)}}},ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"verte",class:{"verte--loading":t.isLoading}},[t.menuOnly?t._e():i("button",{ref:"guide",staticClass:"verte__guide",style:"color: "+t.currentColor+"; fill: "+t.currentColor+";",attrs:{type:"button"},on:{click:t.toggleMenu}},[t._t("default",[i("svg",{staticClass:"verte__icon",attrs:{viewBox:"0 0 24 24"}},[i("pattern",{attrs:{id:"checkerboard",width:"6",height:"6",patternUnits:"userSpaceOnUse",fill:"FFF"}},[i("rect",{attrs:{fill:"#7080707f",x:"0",width:"3",height:"3",y:"0"}}),i("rect",{attrs:{fill:"#7080707f",x:"3",width:"3",height:"3",y:"3"}})]),i("circle",{attrs:{cx:"12",cy:"12",r:"12",fill:"url(#checkerboard)"}}),i("circle",{attrs:{cx:"12",cy:"12",r:"12"}})])])],2),i("div",{staticClass:"verte__menu-origin",class:["verte__menu-origin--"+t.menuPosition,{"verte__menu-origin--static":t.menuOnly,"verte__menu-origin--active":t.isMenuActive}]},[i("div",{ref:"menu",staticClass:"verte__menu",style:"transform: translate("+t.delta.x+"px, "+t.delta.y+"px)",attrs:{tabindex:"-1"}},[t.menuOnly?t._e():i("button",{staticClass:"verte__close",attrs:{type:"button"},on:{click:t.closeMenu}},[i("svg",{staticClass:"verte__icon verte__icon--small",attrs:{viewBox:"0 0 24 24"}},[i("title",[t._v("Close Icon")]),i("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}})])]),t.draggable&&!t.menuOnly?i("div",{staticClass:"verte__draggable",on:{mousedown:t.handleMenuDrag,touchstart:t.handleMenuDrag}}):t._e(),i("Picker",{attrs:{mode:t.picker,alpha:t.alpha},model:{value:t.currentColor,callback:function(e){t.currentColor=e},expression:"currentColor"}}),i("div",{staticClass:"verte__controller"},[t.enableAlpha?i("Slider",{attrs:{gradient:["rgba("+t.rgb.red+", "+t.rgb.green+", "+t.rgb.blue+", 0)","rgba("+t.rgb.red+", "+t.rgb.green+", "+t.rgb.blue+", 1)"],min:0,max:1,step:.01,editable:!1},model:{value:t.alpha,callback:function(e){t.alpha=e},expression:"alpha"}}):t._e(),t.rgbSliders?[i("Slider",{attrs:{gradient:["rgb(0,"+t.rgb.green+","+t.rgb.blue+")","rgb(255,"+t.rgb.green+","+t.rgb.blue+")"]},model:{value:t.rgb.red,callback:function(e){t.$set(t.rgb,"red",e)},expression:"rgb.red"}}),i("Slider",{attrs:{gradient:["rgb("+t.rgb.red+",0,"+t.rgb.blue+")","rgb("+t.rgb.red+",255,"+t.rgb.blue+")"]},model:{value:t.rgb.green,callback:function(e){t.$set(t.rgb,"green",e)},expression:"rgb.green"}}),i("Slider",{attrs:{gradient:["rgb("+t.rgb.red+","+t.rgb.green+",0)","rgb("+t.rgb.red+","+t.rgb.green+",255)"]},model:{value:t.rgb.blue,callback:function(e){t.$set(t.rgb,"blue",e)},expression:"rgb.blue"}})]:t._e(),i("div",{staticClass:"verte__inputs"},[i("button",{staticClass:"verte__model",attrs:{type:"button"},on:{click:t.switchModel}},[t._v(t._s(t.currentModel))]),"hsl"===t.currentModel?[i("input",{staticClass:"verte__input",attrs:{type:"number",max:"360",min:"0"},domProps:{value:t.hsl.hue},on:{change:function(e){t.inputChanged(e,"hue")}}}),i("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"100"},domProps:{value:t.hsl.sat},on:{change:function(e){t.inputChanged(e,"sat")}}}),i("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"100"},domProps:{value:t.hsl.lum},on:{change:function(e){t.inputChanged(e,"lum")}}})]:t._e(),"rgb"===t.currentModel?[i("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.rgb.red},on:{change:function(e){t.inputChanged(e,"red")}}}),i("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.rgb.green},on:{change:function(e){t.inputChanged(e,"green")}}}),i("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.rgb.blue},on:{change:function(e){t.inputChanged(e,"blue")}}})]:t._e(),"hex"===t.currentModel?[i("input",{staticClass:"verte__input",attrs:{type:"text"},domProps:{value:t.hex},on:{change:function(e){t.inputChanged(e,"hex")}}})]:t._e(),i("button",{staticClass:"verte__submit",attrs:{type:"button"},on:{click:t.submit}},[i("title",[t._v("Submit Icon")]),i("svg",{staticClass:"verte__icon",attrs:{viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})])])],2),t.showHistory?i("div",{ref:"recent",staticClass:"verte__recent"},t._l(t.historySource,(function(e){return i("a",{staticClass:"verte__recent-color",style:"color: "+e,attrs:{role:"button",href:"#"},on:{click:function(i){i.preventDefault(),t.selectColor(e)}}})}))):t._e()],2)],1)])])};ti._withStripped=!0;var ei=function(t,e,i,n,a,o,r,s){var l=("function"==typeof i?i.options:i)||{};return l.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Verte.vue",l.render||(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),l._scopeId=n,l}({render:ti,staticRenderFns:[]},0,Je,void 0,!1),ii=(i(179),{props:["model","field_name","field_key","field","value","required","disabled","readonly"],components:{Verte:ei},data:function(){return{verteKey:0}},methods:{changeVerteValue:function(t){this.$parent.changeValue(null,t)},openVerte:function(){var t=this;this.verteKey=parseInt(1e3*Math.random()),setTimeout((function(){$(t.$refs.verte.$el).find("button")[0].click()}),50)}},computed:{rowId:function(){return this.model.getRow().id||"empty"}}}),ni=(i(165),st(ii,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group",class:{disabled:t.disabled||t.readonly},attrs:{"data-toggle":"tooltip",title:t.field.tooltip}},[i("label",[t.field.locale?i("i",{staticClass:"fa localized fa-globe",attrs:{"data-toggle":"tooltip",title:t.trans("languages-field")}}):t._e(),t._v("\n        "+t._s(t.field_name)+"\n        "),t.required?i("span",{staticClass:"required"},[t._v("*")]):t._e()]),t._v(" "),i("div",{key:t.rowId,staticClass:"colors-wrapper"},[i("verte",{key:t.verteKey,ref:"verte",attrs:{picker:"square",model:"hex",value:t.value||"#000000",rgbSliders:!1,enableAlpha:!1,showHistory:null,draggable:!1},on:{input:t.changeVerteValue}},[i("svg",{attrs:{viewBox:"0 0 24 24"},on:{click:function(e){return e.preventDefault(),t.openVerte(e)}}},[i("path",{attrs:{d:"M0 20h24v4H0z"}}),t._v(" "),i("path",{staticStyle:{fill:"#000"},attrs:{d:"M11 3L5.5 17h2.25l1.12-3h6.25l1.12 3h2.25L13 3h-2zm-1.38 9L12 5.67 14.38 12H9.62z"}})])]),t._v(" "),i("div",{staticClass:"input-color-wrapper"},[i("input",{staticClass:"form-control",attrs:{type:"text",name:t.field_key,maxlength:t.field.max,placeholder:t.field.placeholder||t.field_name,disabled:t.disabled,readonly:!0},domProps:{value:t.value},on:{click:function(e){return e.preventDefault(),t.openVerte(e)}}}),t._v(" "),i("small",[t._v(t._s(t.field.title))])])],1)])}),[],!1,null,null,null));function ai(t){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var oi=st({name:"form-input-builder",props:["model","field","field_key","index","confirmation","inputlang","langslug"],components:{StringField:Vt,NumberField:zt,DateTimeField:Bt,CheckboxField:Ht,TextField:Gt,GutenbergField:Wt,FileField:Xt,SelectField:Qt,RadioField:Jt,ColorField:ni.exports},created:function(){this.registerFieldComponents(this.model,this.field,"component"),this.registerFieldComponents(this.model,this.field,"sub_component")},mounted:function(){this.syncFieldsValueWithRow()},methods:{parseArrayValue:function(t){if($.isArray(t))for(var e in t)$.isNumeric(t[e])&&(t[e]=parseInt(t[e]));return t},getLocalizedValue:function(t,e){return this.hasLocale?t&&this.langslug in t?t[this.langslug]:e||null:t||null},resetEmptyValue:function(t){return void 0===t||_.isNaN(t)?null:t},syncFieldsValueWithRow:function(){var t=this;this.$watch("row."+this.field_key,(function(e){t.field.value=t.resetEmptyValue(e)})),this.$watch("field.value",(function(e){t.row[t.field_key]=t.resetEmptyValue(e)}))},isEmptyValue:function(t){return _.isNil(t)||""===t},defaultFieldValue:function(t){var e=t?this.isEmptyValue(t.value)?t.defaultByOption||t.default:t.value:null;if(this.isEmptyValue(e)||-1===["number","string","boolean"].indexOf(ai(e))&&!this.isMultipleField(t))return"";if(t.default&&this.isDatepickerField(t)&&"CURRENT_TIMESTAMP"==e.toUpperCase()&&(e=moment().format(this.$root.fromPHPFormatToMoment(t.date_format))),t.default&&this.isEmptyValue(t.value)){var i=(t.default+"").split(".");if(2==i.length){var n=this.getModelBuilder(i[0]);n&&i[1]in n.row&&(e=n.row[i[1]])}}if(t.defaultByOption&&this.isSelect&&this.isEmptyValue(t.value)){var a,o=(t.defaultByOption+"").split(",");e=(a=t.options.filter((function(t){return 1==o.length?t[0]==o[0]:o.length>1?t[1][o[0]]==o[1]:void 0}))[0])?a[0]:""}return this.isCheckbox&&(e=1==e),this.isEmptyValue(e)?"":(_.isNil(this.field.value)&&this.changeValue(null,e),e)},changeValue:function(t,e,i){return this.model.changeValueFromInput(this.field_key,t,e,i,this.langslug)},isMultipleField:function(t){return t.multiple&&!0===t.multiple||"belongsToMany"in t},isDatepickerField:function(t){return["date","datetime","time"].indexOf(t.type)>-1},fixBoolValue:function(t){return!0===t?"1":!1===t?"0":t}},computed:{langid:function(){return this.model.getSelectedLanguageId()},depth_level:function(){return this.model.getData("depth_level")},history:function(){return this.model.getData("history")},row:function(){return this.model.getRow()},getId:function(){return parent=this.model.getParentTableName(1==this.model.without_parent),"id-"+this.model.slug+this.field_key+"-"+this.depth_level+"-"+parent+"-"+this.index+"-"+this.langslug},getFieldKey:function(){return this.model.slug+"-"+this.field_key},getFieldName:function(){var t=this.field_key;return this.hasLocale&&(t=this.field_key+"["+this.langslug+"]"),this.model.formPrefix()+t},getName:function(){return this.isConfirmation?this.field.name+" ("+this.trans("confirmation")+")":this.field.name},isString:function(){return"string"==this.field.type},isNumber:function(){return["integer","decimal"].indexOf(this.field.type)>-1},isText:function(){return"text"==this.field.type||"longtext"==this.field.type},isGutenberg:function(){return"gutenberg"==this.field.type},isEditor:function(){return"editor"==this.field.type||"longeditor"==this.field.type},isFile:function(){return"file"==this.field.type},isPassword:function(){return"password"==this.field.type},isColor:function(){return"color"==this.field.type},isSelect:function(){return this&&"select"==this.field.type},isRadio:function(){return"radio"==this.field.type},isConfirmation:function(){return 1==this.confirmation},isDatepicker:function(){return this.isDatepickerField(this.field)},isCheckbox:function(){return"checkbox"==this.field.type},isDisabled:function(){return 1==this.model.isOpenedRow()&&(0==this.model.hasAccess("update")||0==this.model.editable)||this.model.tryAttribute(this.field,"disabled",this.row)},isReadonly:function(){return this.model.tryAttribute(this.field,"readonly",this.row)},isMultiple:function(){return this.isMultipleField(this.field)},hasComponent:function(){return"component"in this.field&&this.field.component&&0==this.hasEmptyComponent},hasSubComponent:function(){return"sub_component"in this.field&&this.field.sub_component},hasEmptyComponent:function(){var t=this.componentName(this.model,this.field.component);if(!t||!this.model.components[t])return!1;try{var e=this.model.components[t];return""==new Function("return "+e)().template}catch(t){}return!1},getValueOrDefault:function(){if(this.isConfirmation)return"";var t=this.parseArrayValue(this.field.value);return this.isMultipleDatepicker?JSON.stringify(t||[]):this.hasLocale?this.getLocalizedValue(t,this.defaultFieldValue(this.field)):this.model.isOpenedRow()?t:this.defaultFieldValue(this.field)},isRequired:function(){if(this.model.isOpenedRow()&&"password"==this.field.type)return!1;if("required"in this.field&&1==this.field.required)return!0;if(this.field.required_if){var t=this.field.required_if.split(",");if((e=this.fixBoolValue(this.row[t[0]]))&&t.slice(1).indexOf(e)>-1)return!0}if(this.field.required_unless){var e;t=this.field.required_unless.split(",");if((e=this.fixBoolValue(this.row[t[0]]))&&-1==t.slice(1).indexOf(e))return!0}if(this.field.required_without){t=this.field.required_without.split(",");for(var i=0;i<t.length;i++)if(!this.row[t[i]])return!0}if(this.field.required_with)for(t=this.field.required_with.split(","),i=0;i<t.length;i++)if(this.row[t[i]])return!0;return!1},hasLocale:function(){return"locale"in this.field},isChangedFromHistory:function(){return!!this.history&&this.history.fields.indexOf(this.field_key)>-1}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field-wrapper",class:{"is-changed-from-history":t.isChangedFromHistory&&!t.hasComponent},attrs:{"data-field":t.field_key,"data-model":t.model.slug,"data-lang":t.langslug,"data-history-changed":t.isChangedFromHistory}},[t.hasComponent||!t.isString&&!t.isPassword?t._e():i("string-field",{attrs:{model:t.model,field_name:t.getName,field_key:t.getFieldName,field:t.field,value:t.getValueOrDefault,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}),t._v(" "),!t.hasComponent&&t.isColor?i("color-field",{attrs:{model:t.model,field_name:t.getName,field_key:t.getFieldName,field:t.field,value:t.getValueOrDefault,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}):t._e(),t._v(" "),!t.hasComponent&&t.isNumber?i("number-field",{attrs:{model:t.model,field_name:t.getName,field_key:t.getFieldName,field:t.field,value:t.getValueOrDefault,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}):t._e(),t._v(" "),!t.hasComponent&&t.isDatepicker?i("date-time-field",{attrs:{model:t.model,field_name:t.getName,field_key:t.getFieldName,field:t.field,value:t.getValueOrDefault,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}):t._e(),t._v(" "),!t.hasComponent&&t.isCheckbox?i("checkbox-field",{attrs:{model:t.model,field_name:t.getName,field_key:t.getFieldName,field:t.field,value:t.getValueOrDefault,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}):t._e(),t._v(" "),t.hasComponent||!t.isText&&!t.isEditor?t._e():i("text-field",{attrs:{id:t.getId,model:t.model,field_name:t.getName,field_key:t.getFieldName,field:t.field,value:t.getValueOrDefault,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}),t._v(" "),!t.hasComponent&&t.isGutenberg?i("gutenberg-field",{attrs:{id:t.getId,model:t.model,field_name:t.getName,field_key:t.getFieldName,field:t.field,value:t.getValueOrDefault,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}):t._e(),t._v(" "),!t.hasComponent&&t.isFile?i("file-field",{attrs:{id:t.getId,model:t.model,field_name:t.getName,field_key:t.getFieldName,field_key_original:t.field_key,field:t.field,value:t.getValueOrDefault,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}):t._e(),t._v(" "),!t.hasComponent&&t.isSelect?i("select-field",{attrs:{id:t.getId,model:t.model,field_name:t.getName,field_key:t.getFieldName,field:t.field,value:t.getValueOrDefault,inputlang:t.inputlang,langid:t.langid,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}):t._e(),t._v(" "),!t.hasComponent&&t.isRadio?i("radio-field",{attrs:{id:t.getId,model:t.model,field_name:t.getName,field_key:t.getFieldName,field:t.field,value:t.getValueOrDefault,inputlang:t.inputlang,langid:t.langid,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly,depth_level:t.depth_level}}):t._e(),t._v(" "),1!=t.field.confirmed||t.isConfirmation?t._e():i("form-input-builder",{attrs:{model:t.model,field:t.field,index:t.index,field_key:t.field_key+"_confirmation",depth_level:t.depth_level,confirmation:!0}}),t._v(" "),t.hasComponent||t.hasEmptyComponent?i(t.componentName(t.model,t.field.component),{tag:"component",attrs:{model:t.model,field:t.field,value:t.getValueOrDefault,history_changed:t.isChangedFromHistory,history:t.history,row:t.row,field_key:t.getFieldName,field_key_original:t.field_key,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly}}):t._e(),t._v(" "),t.hasSubComponent?i(t.componentName(t.model,t.field.sub_component),{tag:"component",attrs:{model:t.model,field:t.field,value:t.getValueOrDefault,history_changed:t.isChangedFromHistory,history:t.history,row:t.row,field_key:t.getFieldName,field_key_original:t.field_key,required:t.isRequired,disabled:t.isDisabled,readonly:t.isReadonly}}):t._e()],1)}),[],!1,null,null,null);function ri(t){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var si=st({name:"form-group",props:["model","group","inputlang"],components:{FormInputBuilder:oi.exports,FormTabsBuilder:ui},created:function(){this.$options.components["form-tabs-builder"]=Vue.extend(ui)},computed:{row:function(){return this.model.getRow()},tabsFields:function(){var t=this;return this.group.fields.filter((function(e){return t.isTab(e)}))},visibleFields:function(){return this.getVisibleFields(this.group.fields)}},methods:{getVisibleFields:function(t){var e=this;return(t||[]).filter((function(t){if("string"==typeof t){var i=e.model.fields[t];return!(e.model.tryAttribute(i,"invisible",e.row)||e.canRemoveAttribute(i)||!e.canShowField(i))}return!(!t||"object"!=ri(t)||!t.fields||"object"!=ri(t.fields))&&e.getVisibleFields(t.fields).length>0}))},canRemoveAttribute:function(t){return this.model.tryAttribute(t,"removeField",this.row)||this.model.tryAttribute(t,"removeFromForm",this.row)||this.model.tryAttribute(t,"inaccessible",this.row)},canHideAttribute:function(t){return this.model.tryAttribute(t,"hideField",this.row)||this.model.tryAttribute(t,"hideFromForm",this.row)},canRenderField:function(t){return!this.model.tryAttribute(t,"invisible",this.row)&&!this.canRemoveAttribute(t)},canShowField:function(t){return!this.canHideAttribute(t)&&(!!(!0!==t.ifExists&&!0!==t.hideOnCreate||this.model.isOpenedRow())&&(!0!==t.ifDoesntExists&&!0!==t.hideOnUpdate||!this.model.isOpenedRow()))},getGroupClass:function(t){var e=(t.width+"").split("-");return"half"==e[0]?e[0]=6:"full"==e[0]?e[0]=12:"third"==e[0]&&(e[0]=4),2==e.length&&"inline"==e[1]?"col-12 col-lg-"+e[0]+" fields-group--inline":$.isNumeric(e[0])?"col-12 col-lg-"+e[0]:"col-12"},canShowGroupName:function(t){return t.name},isField:function(t){return this.$parent.isField(t)},isGroup:function(t){return this.$parent.isGroup(t)},isTab:function(t){return this.$parent.isTab(t)},hasTabs:function(t){return this.$parent.hasTabs(t)},getFieldLangs:function(t){return t&&"locale"in t?_.map(this.$root.languages,"slug"):1},canShowLanguageField:function(t,e,i){return!("locale"in t)||i.slug==e},isGroupVisible:function(t){return!(t.attributes&&Object.keys(t.attributes).length>0&&(this.model.tryAttribute(t.attributes,"hideField",this.row)||this.model.tryAttribute(t.attributes,"hideFromForm",this.row)))&&(!t.id||-1===(this.model.hidden_groups||[]).indexOf(t.id))}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isGroupVisible(t.group),expression:"isGroupVisible(group)"}],staticClass:"fields-group fields-group__item",class:t.getGroupClass(t.group),attrs:{"group-id":t.group.id,"data-fields":t.visibleFields.length}},[i("div",{class:{card:t.canShowGroupName(t.group),"fields-group__wrapper":t.visibleFields.length>0||!1===t.hasTabs(t.group.fields),"fields-tabs__wrapper":t.hasTabs(t.group.fields)}},[t.canShowGroupName(t.group)?i("h4",{staticClass:"card-header"},[t.group.icon?i("i",{staticClass:"card-header--icon-left",class:["fa",t.faMigrator(t.group.icon)]}):t._e(),t._v(" "),i("span",{domProps:{innerHTML:t._s(t.group.name)}})]):t._e(),t._v(" "),i("div",{class:{"card-body":t.canShowGroupName(t.group)}},[i("div",{staticClass:"row"},[t.hasTabs(t.group.fields)?i("div",{staticClass:"col-lg-12 tab--parent"},[i("form-tabs-builder",{attrs:{tabs:t.tabsFields,model:t.model}})],1):t.canShowGroupName(t.group)&&0==t.visibleFields.length?i("div",[t._m(0)]):t._e(),t._v(" "),t._l(t.group.fields,(function(e,n){return i("fragment",{key:n},[t.isField(e)&&t.canRenderField(t.model.fields[e])?i("div",{directives:[{name:"show",rawName:"v-show",value:t.canShowField(t.model.fields[e]),expression:"canShowField(model.fields[item])"}],staticClass:"fields-group__item col-12"},t._l(t.getFieldLangs(t.model.fields[e]),(function(a){return i("form-input-builder",{directives:[{name:"show",rawName:"v-show",value:t.canShowLanguageField(t.model.fields[e],a,t.inputlang),expression:"canShowLanguageField(model.fields[item], langslug, inputlang)"}],key:e+"-"+a,attrs:{model:t.model,inputlang:t.inputlang,langslug:a,index:n,field_key:e,field:t.model.fields[e]}})})),1):t._e(),t._v(" "),t.isGroup(e)&&!t.isTab(e)?i("form-group",{attrs:{group:e,model:t.model,inputlang:t.inputlang}}):t._e()],1)}))],2)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("p",{staticClass:"empty-group-separator"},[this._v("...")])])}],!1,null,null,null);function li(t){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ui=st({name:"form-tabs-builder",props:["model","group","tabs","childs","inputlang","cansave"],components:{FormGroup:si.exports},data:function(){return{models_loaded:[],models_data:{},activetab:0}},created:function(){var t=this;this.$options.components["model-builder"]=Vue.extend(Ei),this.$watch("row.id",(function(t,e){!1===this.model.getSettings("autoreset")&&t||(this.activetab=0),this.models_loaded=[]})),eventHub.$on("rowsChanged",this.rowsChangedEvent=function(e){t.model.getData("depth_level")+1==e.depth_level&&t.$set(t.models_data,e.table,e)}),eventHub.$on("changeActiveTab",this.changeActiveTab=function(e){t.model.getData("depth_level")==e.depth_level&&(t.activetab=e.activetab)})},destroyed:function(){eventHub.$off("rowsChanged",this.rowsChangedEvent),eventHub.$off("changeActiveTab",this.rowsChangedEvent)},watch:{activetab:function(t){void 0!==this.cansave&&eventHub.$emit("changeFormSaveState",{model:this.model.slug,state:!(this.isModel(this.getTabs[t])&&!0!==this.getModel(this.getTabs[t].model).inParent)})}},computed:{row:function(){return this.model.getRow()},getModelFields:function(){return 1==this.model.fields_groups.length&&"default"==this.model.fields_groups[0].type?this.model.fields_groups[0].fields:this.model.fields_groups},getTabs:function(){var t=this.getModelFields,e=this.tabs||(this.group?this.group.fields:t),i=e.filter(function(t){return!!this.isTab(t)}.bind(this));if((0==i.length||i.length>0&&i.length!=e.length)&&(e=e.filter(function(t){return!this.isTab(t)}.bind(this)),i=[{name:this.group?this.group.name:this.model.getSettings("title.tab",this.trans("general-tab")),icon:this.group?this.group.icon:this.model.icon,fields:e,type:"tab",default:!0}].concat(i)),1==this.childs){var n=this.model.getChilds();for(var a in n){var o="string"==typeof n[a]?this.model:n[a];this.isModelInFields(t,o.slug)||i.push({fields:[],type:"tab",model:o.slug})}}return i},hasTabsAvailable:function(){return!(1==this.getTabs.filter(function(t){return!!this.isTab(t)&&!(t.model&&!this.isModel(t))}.bind(this)).length&&!0===this.getTabs[0].default)}},methods:{checkRecursivityModelTab:function(t){return this.model.table!=t.model||this.model.checkMaxRecursivity()},canRenderTab:function(t,e){return!(!this.hasTabs(t.fields)&&!this.isModel(t))||this.chunkGroups(t.fields).length>0},tabsFields:function(t){var e=this;return t.filter((function(t){return e.isTab(t)}))},getModel:function(t){var e=this;return this.cachedModel||(this.cachedModel={}),this.cachedModel[t]?this.cachedModel[t]:this.cachedModel[t]="string"==typeof e.model.childs[t]?e.getFreshModel(e.model.table):e.model.childs[t]?J(e.model.childs[t]):e.getFreshModel(t)},getTabName:function(t){if(this.isModel(t)){var e=this.getModel(t.model),i=t.name||e.name,n=this.models_data[e.slug];return e.isSingle()&&e.isInParent()||(i+=" ("+(n?parseInt(n.count||0):"0")+")"),i}return t.name},getTabIcon:function(t){return this.isModel(t)?t.icon||this.getModel(t.model).icon:t.icon},isModelInFields:function(t,e){for(var i=0;i<t.length;i++)if(this.isGroup(t[i])){if(t[i].model===e)return!0;if(t[i].fields.length>0&&this.isModelInFields(t[i].fields,e))return!0}return!1},isModel:function(t){return!("tab"!=t.type||!t.model||1!=this.getModel(t.model).active)&&(this.model.isOpenedRow()||1==this.getModel(t.model).without_parent)},isField:function(t){return"string"==typeof t&&t in this.model.fields},isGroup:function(t){return"object"==li(t)&&"type"in t},isTab:function(t){return this.isGroup(t)&&"tab"==t.type},hasTabs:function(t){return t.filter(function(t){return this.isTab(t)}.bind(this)).length>0},getGroupClass:function(t){return this.$parent.getGroupClass(t)},canShowGroupName:function(t){return t.name},chunkGroups:function(t){for(var e=[],i=0;i<t.length;i++)(i>0&&this.isGroup(e[e.length-1])&&this.isField(t[i])||0==i&&this.isField(t[i]))&&e.push([]),this.isField(t[i])?e[e.length-1].push(t[i]):e.push(t[i]);return e.map(function(t){return this.isGroup(t)?t:{type:"default",fields:t,name:this.group?this.group.name:null}}.bind(this))},isLoadedModel:function(t,e){return(e===this.activetab||t.isInParent()||t.getSettings("tab_loaded"))&&-1===this.models_loaded.indexOf(t.slug)&&this.models_loaded.push(t.slug),this.models_loaded.indexOf(t.slug)>-1},isTabVisible:function(t){if(!this.isTab(t))return!1;if(this.isModel(t)&&!1===this.checkRecursivityModelTab(t))return!1;var e=this.model.getRow();return(!t.attributes||!this.model.tryAttribute(t.attributes,"hideField",e)&&!this.model.tryAttribute(t.attributes,"hideFromForm",e))&&-1===(this.model.hidden_tabs||[]).indexOf(t.model||t.id)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"nav-tabs-custom":t.hasTabsAvailable}},[t.hasTabsAvailable?i("ul",{staticClass:"nav nav-tabs"},t._l(t.getTabs,(function(e,n){return t.isTab(e)&&!e.model||t.isModel(e)?i("li",{directives:[{name:"show",rawName:"v-show",value:t.isTabVisible(e),expression:"isTabVisible(tab)"}],staticClass:"nav-item",class:{"model-tab":t.isModel(e),active:t.activetab==n},attrs:{"data-tabs":"","data-depth":t.model.getData("depth_level"),"default-tab":(!t.isModel(e)||!t.getModel(e.model))&&"","data-model":t.isModel(e)&&t.getModel(e.model)?t.getModel(e.model).slug:t.model.table,"data-tab-id":e.id},on:{click:function(e){t.activetab=n}}},[i("a",{staticClass:"nav-link",class:{active:t.activetab==n},attrs:{"data-toggle":"tab","aria-expanded":"true"}},[t.getTabIcon(e)?i("i",{staticClass:"fa nav-link--icon-left",class:[t.faMigrator(t.getTabIcon(e))]}):t._e(),t._v("\n                "+t._s(t.getTabName(e)||t.trans("general-tab"))+"\n            ")])]):t._e()})),0):t._e(),t._v(" "),i("div",{staticClass:"tab-content tab-content--form"},t._l(t.getTabs,(function(e,n){return t.canRenderTab(e)?i("div",{staticClass:"tab-pane",class:{active:t.activetab==n},attrs:{"data-tab-model":!!t.isModel(e)&&t.getModel(e.model).slug,"data-tab-id":e.id}},[i("div",{staticClass:"row"},[t.hasTabs(e.fields)||t.isModel(e)?i("div",{staticClass:"col-lg-12",class:{model:t.isModel(e)}},[t.hasTabs(e.fields)?i("form-tabs-builder",{attrs:{tabs:t.tabsFields(e.fields),model:t.model,inputlang:t.inputlang}}):t._e(),t._v(" "),t.isModel(e)?i("model-builder",{key:t.getModel(e.model).getData("uuid"),attrs:{dusk:"model-builder","data-model":t.getModel(e.model).table,langid:t.model.getSelectedLanguageId(),ischild:!0,model_builder:t.getModel(e.model),activetab:t.isLoadedModel(t.getModel(e.model),n),parentActiveGridSize:t.model.activeGridSize(),parentrow:t.row}}):t._e()],1):t._e(),t._v(" "),t._l(t.chunkGroups(e.fields),(function(e,n){return t.isGroup(e)&&!t.isTab(e)?i("form-group",{key:n,attrs:{group:e,model:t.model,inputlang:t.inputlang}}):t._e()}))],2)]):t._e()})),0)])}),[],!1,null,null,null).exports,ci=st({props:["model","type","postfix"],created:function(){this.bootComponents()},computed:{layouts:function(){return this.model.layouts},row:function(){return this.model.getData("row")},rows:function(){return this.model.getData("rows")},registered_components:function(){return this.model.getData("registered_components")}},methods:{bootComponents:function(){var t=this.model.layouts;for(var e in t){var i=t[e];i.position==this.type&&(this.registerComponents(t),"blade"==i.type&&$app.runInlineScripts(i.view))}},registerComponents:function(t){for(var e=0;e<t.length;e++){var i,n=t[e].name,a=t[e].view;if("vuejs"==t[e].type)try{i=this.getComponentObject(a)}catch(i){console.error("Syntax error in component "+t[e].name+".Vue\n",i);continue}else(a=$(a)).find("script").remove(),a.find("style").remove(),i={template:'<div class="my-component" data-component="'+n+'">'+a.html()+"</div>"};i&&(this.registered_components.push(n),Vue.component(this.model.getComponentName(n,this.postfix),i))}}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.model.getComponents(t.type,t.postfix).length?i("div",t._l(t.model.getComponents(t.type,t.postfix),(function(e){return i(e,{key:e,tag:"component",attrs:{model:t.model,row:t.row,rows:t.rows.data}})})),1):t._e()}),[],!1,null,null,null).exports;function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var hi=st({name:"form-builder",props:["model","rows","gettext_editor"],components:{FormTabsBuilder:ui,ModelLanguageSwitch:jt,CustomComponents:ci},data:function(){return{submit:!1,isActive:!0,cansave:!0}},mounted:function(){var t=this;eventHub.$on("changeFormSaveState",this.changeFormSaveStateEvent=function(e){e.model==t.model.slug&&(t.cansave=e.state)}),eventHub.$on("onUpdate",this.onUpdateEvent=function(e){if(e.table==t.model.slug&&e.depth_level==t.model.getData("depth_level"))for(var i in e.row)t.model.setValue(i,e.row[i]),i in t.model.fields&&(t.model.fields[i].value=e.row[i])}),this.model.initForm(this.row)},destroyed:function(){eventHub.$off("changeFormSaveState",this.changeFormSaveStateEvent),eventHub.$off("onUpdate",this.onUpdateEvent)},watch:{row:{handler:function(t,e){var i=!this.model.isOpenedRow()||!e||t.id!=e.id;t&&e&&t.id==e.id&&!this.model.getData("history").history_id||(this.model.initForm(t,i),this.model.sendRowData())},deep:!0}},computed:{progress:function(){return this.model.getData("progress")},row:function(){return this.model.getRow()},formType:function(){return this.model.isInParent()?"div":"form"},title:function(){var t;if(this.model.isOpenedRow()){if(!(t=this.model.getSettings("title.update")))return(this.model.fields.name||this.model.fields.title)&&(this.row.name||this.row.title)?this.getLocaleFieldValue(this.row.name||this.row.title):this.model.editable?this.trans("edit-row-n")+" "+this.row.id:this._("Zobrazujete záznam č.")+" "+this.row.id;for(var e in this.row){var i=this.row[e];if(this.isFieldSelect(e))for(var n=this.$root.languageOptions(this.model.fields[e].options,e),a=0;a<n.length;a++)if(n[a][0]==i){i=n[a][1];break}if(i&&"object"==di(i)){var o=!0,r=!1,s=void 0;try{for(var l,u=this.$root.languages[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c.slug in i){i=i[c.slug];break}}}catch(t){r=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw s}}}if(i&&"object"==di(i))for(var d in i)if(i[d]){i=i[d];break}t=t.replace(":"+e,i||"")}return t}return(t=this.model.getSettings("title.insert"))||(t=this.model.getSettings("title.create"))?t:this.trans("new-row")},newRowTitle:function(){return this.$parent.newRowTitle()},saveButton:function(){return this.model.getSettings("buttons.update")||this.trans("save")},sendButton:function(){return this.model.getSettings("buttons.insert")||this.trans("send")},canShowFooter:function(){return this.canUpdateForm||this.model.getComponents("form-footer").length>0},canUpdateForm:function(){return!this.model.getData("history").history_id&&((!this.model.isOpenedRow()||0!=this.model.getSettings("editable")&&0!=this.model.editable)&&(!!this.model.hasAccess("update")&&(!this.model.isInParent()&&this.cansave)))},canShowGettext:function(){return!!(["languages","admin_languages"].indexOf(this.model.slug)>-1&&this.$root.gettext&&this.model.hasAccess("update"))}},methods:{openNewForm:function(){this.$parent.addNewRow()},openGettextEditor:function(){this.$parent.gettext_editor=this.row},isFieldSelect:function(t){return!!(t&&t in this.model.fields&&["select","radio"].indexOf(this.model.fields[t].type)>-1)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.formType,{ref:"form",tag:"component",staticClass:"form crudadmin-form",attrs:{method:"post",action:"",id:t.model.getFormId(),"data-form":t.model.slug},on:{submit:function(e){return e.preventDefault(),t.model.saveForm(e)}}},[i("div",{staticClass:"box",class:{"box--active":t.isActive}},[i("div",{staticClass:"box-header",class:{visible:t.model.hasLocaleFields()||t.canShowGettext||t.model.isOpenedRow()&&t.model.history,"--opened":t.model.isOpenedRow()},attrs:{"data-header":""}},[i("div",{staticClass:"box-header__actions"},[i("div",{staticClass:"box-header__left"},[i("h3",{staticClass:"box-header__title"},[(t.model.isOpenedRow()||t.model.isOnlyFormOpened())&&t.model.isEnabledOnlyFormOrTableMode()&&t.model.hasRows()?i("i",{staticClass:"goBackButton fa fa-chevron-left",attrs:{"data-toggle":"tooltip",title:t.__("Vrátiť sa bez uloženia")},on:{click:function(e){return t.model.closeForm()}}}):t._e(),t._v(" "),t.model.localization?i("span",{staticClass:"--icon-left fa fa-globe-americas",attrs:{"data-toggle":"tooltip","data-original-title":t.trans("multilanguages")}}):t._e(),t._v("\n                        "+t._s(t.title)+"\n                    ")]),t._v(" "),i("custom-components",{attrs:{model:t.model,type:"form-header-left"}})],1),t._v(" "),i("div",{staticClass:"box-header__right"},[i("custom-components",{attrs:{model:t.model,type:"form-header-right"}}),t._v(" "),t.model.isOpenedRow()&&t.canShowGettext?i("button",{staticClass:"btn--icon btn btn-default btn-sm",attrs:{type:"button"},on:{click:t.openGettextEditor}},[i("i",{staticClass:"fa fa-globe-americas"}),t._v("\n                        "+t._s(t.trans("gettext-open"))+"\n                    ")]):t._e(),t._v(" "),t.model.isOpenedRow()&&t.model.history&&t.model.isSingle()?i("button",{staticClass:"btn--icon btn btn-sm btn-default",attrs:{type:"button","data-toggle":"tooltip",title:"","data-original-title":t.trans("history.changes")},on:{click:function(e){return t.model.showHistory(t.row)}}},[i("i",{staticClass:"fa fa-history"}),t._v("\n                        "+t._s(t.model.getSettings("buttons.show-history",t.trans("history.show")))+"\n                    ")]):t._e(),t._v(" "),i("model-language-switch",{attrs:{model:t.model}}),t._v(" "),!t.model.isOpenedRow()&&!t.model.isOnlyFormOpened()||t.model.isInParent()||t.model.isSingle()?t._e():i("button",{staticClass:"btn--icon btn btn-default btn-sm",attrs:{"data-toggle":"tooltip","data-close-form":t.model.table,title:t.__("Zavrieť bez uloženia"),type:"button"},on:{click:function(e){return t.model.closeForm()}}},[i("i",{staticClass:"fa fa-times-circle"}),t._v("\n                        "+t._s(t.__("Zavrieť"))+"\n                    ")])],1)]),t._v(" "),i("custom-components",{attrs:{model:t.model,type:"form-header"}})],1),t._v(" "),i("div",{staticClass:"box-body box-body--form",class:{cantadd:!t.cansave}},[i("custom-components",{attrs:{model:t.model,type:"form-top"}}),t._v(" "),i("div",{staticClass:"box-body-wrapper"},[t._l(t.model.getAdditionalFormData(),(function(t,e){return i("input",{attrs:{type:"hidden",name:e},domProps:{value:t}})})),t._v(" "),i("form-tabs-builder",{attrs:{model:t.model,childs:!0,inputlang:t.model.selectedLanguage(),cansave:t.cansave}})],2),t._v(" "),i("custom-components",{attrs:{model:t.model,type:"form-bottom"}})],1),t._v(" "),t.canShowFooter?i("div",{staticClass:"box-footer",attrs:{"data-footer":t.model.table}},[i("custom-components",{attrs:{model:t.model,type:"form-footer"}}),t._v(" "),t.canUpdateForm?i("div",{staticClass:"box-footer__actions"},[i("div",{staticClass:"box-footer__right"},[t.progress?i("button",{class:["btn","btn-"+(t.model.isOpenedRow()?"success":"primary")],attrs:{type:"button","data-action-type":"updating"}},[i("i",{staticClass:"fa updating fa-refresh"}),t._v(" "+t._s(t.model.isOpenedRow()?t.trans("saving"):t.trans("sending"))+"\n                    ")]):t._e(),t._v(" "),t.progress?t._e():i("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-action-type":t.model.isOpenedRow()?"update":"create",name:"submit"}},[t._v("\n                        "+t._s(t.model.isOpenedRow()?t.saveButton:t.sendButton)+"\n                    ")])])]):t._e()],1):t._e()])])}),[],!1,null,null,null).exports,fi=st({methods:{}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box__overlay"},[e("i",{staticClass:"fa fa-sync fa-spin"}),this._v(" "),e("p",[this._v(this._s(this.trans("loading")))])])}),[],!1,null,null,null).exports;function pi(t){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var mi=st({props:["model","item","field","name","image","columns","settings"],components:{File:Yt},created:function(){this.fieldColumn&&this.registerFieldComponents(this.model,this.fieldColumn,"column_component")},computed:{isFile:function(){return!(!this.settings.isRealField||"file"!=this.settings.field.type||!this.settings.encode)},isColor:function(){return this.settings.isRealField&&"color"==this.settings.field.type},getFiles:function(){var t=this.fieldValue||[];return $.isArray(t)?t:[t]},hasFieldValue:function(){return!1===_.isNil(this.fieldValue)},fieldValue:function(){var t=this.settings.field,e=this.item,i=this.field in e?this.getMutatedValue(e[this.field],t):"";if(t){var n="radio"==t.type;if("select"==t.type||n){if("multiple"in t&&1==t.multiple&&$.isArray(i)&&!n){for(var a=[],o=i,r=(u=this.getRelatedModelTable(t))||t.option?this.getLanguageSelectOptions(t.options,this.getRelatedModelTable(t)):t.options,s=0;s<o.length;s++){var l=r.filter(function(t){return t[0]==o[s]}.bind(this));l.length>0&&a.push(l[0][1])}return a.join(", ")}var u=this.getRelatedModelTable(t);if(!(r=n||!u&&!t.option?t.options:this.getLanguageSelectOptions(t.options,u)))return i;for(s=0;s<r.length;s++)if(i==r[s][0])return r[s][1]}else{if("checkbox"==t.type)return 1==i?this.trans("yes"):this.trans("no");"date"==t.type&&!0===t.multiple?i=this.returnDateFormat(i):"time"==t.type&&!0===t.multiple&&(i=(i||[]).join(", "))}}else if(["created_at","updated_at"].indexOf(this.field)>-1)return this.returnDateFormat([i]);var c=this.settings.add_before,d=this.settings.add_after;return"object"==pi(i)?i:i||0==i?(c||"")+i+(d||""):null},onlyEncodedTitle:function(){return!1===this.settings.encode?"":this.fieldValue},fieldValueLimitedAndEncoded:function(){return this.encodeValue(this.stringLimit(this.fieldValue))},fieldColumn:function(){return this.model.fields[this.field]},hasComponent:function(){return this.fieldColumn&&"column_component"in this.fieldColumn&&this.fieldColumn.column_component}},methods:{returnDateFormat:function(t){return(t||[]).map((function(t){var e=moment(t);return e._isValid?e.format("DD.MM.YYYY"):t})).join(", ")},stringLimit:function(t){var e=this.settings.string_limit;return 0!=e&&t.length>e&&!1!==this.settings.encode?t.substr(0,e)+"...":t},encodeValue:function(t){var e=this.settings.field;if(this.settings.isRealField){if(1==this.settings.encode&&(t=$(document.createElement("div")).text(t).html()),"text"==e.type&&0===parseInt(e.limit))return t.replace(/\n/g,"<br>");if("string"==e.type&&("phone"in e||"phone_link"in e))return'<a href="tel:'+t+'">'+t+"</a>"}return t},getRelatedModelTable:function(t){var e=t.belongsTo||t.belongsToMany;return!!e&&e.split(",")[0]},getMutatedValue:function(t,e){if(e&&"locale"in e){var i=this.settings.default_slug;t=this.getLocaleFieldValue(t,i)}return 0===t?0:t},getLanguageSelectOptions:function(t,e){var i=(e=this.$root.models[e])&&e.localization?{language_id:this.$root.language_id}:{};return this.$root.languageOptions(t,this.settings.field,i,!1)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasFieldValue||t.hasComponent?i("div",[t.hasComponent?i(t.componentName(t.model,t.fieldColumn.column_component),{tag:"component",attrs:{mutatedValue:t.fieldValue,value:t.item[t.field],field:t.fieldColumn,row:t.item,model:t.model}}):t._e(),t._v(" "),t.isColor?i("div",{style:{color:t.fieldValueLimitedAndEncoded}},[t._v("\n        "+t._s(t.fieldValueLimitedAndEncoded)+"\n    ")]):t.isFile?i("div",{staticClass:"filesList"},t._l(t.getFiles,(function(e,n){return i("div",[i("file",{attrs:{file:e,field:t.field,model:t.model,image:t.image}}),t._v(" "),n!=t.getFiles.length-1?i("span",[t._v(", ")]):t._e()],1)})),0):i("span",{attrs:{"data-toggle":t.fieldValue.length>t.settings.string_limit?"tooltip":"","data-original-title":t.onlyEncodedTitle},domProps:{innerHTML:t._s(t.fieldValueLimitedAndEncoded)}})],1):t._e()}),[],!1,null,null,null);function gi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var vi=st({props:["rows","buttons","count","field","gettext_editor","model","pagination"],components:{TableRowValue:mi.exports,PublishButton:kt,ButtonsAction:St,draggable:Dt.a},data:function(){return{enabled_columns:{},hidden:["language_id","_order","slug","published_at","updated_at","created_at"],autoSize:!1}},created:function(){null!=this.model.foreign_column&&this.hidden.push(this.model.foreign_column),this.resetAllowedColumns(),0==this.autoSize&&this.model.checkActiveGridSize(this.columns)},watch:{columns:function(){this._cacheColumnSettings={}},parentRowId:function(t,e){1==this.model.without_parent&&t!=e&&(this.$parent.reloadRows(),this.resetAllowedColumns())}},computed:{parentRowId:function(){return(this.model.getData("parentrow")||{}).id},button_loading:function(){return this.model.getData("button_loading")},loadingRow:function(){return this.model.getData("loadingRow")},history:function(){return this.model.getData("history")},sortedRows:function(){return this.model.getRows()},row:function(){return this.model.getRow()},orderBy:function(){return this.model.getData("orderBy")},hasCheckingEnabled:function(){return!1!==this.model.getSettings("checking",!0)},isSmallTable:function(){var t=Object.keys(this.columns).length;return this.pagination.limit>=100&&this.rows.count>=100||t>10},multipleCheckbox:function(){return this.model.getChecked().length>0},defaultColumns:function(){for(var t={},e=0;e<this.model.columns.length;e++)o=this.model.columns[e],this.model.getSettings("columns."+o+".hidden")||!(-1==this.hidden.indexOf(o)&&this.avaliableColumns.indexOf(o)>-1)||o in this.model.fields&&(1==this.model.fields[o].hidden||this.model.tryAttribute(this.model.fields[o],"invisible",this.row)||this.model.tryAttribute(this.model.fields[o],"inaccessible",this.row))&&1!=this.model.fields[o].column_visible||(t[this.model.columns[e]]=this.fieldName(this.model.columns[e]));var i=this.model.getSettings("columns"),n=[];if(i){for(var e in i)if(1!=this.model.getSettings("columns."+e+".hidden")){var a={};for(var o in t){for(var r in i)a=this.addColumn(a,r,o,"before",i,n);for(var r in a[o]=t[o],i)a=this.addColumn(a,r,o,"after",i,n)}t=a}for(var o in i)if(!(o in t)&&(1!=i[o].hidden&&1!=i[o].invisible||1==i[o].column_visible)){var s=this.getColumnRightKey(o);t[o]=i[o].name||i[o].title||this.model.fields[s].column_name||this.model.fields[s].name}}return!1===this.$root.getModelProperty(this.model,"settings.increments")&&"id"in t&&delete t.id,this.model.setData("default_columns",Object.keys(t)),t},columns:function(){var t={};for(var e in this.enabled_columns)1==this.enabled_columns[e].enabled&&(t[e]=this.enabled_columns[e].name);return t},avaliableColumns:function(){return["id"].concat(Object.keys(this.model.fields))},isEditable:function(){return 1==this.model.editable||this.model.hasChilds()>0},isDisplayable:function(){return 1==this.model.displayable},isEnabledHistory:function(){return 1==this.model.history&&this.getFreshModel("models_histories").hasAccess("read")},canShowGettext:function(){return!!(["languages","admin_languages"].indexOf(this.model.slug)>-1&&1==this.$root.gettext&&this.model.hasAccess("update"))},canShowInfo:function(){return 1==this.model.getSettings("dates")},availableButtons:function(){return this.$parent.availableButtons},isCheckedAll:function(){var t=this.rows.data.map((function(t){return t.id})),e=this.model.getChecked();return 0!=e.length&&_.isEqual(_.sortBy(t),_.sortBy(e))},canOpenRowOnClick:function(){return 1==this.model.getSettings("table.onclickopen",!1)},isTableClickable:function(){return!(!this.isEditable&&!this.isDisplayable)&&!1!==this.model.getSettings("table.clickable",!0)}},methods:{getCachableColumnsSettings:function(t){var e;if(this._cacheColumnSettings||(this._cacheColumnSettings={}),t in this._cacheColumnSettings)return this._cacheColumnSettings[t];var i=(gi(e={isRealField:t in this.model.fields,field:this.model.fields[t],string_limit:this.getFieldLimit(t),default_slug:this.$root.languages.length?this.$root.languages[0].slug:null},"field",t in this.model.fields?this.model.fields[t]:null),gi(e,"add_before",this.model.getSettings("columns."+t+".add_before")),gi(e,"add_after",this.model.getSettings("columns."+t+".add_after")),gi(e,"encode",this.model.getSettings("columns."+t+".encode",!0)),gi(e,"limit",this.model.getSettings("columns."+t+".limit")),e);return this._cacheColumnSettings[t]=i},getFieldLimit:function(t){var e=Object.keys(this.columns).length<5?40:20,i=this.model.getSettings("columns."+t+".limit");if(!1===this.model.getSettings("columns."+t+".encode",!0))return 0;if(t in this.model.fields){var n,a=this.model.fields[t];return(n="limit"in a?a.limit:i||e)||0===n?n:e}return i||e},addColumn:function(t,e,i,n,a,o){if(n in a[e]&&(a[e][n]==i||a[e][n]+"_id"==i)){var r=this.getColumnRightKey(e);if(o.indexOf(r)>-1)return t;o.push(r),e in t&&delete t[e],r in t&&delete t[r],t[r]=a[e].name||a[e].title||this.model.fields[r].column_name||this.model.fields[r].name}return t},toggleAllCheckboxes:function(){var t=this.rows.data.map((function(t){return t.id}));this.model.setChecked(this.isCheckedAll?[]:t)},checkRow:function(t,e,i){i&&this.canOpenRowOnClick&&(this.isEditable||this.isDisplayable)?this.model.selectRow(i):!1!==this.hasCheckingEnabled&&(e in this.model.fields&&["file"].indexOf(this.model.fields[e].type)>-1||this.model.toggleChecked(t))},resetAllowedColumns:function(){var t=_.cloneDeep(this.defaultColumns),e={},i=Object.keys(t),n=Object.keys(this.model.fields);for(var a in t)e[a]={name:t[a],enabled:!0};for(var a in this.model.fields)if(!(a in e||this.model.tryAttribute(this.model.fields[a],"inaccessible",this.row))){for(var o=null,r=!0,s=n.slice(0,n.indexOf(a)),l=n.slice(n.indexOf(a)+1),u=s.length-1;u>=0;u--)if(i.indexOf(s[u])>-1){o=i.indexOf(s[u]);break}if(!o)for(u=0;u<l.length;u++)if(i.indexOf(l[u])>-1){o=i.indexOf(l[u]),r=!1;break}null===o?i.push(a):i.splice(o+(r?1:0),0,a),e[a]={name:this.fieldName(a),enabled:!1}}var c={};for(u=0;u<i.length;u++)c[i[u]]=e[i[u]];this.model.setData("enabled_columns",this.enabled_columns=c)},buttonsCount:function(t){var e=this.model.getButtonsForRow(t),i=0;return i+=this.isEnabledHistory?1:0,i+=this.canShowGettext?1:0,i-=this.canShowGettext?0:1,i-=this.model.publishable?0:1,Object.keys(e||{}).length+i},toggleSorting:function(t){if(!1!==this.$root.getModelProperty(this.model,"settings.sortable")){var e=this.model.getData("orderBy"),i=e[0]==t?1-e[1]:0;this.model.setData("orderBy",[t,i])}},fieldName:function(t){return this.model.fieldName(t)},getDateByField:function(t,e){return e in this.model.fields?t[e]:moment(t[e]).format("DD.MM.Y HH:mm")},showInfo:function(t){var e="";null!=t.created_at&&(e+=this.trans("created-at")+": <strong>"+this.getDateByField(t,"created_at")+"</strong><br>"),null!=t.updated_at&&0!=this.model.editable&&(e+=this.trans("last-change")+": <strong>"+this.getDateByField(t,"updated_at")+"</strong><br>"),null!=t.published_at&&(e+=this.trans("published-at")+": <strong>"+this.getDateByField(t,"published_at")+"</strong>"),this.$root.openAlert(this.trans("row-info-n")+" "+t.id,e,"primary",null,(function(){}))},openGettextEditor:function(t){this.$parent.$parent.gettext_editor=t},clickTree:function(t){for(var e=[],i=t;i;)e.push(i),i=i.parentElement;return-1===e.indexOf(window)&&-1===e.indexOf(document)&&e.push(document),-1===e.indexOf(window)&&e.push(window),e},selectRowFromTable:function(t,e,i){if(!1!==this.isTableClickable){this.model.fields[i];for(var n=this.clickTree(t.target),a=0;a<n.length;a++)if(["A","BUTTON"].indexOf(n[a].tagName)>-1)return;0!=this.model.getSettings("columns."+i+".clickable",!0)&&this.model.selectRow(e)}},removeRow:function(t){this.$parent.removeRow(t)},isImageField:function(t){if(t in this.model.fields&&"image"in(t=this.model.fields[t]))return!0;return!1},getColumnRightKey:function(t){return!(t in this.model.fields)&&t+"_id"in this.model.fields?t+"_id":t}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"table",class:{sortable:t.model.sortable&&"_order"==t.orderBy[0],"table-sm":t.isSmallTable},attrs:{id:"table-"+t.model.slug,"data-table-rows":t.model.slug,"data-depth":t.model.getData("depth_level")}},[i("thead",{attrs:{"data-table-head":""}},[i("tr",[t.model.isDragEnabled()?i("th",{staticClass:"row-draggable"}):t._e(),t._v(" "),t.hasCheckingEnabled?i("th",{staticClass:"select-row-checkbox",on:{click:t.toggleAllCheckboxes}},[i("div",{staticClass:"checkbox-box",attrs:{"data-toggle":"tooltip",title:t.trans(t.isCheckedAll?"uncheck-all":"check-all")}},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.isCheckedAll}}),t._v(" "),i("span",{staticClass:"checkmark"})])]):t._e(),t._v(" "),t._l(t.columns,(function(e,n){return i("th",{class:"th-"+n,on:{click:function(e){return t.toggleSorting(n)}}},[t.orderBy[0]==n&&0==t.orderBy[1]?i("i",{staticClass:"arrow-sorting fa fa-angle-up"}):t._e(),t._v(" "),t.orderBy[0]==n&&1==t.orderBy[1]?i("i",{staticClass:"arrow-sorting fa fa-angle-down"}):t._e(),t._v("\n                "+t._s(e)+"\n            ")])})),t._v(" "),i("th",{staticClass:"th-options-buttons"})],2)]),t._v(" "),i(t.model.isDragEnabled()?"draggable":"tbody",t._b({tag:"component",attrs:{tag:"tbody"},on:{start:function(e){return t.model.onDragStart(e)},end:function(e){return t.model.onDragEnd(e,t.sortedRows)}}},"component",t.model.isDragEnabled()?t.model.getDragOptions():{},!1),t._l(t.sortedRows,(function(e,n){return i("tr",{key:e.id,class:{"--active":t.model.getChecked().indexOf(e.id)>-1,"--loading":t.loadingRow==e.id},attrs:{"data-id":e.id}},[t.model.isDragEnabled()?i("td",{staticClass:"row-draggable",on:{click:function(i){return t.checkRow(e.id)}}},[i("i",{staticClass:"fa fa-grip-vertical"})]):t._e(),t._v(" "),t.hasCheckingEnabled?i("td",{staticClass:"select-row-checkbox",on:{click:function(i){return t.checkRow(e.id)}}},[i("div",{staticClass:"checkbox-box"},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.model.getChecked().indexOf(e.id)>-1}}),t._v(" "),i("span",{staticClass:"checkmark"})])]):t._e(),t._v(" "),t._l(t.columns,(function(n,a){return i("td",{key:e.id+"-"+a,class:["td-"+a,{image_field:t.isImageField(a),"--clickable":t.isTableClickable}],attrs:{"data-field":a},on:{click:function(i){return t.selectRowFromTable(i,e,a)}}},[i("table-row-value",{attrs:{settings:t.getCachableColumnsSettings(a),columns:t.columns,field:a,name:n,item:e,model:t.model,image:t.isImageField(a)}})],1)})),t._v(" "),i("td",{staticClass:"buttons-options",class:["additional-"+t.buttonsCount(e)],attrs:{"data-model":t.model.slug}},[t.isEditable||t.isDisplayable?i("div",{staticClass:"buttons-options__item"},[i("button",{class:["btn","btn-sm",{"btn-success":t.model.isActiveRow(e),"btn-default":!t.model.isActiveRow(e)}],attrs:{"data-button":"edit","data-id":e.id,type:"button","data-toggle":"tooltip",title:"","data-original-title":t.model.hasAccess("update")&&t.isEditable?t.trans("edit"):t.trans("show")},on:{click:function(i){return t.model.selectRow(e)}}},[i("i",{class:{"fas fa-spinner fa-spin":t.loadingRow==e.id,"far fa-edit":t.loadingRow!=e.id}})])]):t._e(),t._v(" "),t.isEnabledHistory?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-sm btn-default",class:{"enabled-history":t.model.isActiveRow(e)&&t.history.history_id},attrs:{"data-button":"history",type:"button","data-toggle":"tooltip",title:"","data-original-title":t.trans("history.changes")},on:{click:function(i){return t.model.showHistory(e)}}},[i("i",{staticClass:"fa fa-history"})])]):t._e(),t._v(" "),t.canShowGettext?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-sm btn-default",attrs:{"data-button":"gettext",type:"button","data-toggle":"tooltip",title:"","data-original-title":t.trans("gettext-update")},on:{click:function(i){return t.openGettextEditor(e)}}},[i("i",{staticClass:"fa fa-globe-americas"})])]):t._e(),t._v(" "),t.canShowInfo?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-sm btn-default",attrs:{type:"button","data-button":"show","data-toggle":"tooltip",title:"","data-original-title":t.trans("row-info")},on:{click:function(i){return t.showInfo(e)}}},[i("i",{staticClass:"far fa-question-circle"})])]):t._e(),t._v(" "),t._l(t.model.getButtonsForRow(e),(function(n,a){return i("div",{staticClass:"buttons-options__item"},[i("buttons-action",{attrs:{button:n,row:e,buttonKey:a,model:t.model}})],1)})),t._v(" "),t.model.canUnpublishRow(e.id)?i("div",{staticClass:"buttons-options__item"},[i("publish-button",{attrs:{model:t.model,row:e}})],1):t._e(),t._v(" "),t.model.deletable&&t.count>t.model.minimum&&t.model.hasAccess("delete")?i("div",{staticClass:"buttons-options__item"},[i("button",{staticClass:"btn btn-danger btn-sm",class:{disabled:t.model.isReservedRow(e.id)},attrs:{"data-button":"delete",type:"button","data-toggle":"tooltip",title:"","data-original-title":t.trans("delete")},on:{click:function(i){return t.removeRow(e,n)}}},[i("i",{staticClass:"far fa-trash-alt"})])]):t._e()],2)],2)})),0)],1)}),[],!1,null,null,null).exports,bi=st({props:["model"],mounted:function(){},computed:{rows:function(){return this.model.getData("rows")},pagination:function(){return this.model.getData("pagination")},paginateItems:function(){if(!this.pagination.limit)return[];for(var t=[],e=1;e<=Math.ceil(this.rows.count/this.pagination.limit);e++)this.showLimit(e)?t.push(e):0!=t[t.length-1]&&t.push(0);return t}},methods:{setPosition:function(t){t!=this.pagination.position&&this.$parent.setPosition(t)},showLimit:function(t){var e=Math.ceil(this.rows.count/this.pagination.limit);if(1==t||t==e)return!0;for(var i=e<1e3?3:e<1500?2:1,n=[[100,.3],[100,.7],[1e3,.1],[1e3,.85]],a=0,o=0;o<n.length;o++)if(e>n[o][0]){var r=parseInt(e*n[o][1]);if(t>=r&&t<r+i)return!0;a++}var s=(s=this.pagination.maxpages-a*i)<6?6:s,l=this.pagination.position<s/2?s/2-this.pagination.position:0,u=(l=e-this.pagination.position<s/2?s/2-(e-this.pagination.position):l,this.pagination.position-l>=t+Math.ceil(s/2)-1),c=this.pagination.position<t-s/2-l;return!u&&!c}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.rows.count>t.pagination.limit?i("ul",{staticClass:"pagination",attrs:{"data-pagination":""}},[i("li",{class:{disabled:t.pagination.position<=1},attrs:{"data-pagination-prev":""}},[i("a",{staticClass:"page-link",on:{click:function(e){return e.preventDefault(),t.setPosition(t.pagination.position-1)}}},[i("i",{staticClass:"fa fa-chevron-left"})])]),t._v(" "),t._l(t.paginateItems,(function(e){return i("li",{class:{active:t.pagination.position==e}},[i("a",{staticClass:"page-link",on:{click:function(i){return i.preventDefault(),t.setPosition(e)}}},[t._v(t._s(0==e?"...":e))])])})),t._v(" "),i("li",{class:{disabled:t.pagination.position>t.rows.count/t.pagination.limit},attrs:{"data-pagination-next":""}},[i("a",{staticClass:"page-link",on:{click:function(e){return e.preventDefault(),t.setPosition(t.pagination.position+1)}}},[i("i",{staticClass:"fa fa-chevron-right"})])])],2):t._e()])}),[],!1,null,null,null),_i=st({props:["model","rows","gettext_editor"],components:{Refreshing:fi,TableRows:vi,Pagination:bi.exports,CustomComponents:ci},data:function(){return{table:null,pagination:this.model.setData("pagination",{position:1,limit:this.getLimitFromStorage(),limits:[5,10,20,30,50,100,200,500,1e3],refreshing:!1,maxpages:10}).getData("pagination"),refresh:this.model.setData("refresh",{refreshing:!0,count:0,interval:this.getRefreshInterval()}).getData("refresh")}},created:function(){var t=this;this.root=window.crudadmin.root,this.setOrder(),this.model.loadRows(),eventHub.$on("onCreate",this.onCreateEvent=function(e){if(e.table==t.model.slug&&e.depth_level==t.model.getData("depth_level")){var i=e.request,n=Math.ceil(t.rows.count/t.pagination.limit);if(t.model.isReversed(!0)&&t.rows.count>0&&!t.model.isWithoutParentRow()&&n==t.rows.count/t.pagination.limit)t.setPosition(n+1,!!t.model.isWithoutParentRow()||null);else if(t.model.isReversed(!0)&&t.pagination.position<n&&!t.model.isWithoutParentRow())t.setPosition(n);else if(1==t.pagination.position||t.model.isReversed(!0)&&t.pagination.position==n||t.model.isWithoutParentRow()){var a=i.rows.concat(t.rows.data);for(var o in t.model.isPaginationEnabled()&&a.length>t.pagination.limit&&(a=a.slice(0,t.pagination.limit)),i.buttons)t.rows.buttons[o]=i.buttons[o];t.rows.data=a,t.rows.count+=i.rows.length}else t.model.loadRows()}}),eventHub.$on("onUpdate",this.onUpdateEvent=function(e){if(e.table==t.model.slug&&e.depth_level==t.model.getData("depth_level")){var i=e.row;for(var n in t.rows.data)if(t.rows.data[n].id==i.id)for(var a in i)t.model.getData("rows").data[n][a]=i[a];t.model.closeHistory(),1==t.model.getSettings("reloadOnUpdate")&&t.model.loadRows()}}),eventHub.$on("reloadRows",this.onReloadRows=function(e){t.model.slug==e&&t.model.loadRows()})},destroyed:function(){this.model.disableRowsRefreshing(),eventHub.$off("onCreate",this.onCreateEvent),eventHub.$off("onUpdate",this.onUpdateEvent),eventHub.$off("reloadRows",this.onReloadRows)},watch:{progress:function(t){1==t?this.model.disableRowsRefreshing():this.model.enableRowsRefreshing(!1)},langid:function(t){1==this.model.localization&&this.setPosition(1,!0)},activetab:function(t){1==t&&this.model.enableRowsRefreshing(!1)},model:function(){this.updateModelOptions()},modelOptions:{deep:!0,handler:function(){this.updateModelOptions()}},"model.scopes":{handler:function(t,e){this.setPosition(1,!0)}},"search.queries":{deep:!0,handler:function(t){for(var e=this.model.getData("searching"),i=!1,n=0;n<t.length;n++){var a=t[n],o=_.isNil(a.query)||""===a.query?a.query_to:a.query;!1!==i||_.isNil(o)||""===o||((o.length>=3||$.isNumeric(o))&&(i=!0),a.column&&a.column in this.model.fields&&["select","option","checkbox"].indexOf(this.model.fields[a.column].type)>-1&&(i=!0))}this.model.setData("searching",i),1==this.model.getData("searching")&&0==e?this.setPosition(1,!0):(this.model.getData("searching")||0==this.model.getData("searching")&&1==e)&&this.model.loadRows(!0)}},paginationEnabled:function(t,e){0==e&&1==t&&(this.pagination.limit=this.getLimitFromStorage())}},computed:{scopes:function(){return this.model.getData("scopes")},paginationEnabled:function(){return this.model.isPaginationEnabled()},activetab:function(){return this.model.getData("activetab")},progress:function(){return this.model.getData("progress")},modelOptions:function(){return this.model.getData("modelOptions")},enabled_columns:function(){return this.model.getData("enabled_columns")},langid:function(){return this.model.getSelectedLanguageId()},row:function(){return this.model.getRow()},search:function(){return this.model.getData("search")},hasAnyActions:function(){return this.hasButtons||this.model.publishable&&this.model.hasAccess("publishable")||this.model.deletable&&this.model.hasAccess("delete")},availableButtons:function(){var t={};for(var e in this.rows.buttons)for(var i in this.rows.buttons[e])["action","both","multiple"].indexOf(this.rows.buttons[e][i].type)>-1&&(t[i]=this.rows.buttons[e][i]);return t},hasButtons:function(){return Object.keys(this.availableButtons).length>0},title:function(){var t;return(t=this.model.getSettings("title.rows"))?t:this.trans("rows")}},methods:{toggleColumnEnabled:function(t){this.model.setColumnVisibility(t,!this.enabled_columns[t].enabled),this.model.loadRows(!0)},updateModelOptions:function(){for(var t in this.modelOptions)_.isNil(this.model.fields[t].options)||(this.model.fields[t].options=this.modelOptions[t])},exportXlsTable:function(){this.model.loadRows(!0,!0)},getLimitFromStorage:function(){if(!this.model.isPaginationEnabled())return 0;var t=this.model.isWithoutParentRow()?500:"limit"in localStorage?localStorage.limit:this.model.getSettings("pagination.limit",10);return $.isNumeric(t)?parseInt(t):t},resetColumnsList:function(){for(var t in this.$children){var e=this.$children[t];"table-rows"==e.$options._componentTag&&e.$options.methods.resetAllowedColumns.call(e)}},canShowColumn:function(t,e){return!!t.name&&!(e in this.model.fields&&"password"==this.model.fields[e].type)},reloadRows:function(){return this.model.resetForm(),this.rows.data=[],this.rows.count=0,this.rows.save_children=[],this.model.loadRows(),!0},changeLimit:function(){localStorage.limit=this.pagination.limit,this.setPosition(1)},setOrder:function(){if(null==this.model.getData("orderBy")){var t=this.model.getSettings("orderBy");if(t){var e=Object.keys(t);return void this.model.setData("orderBy",[e[0],parseFloat(t[e[0]].toLowerCase().replace("asc",0).replace("desc",1))])}}for(var i in this.model.fields){var n=this.model.fields[i];if("orderBy"in n){return void this.model.setData("orderBy",[i,n.orderBy.toLowerCase().replace("asc",0).replace("desc",1)])}}var a=[this.model.orderBy[0],this.model.orderBy[1].toLowerCase().replace("asc",0).replace("desc",1)];this.model.setData("orderBy",a)},setPosition:function(t,e){0==t||this.rows.count>0&&t-1>Math.ceil(this.rows.count/this.pagination.limit)||(this.pagination.position=t,this.model.loadRows(e))},getRefreshInterval:function(){var t=this.model.getSettings("refresh_interval",1e4);return 0==t&&(t=36e5),t},removeRow:function(t){var e=this,i=t?[t.id]:this.model.getChecked();this.model.removeRow(i,(function(i,n){t||e.model.resetChecked()}))},togglePublishedAt:function(){this.model.togglePublishedAt(this.model.getChecked()),this.model.resetChecked()}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box box-wrapper"},[i("div",{staticClass:"box-header"},[i("div",{staticClass:"box-header__actions"},[i("div",{staticClass:"box-header__left"},[i("div",[i("h3",{staticClass:"box-header__title"},[t._v(t._s(t.title)+" "),i("small",[t._v("("+t._s(t.rows.count)+")")])]),t._v(" "),0==t.model.isEnabledAutoSync()?i("a",{staticClass:"box-header__actions--synchronize",attrs:{"data-toggle":"tooltip",title:t._("Automatická synchronizácia záznamov v tabuľke je vypnutá")},on:{click:function(e){return t.model.loadRows(!0)}}},[i("i",{staticClass:"fa fa-sync-alt"}),t._v(" "+t._s(t._("Synchronizácia vypnutá")))]):t._e()])]),t._v(" "),i("div",{staticClass:"box-header__right"},[i("custom-components",{attrs:{model:t.model,type:"table-header-actions"}}),t._v(" "),1==t.model.getSettings("xls")&&t.rows.count>0?i("button",{staticClass:"btn--icon btn btn-default",attrs:{"data-export-xls":"",type:"button"},on:{click:function(e){return e.preventDefault(),t.exportXlsTable(e)}}},[i("i",{staticClass:"fa fa-file-excel"}),t._v("\n                    "+t._s(t._("Stiahnuť excel"))+"\n                ")]):t._e(),t._v(" "),i("div",{staticClass:"dropdown fields-list",attrs:{"fields-list":""}},[0!=t.model.getSettings("table.switchcolumns",!0)?i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[t._v("\n                        "+t._s(t.trans("rows-list"))+"\n                        "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]):t._e(),t._v(" "),i("ul",{staticClass:"dropdown-menu menu-left dropdown-menu-right"},[t._l(t.enabled_columns,(function(e,n){return t.canShowColumn(e,n)?i("li",{staticClass:"--no-item-padding",class:{active:e.enabled},on:{click:function(t){return t.stopPropagation()}}},[i("label",{staticClass:"--dropdown-item-padding --dropdown-item-vertical"},[i("input",{attrs:{type:"checkbox","data-column":n},domProps:{checked:e.enabled},on:{click:function(e){return t.toggleColumnEnabled(n)}}}),t._v("\n                                "+t._s(t.model.fieldName(n))+"\n                            ")])]):t._e()})),t._v(" "),i("li",{staticClass:"default-reset"},[i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.resetColumnsList(e)}}},[t._v(t._s(t.trans("default")))])])],2)]),t._v(" "),t.model.getChecked().length>0&&t.hasAnyActions?i("div",{staticClass:"dropdown actions-list fields-list",attrs:{"data-action-list":""}},[i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[t._v("\n                        "+t._s(t.trans("action"))+"\n                        "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),t._v(" "),i("ul",{staticClass:"dropdown-menu menu-left dropdown-menu-right"},[t.model.deletable&&t.model.hasAccess("delete")?i("li",[i("a",{on:{click:function(e){return e.preventDefault(),t.removeRow()}}},[i("i",{staticClass:"fa fa-trash-alt"}),t._v(" "+t._s(t.trans("delete")))])]):t._e(),t._v(" "),t.model.publishable&&t.model.hasAccess("publishable")?i("li",[i("a",{on:{click:function(e){return e.preventDefault(),t.togglePublishedAt()}}},[i("i",{staticClass:"fa fa-eye"}),t._v(" "+t._s(t.trans("publish-toggle")))])]):t._e(),t._v(" "),t._l(t.availableButtons,(function(e,n){return i("li",[i("a",{on:{click:function(i){return t.model.buttonAction(n,e)}}},[i("i",{staticClass:"fa",class:e.icon}),t._v(" "+t._s(e.name))])])}))],2)]):t._e(),t._v(" "),t.model.isPaginationEnabled()?i("div",{staticClass:"pagination-limit",class:{"--hidden-limit":t.model.isHiddenMode()},attrs:{title:t.trans("rows-count")}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.pagination.limit,expression:"pagination.limit"}],staticClass:"form-control",attrs:{"data-limit":""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.pagination,"limit",e.target.multiple?i:i[0])},t.changeLimit]}},[i("option",{attrs:{value:"hide"}},[t._v(t._s(t._("Skryť")))]),t._v(" "),t._l(t.pagination.limits,(function(e){return i("option",[t._v(t._s(e))])}))],2)]):t._e()],1)]),t._v(" "),i("custom-components",{attrs:{model:t.model,type:"table-header"}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.model.isHiddenMode(),expression:"!model.isHiddenMode()"}],staticClass:"box-body box-body--table"},[i("table-rows",{attrs:{model:t.model,pagination:t.pagination,buttons:t.rows.buttons,count:t.rows.count,gettext_editor:t.gettext_editor,rows:t.rows},on:{"update:gettext_editor":function(e){t.gettext_editor=e}}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.model.isHiddenMode(),expression:"!model.isHiddenMode()"}],staticClass:"box-footer"},[i("custom-components",{attrs:{model:t.model,type:"table-footer"}}),t._v(" "),i("div",{staticClass:"box-footer__actions"},[i("div",{staticClass:"box-footer__left"}),t._v(" "),i("div",{staticClass:"box-footer__center"},[t.model.isPaginationEnabled()?i("pagination",{attrs:{model:t.model}}):t._e()],1),t._v(" "),i("div",{staticClass:"box-footer__right"},[t.model.isPaginationEnabled()?i("div",{staticClass:"pagination-limit d-none d-lg-block",class:{"--hidden-limit":t.model.isHiddenMode()},attrs:{title:t.trans("rows-count")}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.pagination.limit,expression:"pagination.limit"}],staticClass:"form-control",attrs:{"data-limit":""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.pagination,"limit",e.target.multiple?i:i[0])},t.changeLimit]}},[i("option",{attrs:{value:"hide"}},[t._v(t._s(t._("Skryť")))]),t._v(" "),t._l(t.pagination.limits,(function(e){return i("option",[t._v(t._s(e))])}))],2)]):t._e()])])],1),t._v(" "),t.pagination.refreshing?i("refreshing"):t._e()],1)}),[],!1,null,null,null).exports,yi=st(i(137).a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",{ref:"editor",staticClass:"form-control js_editor",class:{long:t.getValue(t.values,t.i-1).length>80||t.isRaw},attrs:{"data-toggle":"tooltip",id:t.id,disabled:t.isMissing,title:t.isMissing?t.trans("gettext-missing"):t.getPluralsPlaceholder(t.i-1),placeholder:t.getPluralsPlaceholder(t.i-1)},domProps:{value:t.getValue(t.values,t.i-1)},on:{click:function(e){return t.bootEditors()},input:function(e){return t.changeText(e.target.value,t.i-1)}}})}),[],!1,null,null,null),wi=st({name:"gettext-extension",props:["gettext_editor","gettext_table"],components:{GettextField:yi.exports},data:function(){return{translates:{},showMissing:!1,missing:[],raw:[],plurals:[],plural_forms:"",query:null,changes:{},limit:20,loaded:!1}},mounted:function(){this.loadTranslations()},computed:{availableTranslated:function(){var t={};for(var e in this.translates)-1!==this.missing.indexOf(e)&&!0!==this.showMissing||(t[e]=this.translates[e]);return t},filtratedTranslates:function(){var t={},e=(this.query+"").toLowerCase(),i=0;for(var n in this.availableTranslated)(0==this.limit||i<this.limit)&&(!this.query||this.hasChange(n)||this.availableTranslated[n].join("").toLowerCase().indexOf(e)>-1||n.toLowerCase().indexOf(e)>-1)&&(t[n]=this.availableTranslated[n],i++);return t},fullCount:function(){return Object.keys(this.availableTranslated).length},resultLength:function(){return Object.keys(this.filtratedTranslates).length},pluralLength:function(){var t=this.plural_forms.match(/nplurals\=(\d+)/);return parseInt(t[1]||2)}},methods:{translateId:function(t){return"id-"+Object.keys(this.availableTranslated).indexOf(t)},close:function(){this.$parent.gettext_editor=null},loadTranslations:function(){var t=this.$root.requests.translations.replace(":id",this.gettext_editor.id).replace(":table",this.gettext_table);this.$http.get(t).then((function(t){var e=t.data.messages;this.missing=t.data.missing,this.raw=t.data.raw,this.plurals=t.data.plurals,this.plural_forms=t.data["plural-forms"],this.translates=t.data.messages[Object.keys(e)[0]]||{},this.loaded=!0}))},isPlural:function(t){return this.plurals.indexOf(t)>-1},isMissing:function(t){return this.missing.indexOf(t)>-1},isRaw:function(t){return this.raw.indexOf(t)>-1},getPluralLength:function(t){return this.isPlural(t)?this.pluralLength:1},saveAndClose:function(){var t=this,e=this.$root.requests.get("update_translations",{id:this.gettext_editor.id,table:this.gettext_table});this.$http.post(e,{changes:this.changes}).then((function(){t.close()}))},hasChange:function(t){return t in this.changes}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"message-modal gettext-table modal-open"},[i("div",{staticClass:"modal modal-default",staticStyle:{display:"block"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[t._v(t._s(t.trans("gettext-update"))+" - "+t._s(t.gettext_editor.name))]),t._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:t.close}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("label",[t._v(t._s(t.trans("search")))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.trans("gettext-search")},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),i("hr"),t._v(" "),t.loaded&&0==t.resultLength?i("p",[t._v(t._s(t.trans("gettext-no-match")))]):t._e(),t._v(" "),t.loaded?t._e():i("p",{staticClass:"loading"},[i("i",{staticClass:"fa fa-refresh fa-spin"}),t._v(" "+t._s(t.trans("gettext-loading")))]),t._v(" "),i("table",{directives:[{name:"show",rawName:"v-show",value:t.resultLength>0,expression:"resultLength > 0"}],staticClass:"table data-table table-bordered table-striped"},[i("thead",[i("tr",[i("th",[t._v(t._s(t.trans("gettext-source")))]),t._v(" "),i("th",[t._v(t._s(t.trans("gettext-translation")))])])]),t._v(" "),i("tbody",t._l(t.filtratedTranslates,(function(e,n){return i("tr",{key:t.translateId(n),class:{missing:t.isMissing(n)}},[i("td",[t._v(t._s(n))]),t._v(" "),i("td",{staticClass:"input",class:{edited:t.hasChange(n),plural:t.isPlural(n)}},t._l(t.getPluralLength(n),(function(a){return i("gettext-field",{key:a,attrs:{i:a,id:t.translateId(n)+"-"+a,pluralLength:t.getPluralLength(n),textKey:n,values:e,changes:t.changes,translates:t.translates,plural_forms:t.plural_forms,isMissing:t.isMissing(n),isRaw:t.isRaw(n),isPlural:t.isPlural(n)}})})),1)])})),0)]),t._v(" "),i("div",{staticClass:"translation-actions"},[t.missing.length>0&&0==t.showMissing?i("a",{on:{click:function(e){t.showMissing=!0}}},[t._v(t._s(t.trans("gettext-showmissing"))+" ("+t._s(t.missing.length)+")")]):t._e(),t._v(" "),0!=t.limit&&t.fullCount>t.limit?i("a",{on:{click:function(e){t.limit=!1}}},[t._v(t._s(t.trans("gettext-count"))+" ("+t._s(t.fullCount)+")")]):t._e()])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-save-translations":""},on:{click:t.saveAndClose}},[t._v(t._s(t.trans("gettext-save")))])])])])])])}),[],!1,null,null,null).exports,xi={props:["search","model"],watch:{search:{deep:!0,handler:function(t,e){this.reloadSearchBarSelect()}},"search.column":function(t){this.isCheckbox&&(this.search.query=1)}},mounted:function(){var t=this;this.initSearchSelectboxes(),this.resetSearchBar(),this.isSelect&&this.$watch("model.fields."+this.search.column+".options",(function(e){t.initSearchSelectboxes()}))},computed:{canResetSearch:function(){return this.search.query||this.search.query_to},canBeInterval:function(){var t=this.search.column;return["created_at","id"].indexOf(t)>-1||t in this.model.fields&&["integer","decimal","date","datetime","time"].indexOf(this.model.fields[t].type)>-1},getSearchableFields:function(){var t=[];for(var e in this.model.fields){var i=this.model.fields[e];!i.name||!("belongsToMany"in i)&&"multiple"in i||"removeFromForm"in i&&"hidden"in i||"password"==i.type||t.push(e)}return t},getColumnField:function(){var t=this.search.column;if(t&&t in this.model.fields&&this.model.fields[t])return this.model.fields[t]},isSearch:function(){return!(this.isCheckbox||this.isDate||this.isSelect)},isCheckbox:function(){return!!this.getColumnField&&"checkbox"==this.getColumnField.type},isDate:function(){var t=this.search.column;return["created_at"].indexOf(t)>-1||!!this.getColumnField&&["date","datetime","time"].indexOf(this.getColumnField.type)>-1},isSelect:function(){return!!this.getColumnField&&["select","radio"].indexOf(this.getColumnField.type)>-1}},methods:{updateSearchQuery:_.debounce((function(t,e){this.search[t]=e.target.value}),300),languageOptionsSearchFilter:function(t){return this.$root.languageOptions(t,this.model.fields[this.search.column])},getSearchingColumnName:function(t){return!1===t?this.trans("search-all"):this.model.fieldName(t)},reloadSearchBarSelect:function(){var t=this;this.$nextTick((function(){$(t.$refs.chosenSelect).trigger("chosen:updated")}))},initSearchSelectboxes:function(){var t=this;this.$nextTick((function(){window.js_date_event=document.createEvent("HTMLEvents");var e=!1;js_date_event.initEvent("change",!0,!0),$(t.$refs.chosenSelect).chosen({disable_search_threshold:5}).on("change",(function(){0==e?(e=!0,this.dispatchEvent(js_date_event)):e=!1})).trigger("chosen:updated")}))},resetSearchBar:function(){this.$watch("search.column",(function(t,e){e&&e in this.model.fields&&-1!==["select","option"].indexOf(this.model.fields[e].type)&&(this.search.query=null),this.search.interval=!1,this.reloadDatetimeSearch()})),this.reloadDatetimeSearch()},reloadDatetimeSearch:function(){var t=this;if(this.isDate){var e=this.search.column,i=[this.$refs.datePicker1,this.$refs.datePicker2].filter((function(t){return t}));$(i).datetimepicker({lang:this.$root.locale,format:"created_at"==e?"d.m.Y":this.model.fields[e].date_format,timepicker:"created_at"!=e&&"date"!=this.model.fields[e].type,datepicker:"created_at"==e||"time"!=this.model.fields[e].type,scrollInput:!1,onChangeDateTime:function(e,i){e&&(t.search[void 0===i.attr("data-search-date")?"query_to":"query"]=moment(e).format("DD.MM.Y"))}})}},resetIterval:function(){this.search.query="",this.search.query_to="",this.search.interval=!1}}},Ci=(i(166),st(xi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-bar",class:{interval:t.search.interval,resetRightBorders:t.canBeInterval||t.canResetSearch,hasResetButton:t.canResetSearch},attrs:{"data-search-bar":""}},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"dropdown"},[i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[t._v("\n                "+t._s(t.getSearchingColumnName(t.search.column||!1))+"\n                "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),t._v(" "),i("ul",{staticClass:"dropdown-menu"},[i("li",{class:{active:!t.search.column},attrs:{"data-field":""},on:{click:function(e){t.search.column=null}}},[t._v(t._s(t.trans("search-all")))]),t._v(" "),i("li",{class:{active:"id"==t.search.column},attrs:{"data-field":"id"},on:{click:function(e){t.search.column="id"}}},[t._v(t._s(t.getSearchingColumnName("id")))]),t._v(" "),t._l(t.getSearchableFields,(function(e){return i("li",{class:{active:t.search.column==e},attrs:{"data-field":e},on:{click:function(i){t.search.column=e}}},[t._v(t._s(t.getSearchingColumnName(e)))])})),t._v(" "),i("li",{class:{active:"created_at"==t.search.column},attrs:{"data-field":"created_at"},on:{click:function(e){t.search.column="created_at"}}},[t._v(t._s(t.getSearchingColumnName("created_at")))])],2)]),t._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:t.isSearch,expression:"isSearch"}],staticClass:"form-control",attrs:{type:"text","data-search-text":"",placeholder:t.trans("search")+"..."},domProps:{value:t.search.query},on:{input:function(e){return t.updateSearchQuery("query",e)}}}),t._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:t.isDate,expression:"isDate"}],ref:"datePicker1",staticClass:"form-control js_date",attrs:{type:"text","data-search-date":"",readonly:"",placeholder:t.__("Vyberte dátum")},domProps:{value:t.search.query}}),t._v(" "),i("select",{directives:[{name:"show",rawName:"v-show",value:t.isCheckbox,expression:"isCheckbox"},{name:"model",rawName:"v-model",value:t.search.query,expression:"search.query"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.search,"query",e.target.multiple?i:i[0])}}},[i("option",{domProps:{value:0}},[t._v(t._s(t.trans("off")))]),t._v(" "),i("option",{domProps:{value:1}},[t._v(t._s(t.trans("on")))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelect,expression:"isSelect"}],staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.search.query,expression:"search.query"}],ref:"chosenSelect",staticClass:"form-control js_chosen",attrs:{"data-search-select":"","data-placeholder":t.trans("get-value")},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.search,"query",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[t._v(t._s(t.trans("show-all")))]),t._v(" "),t._l(t.languageOptionsSearchFilter(t.isSelect?t.model.fields[t.search.column].options:[]),(function(e){return i("option",{domProps:{value:e[0]}},[t._v(t._s(e[1]))])}))],2)]),t._v(" "),t.canBeInterval?i("div",{staticClass:"interval-btn",attrs:{"data-interval":"","data-toggle":"tooltip","data-original-title":"Interval"}},[i("button",{staticClass:"btn",class:{"btn-default":!t.search.interval,"btn-primary":t.search.interval},attrs:{type:"button"},on:{click:function(e){t.search.interval=!t.search.interval}}},[i("i",{staticClass:"fa fa-arrows-alt-h"})])]):t._e(),t._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:t.search.interval&&t.isSearch,expression:"search.interval && isSearch"}],staticClass:"form-control",attrs:{type:"text","data-inerval-input":"","data-search-interval-text":"",placeholder:t.trans("search")+"..."},domProps:{value:t.search.query_to},on:{input:function(e){return t.updateSearchQuery("query_to",e)}}}),t._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:t.search.interval&&t.isDate,expression:"search.interval && isDate"}],ref:"datePicker2",staticClass:"form-control js_date",attrs:{type:"text","data-inerval-input":"","data-search-interval-date":"",readonly:"",placeholder:t.__("Vyberte dátum")},domProps:{value:t.search.query_to}}),t._v(" "),t.canResetSearch?i("div",{staticClass:"interval",attrs:{"data-reset-interval":"","data-toggle":"tooltip","data-original-title":t.trans("reset")}},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.resetIterval}},[i("i",{staticClass:"fa fa-times"})])]):t._e()])])}),[],!1,null,"2254ed82",null).exports),ki=st({props:["model"],computed:{history:function(){return this.model.getData("history")},sortedHistory:function(){return _.orderBy(this.history.rows,"id","desc")}},methods:{canDeleteHistoryItem:function(t,e){return e+1!=this.history.rows.length&&this.getFreshModel("models_histories").hasAccess("delete")},applyChanges:function(t){this.history.fields=t.changed_fields,this.history.history_id=t.id,this.model.selectRow({id:this.history.id},null,null,t.id,this.model.getRow())},deleteHistoryRow:function(t){var e=this;this.$root.openAlert(this.trans("warning"),this.trans("delete-warning"),"warning",(function(){e.$http.post(e.$root.requests.removeFromHistory,{model:e.model.table,id:t.id}).then((function(t){var i=t.data;e.history.rows=i})).catch((function(t){$app.errorResponseLayer(t)}))}),!0)},date:function(t){return moment(t).format("D.M.Y H:mm")},changedFields:function(t){var e=[];for(var i in t.changed_fields){var n=t.changed_fields[i];n in this.$parent.model.fields?e.push(this.model.fields[n].name):e.push(n)}return e.join(", ")}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"message-modal message-modal--history"},[i("div",{staticClass:"modal modal-default",staticStyle:{display:"block"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[t._v(t._s(t.trans("history.changes")))]),t._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.model.closeHistory(!0)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("table",{staticClass:"table data-table table-bordered table-striped"},[i("thead",[i("tr",[i("th",{staticClass:"td-id"},[t._v(t._s(t.trans("number")))]),t._v(" "),i("th",[t._v(t._s(t.trans("history.who")))]),t._v(" "),i("th",[t._v(t._s(t.trans("history.count")))]),t._v(" "),i("th",[t._v(t._s(t.trans("history.date")))]),t._v(" "),i("th",{staticClass:"th-history-buttons"})])]),t._v(" "),i("tbody",t._l(t.sortedHistory,(function(e,n){return i("tr",{key:e.id,attrs:{"data-history-id":e.id}},[i("td",{staticClass:"td-id"},[t._v(t._s(t.history.rows.length-n))]),t._v(" "),i("td",[t._v(t._s(e.user?e.user.username:t.trans("history.system")))]),t._v(" "),i("td",{attrs:{"data-changes-length":""}},[i("span",{attrs:{"data-toggle":"tooltip",title:"","data-original-title":t.changedFields(e)}},[t._v(t._s(e.changed_fields.length)+" "),i("i",{staticClass:"fa fa-eye"})])]),t._v(" "),i("td",[t._v(t._s(t.date(e.created_at)))]),t._v(" "),i("td",[i("div",{staticClass:"history-actions"},[i("button",{staticClass:"btn btn-sm btn-success",class:{"enabled-history":t.history.history_id==e.id},attrs:{type:"button","data-toggle":"tooltip",title:t.trans("history.show")},on:{click:function(i){return t.applyChanges(e)}}},[i("i",{staticClass:"fa fa-eye"})]),t._v(" "),t.canDeleteHistoryItem(e,n)?i("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button","data-toggle":"tooltip",title:t._("Zmazať zmenu z histórie")},on:{click:function(i){return t.deleteHistoryRow(e)}}},[i("i",{staticClass:"far fa-trash-alt"})]):t._e()])])])})),0)])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.model.closeHistory(!0)}}},[t._v(t._s(t.trans("close")))])])])])])])}),[],!1,null,null,null);function Si(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Oi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Si(Object(i),!0).forEach((function(e){Di(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Si(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Di(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ei=st({props:["model_builder","langid","ischild","parentrow","activetab","hasparentmodel","parentActiveGridSize","scopes"],name:"model-builder",components:{FormBuilder:hi,ModelRowsBuilder:_i,CustomComponents:ci,GettextExtension:wi,Search:Ci,History:ki.exports},data:function(){return{model:this.model_builder,sizes:this.model_builder.setData("sizes",[{size:4,key:"small",name:this.trans("grid-small"),active:!1,disabled:this.model_builder.isSettingDisabled("grid.small")},{size:8,key:"big",name:this.trans("grid-big"),active:!1,disabled:this.model_builder.isSettingDisabled("grid.big")},{size:6,key:"medium",name:this.trans("grid-medium"),active:!1,disabled:this.model_builder.isSettingDisabled("grid.medium")},{size:0,key:"full",name:this.trans("grid-full"),active:!1,disabled:this.model_builder.isSettingDisabled("grid.full")}]).getData("sizes"),rows:this.model_builder.getData("rows"),language_id:null,gettext_editor:null}},created:function(){this.root=this.$root.$http.$options.root,this.storeModel(this.model),this.model.setRow(this.model.emptyRowInstance()),this.model.setData("hasparentmodel",this.hasparentmodel),this.model.setData("parentrow",this.parentrow),this.model.setData("activetab",this.activetab),this.model.setData("langid",this.langid),this.model.setData("scopes",this.scopes||[]),this.model.setData("parentActiveGridSize",this.parentActiveGridSize),0==this.model.getData("search").queries.length&&this.model.getData("search").queries.push(Oi({},b.a.cloneDeep(w),{column:this.model.getSettings("search.column",null)})),this.setDeepLevel()},mounted:function(){this.checkIfCanShowLanguages(),this.updateParentChildData(),this.setModelEvents(),this.checkParentGridSize(this.parentActiveGridSize),this.onModelUpdate()},destroyed:function(){this.removeModelEvents(),this.removeModel(this.model)},watch:{model_builder:{deep:!0,handler:function(t,e){var i=["data"];for(var n in t)-1===i.indexOf(n)&&!1===b.a.isEqual(t[n],e[n])&&this.$set(this.model,n,t[n])}},parentActiveGridSize:function(t){this.model.setData("parentActiveGridSize",t),this.checkParentGridSize(t)},langid:function(t){this.model.setData("langid",t)},scopes:function(t){this.model.setData("scopes",t)},activetab:function(t){this.model.setData("activetab",t),!0===t&&this.sendRowsData()},parentrow:function(t,e){b.a.isEqual(t,e)||t.id==e.id&&!this.model.isInParent()||(this.model.setData("parentrow",this.parentrow),this.model.resetForm())},isEnabledOnlyFullScreenMode:function(t){!1===t?this.model.exitFullScreenMode():!0===t&&this.model.enableOnlyFullScreen()}},methods:Oi({},Object(ct.b)("models",["storeModel","removeModel"]),{onModelUpdate:function(){var t=this;this.$watch("model.single",(function(e,i){!0===e&&!0!==i&&(t.model.setRow(t.rows.data[0]||t.model.emptyRowInstance()),t.model.sendRowData())}))},addSearchQuery:function(){this.model.getData("search").queries.push(b.a.cloneDeep(w))},checkParentGridSize:function(t){if(!([null,void 0].indexOf(t)>-1))for(var e in this.sizes)0==t&&this.model.getData("depth_level")<=1?this.sizes[e].disabled=!1:(8==t||this.model.getData("depth_level")>=2)&&-1===[0].indexOf(this.sizes[e].size)?this.sizes[e].disabled=!0:-1===[0,6].indexOf(this.sizes[e].size)?this.sizes[e].disabled=!0:this.sizes[e].disabled=!1},changeLanguage:function(t){this.$root.language_id=t},setModelEvents:function(){var t=this;eventHub.$on("sendRow",this.sendRowEvent=function(e){t.model.emitRowData("getRow",e)}),eventHub.$on("sendParentRow",this.sendParentRowEvent=function(e){!e||t.model.getData("depth_level")>e.depth_level||t.model.emitRowData("getParentRow",e)})},removeModelEvents:function(){eventHub.$off("sendRowEvent",this.sendRowEvent),eventHub.$off("sendParentRow",this.sendParentRowEvent)},updateParentChildData:function(){this.$watch("rows.data",(function(t){this.sendRowsData()}))},sendRowsData:function(){this.model.emitRowData("rowsChanged")},setDeepLevel:function(){for(var t=this.$parent,e=0,i=[];"base-page-view"!=t.$options.name;)"model-builder"==t.$options.name&&(i.push(t.model.getData("uuid")),e++),t=t.$parent;this.model.setData("depth_level",e),this.model.setData("tree",i)},changeSize:function(t){if(1==t.disabled)return!1;for(var e in this.sizes)this.sizes[e].active=!1;t.active=!0},checkIfCanShowLanguages:function(){for(var t=!1,e=0;e<this.$parent.$children.length;e++)for(var i=this.$parent.$children[e];"model"in i;)1==i.model.localization&&(t=!0),i=i.$parent;this.$root.languages_active=!!t},newRowTitle:function(){return this.model.getSettings("buttons.create",this.trans("new-row"))},addNewRow:function(){var t=this;1==this.model.isEnabledOnlyFormOrTableMode()&&this.model.setData("formOpened",!0),this.$nextTick((function(){t.model.resetFormWithEvents(!0,!0,!0)}))}}),computed:{isEnabledOnlyFullScreenMode:function(){return this.model.isEnabledOnlyFullScreenMode()},row:function(){return this.model.getData("row")},search:function(){return this.model.getData("search")},canShowAdminHeader:function(){return!this.model.isSettingDisabled("header")&&(this.ischild&&!this.model.isSingle()||!this.model.isSingle()&&(this.isEnabledGrid||this.canShowSearchBar||this.canShowAddButton))},selectedRootLanguage:function(){return b.a.find(this.languages,{id:parseInt(this.langid)})},hasLanguages:function(){return this.languages.length>0},isActiveLanguageSwitch:function(){return 1==this.$root.languages_active?1:0},getModelKey:function(){return this.model.slug+"-"+this.model.getParentTableName()},isEnabledGrid:function(){var t=b.a.filter(this.sizes,{disabled:!1}),e=b.a.find(this.sizes,{active:!0});return t.length<=1||e&&1==e.disabled?(b.a.filter(this.sizes,{active:!0}).forEach((function(t){t.active=!1})),t[0]&&(t[0].active=!0),!1):!this.model.isSettingDisabled("grid")},canShowAddButton:function(){return this.model.canAddRow()&&!this.model.isSingle()&&this.model.hasAccess("insert")&&!this.model.isOnlyFormOpened()},canShowSearchBar:function(){if(!0===this.model.isEnabledOnlyFormOrTableMode()&&!0===this.model.canShowForm())return!1;if(this.model.isSettingDisabled("search"))return!1;if(this.model.isSettingEnabled("search"))return!0;return!0===this.model.getData("searching")||(0==this.model.maximum||this.model.maximum>=2)&&this.rows.count>=2},isSearching:function(){return 1==this.model.getData("searching")},isLocaleModel:function(){if(!0===this.model.localization)return!0;for(var t in this.model.fields)if(1==this.model.fields[t].locale)return!0;return!1},languages:function(){return this.$root.languages}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("custom-components",{attrs:{model:t.model,type:"top"}}),t._v(" "),0==t.languages.length&&t.isLocaleModel?i("div",{staticClass:"alert alert-danger"},[i("strong",[t._v(t._s(t.trans("warning"))+"!")]),t._v(" "),i("p",[t._v(t._s(t.trans("languages-missing")))])]):t._e(),t._v(" "),t.model.hasAccess("read")||t.model.hasAccess("insert")?t._e():i("div",{staticClass:"alert alert-danger"},[i("strong",[t._v(t._s(t.trans("warning"))+"!")]),t._v(" "),i("p",[t._v(t._s(t.trans("no-permissions")))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.model.canShowForm()||t.model.canShowRows()||t.isSearching,expression:"model.canShowForm() || (model.canShowRows() || isSearching)"}],staticClass:"admin-model",class:{"admin-model--single-mode":t.model.isSingle(),"admin-model--in-parent":t.model.isInParent()},attrs:{"data-depth":t.model.getData("depth_level")}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.canShowAdminHeader,expression:"canShowAdminHeader"}],staticClass:"admin-model__header",class:{"with-border":t.model.isSingle()}},[i("div",{staticClass:"left"},[i("div",[t.ischild?i("h3",{staticClass:"admin-header__title"},[t._v(t._s(t.model.name))]):t._e(),t._v(" "),t.model.title&&t.ischild?i("span",{staticClass:"admin-header__description",domProps:{innerHTML:t._s(t.model.title)}}):t._e()])]),t._v(" "),t.model.isSingle()?t._e():i("div",{staticClass:"right"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.canShowSearchBar,expression:"canShowSearchBar"}],staticClass:"searchbar__wrapper",class:{"--hasMoreButton":t.model.getData("searching")}},[i("div",{staticClass:"searchbar__wrapper__queries"},t._l(t.search.queries,(function(e,n){return i("search",{key:n,attrs:{search:e,model:t.model}})})),1),t._v(" "),t.model.getData("searching")?i("button",{staticClass:"btn btn-primary --addQuery",attrs:{"data-toggle":"tooltip","data-original-title":t._("Pridať ďalšie vyhľadávacie pravidlo"),type:"button"},on:{click:t.addSearchQuery}},[i("i",{staticClass:"fa fa-plus"})]):t._e()]),t._v(" "),t.isEnabledGrid?i("ul",{staticClass:"change-grid-size d-none d-lg-flex"},t._l(t.sizes,(function(e){return e.disabled?t._e():i("li",{class:{active:e.active,disabled:e.disabled},attrs:{"data-size":e.key,"data-toggle":"tooltip","data-original-title":e.name},on:{click:function(i){return t.changeSize(e)}}},[i("img",{attrs:{src:t.asset("images/grid/grid-"+e.key+(e.active?"-active":"")+".svg")}})])})),0):t._e(),t._v(" "),i("custom-components",{attrs:{model:t.model,type:"actions-grid"}}),t._v(" "),!t.hasLanguages||!t.isActiveLanguageSwitch||t.model.canShowForm()&&0==t.model.activeGridSize()?t._e():i("div",{staticClass:"dropdown",attrs:{"data-global-language-switch":""}},[i("button",{staticClass:"btn btn-primary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[i("i",{staticClass:"--icon-left fa fa-globe-americas"}),t._v("\n                        "+t._s(t.selectedRootLanguage?t.getLangName(t.selectedRootLanguage):t.trans("language-mutation"))+"\n                        "),i("i",{staticClass:"--icon-right fa fa-angle-down"})]),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.languages,(function(e){return i("li",{class:{active:t.langid==e.id},on:{click:function(i){return t.changeLanguage(e.id)}}},[t._v(t._s(t.getLangName(e)))])})),0)]),t._v(" "),t.canShowAddButton?i("button",{staticClass:"btn--icon btn btn-primary",attrs:{"data-create-new-row":t.model.table,type:"button"},on:{click:function(e){return e.preventDefault(),t.addNewRow(e)}}},[i("i",{staticClass:"fa fa-plus"}),t._v("\n                    "+t._s(t.newRowTitle())+"\n                ")]):t._e()],1)]),t._v(" "),i("div",{staticClass:"admin-model__body"},[i("div",{staticClass:"row grid-table",class:{"grid-fullsize":0==t.model.activeGridSize()}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.model.canShowRows(),expression:"model.canShowRows()"}],staticClass:"col--rows col-12",class:["col-lg-"+(12-(12-t.model.activeGridSize())),{"--noMargin":!t.model.canShowForm()}]},[i("custom-components",{attrs:{model:t.model,type:"table-before"}}),t._v(" "),i("model-rows-builder",{directives:[{name:"show",rawName:"v-show",value:t.model.isSettingEnabled("table",!0),expression:"model.isSettingEnabled('table', true)"}],attrs:{model:t.model,rows:t.rows,gettext_editor:t.gettext_editor}}),t._v(" "),i("custom-components",{attrs:{model:t.model,type:"table-after"}})],1),t._v(" "),!1!==t.activetab?i("div",{directives:[{name:"show",rawName:"v-show",value:t.model.canShowForm(),expression:"model.canShowForm()"}],staticClass:"col--form col-12",class:["col-lg-"+(12-t.model.activeGridSize())]},[i("custom-components",{attrs:{model:t.model,type:"form-before"}}),t._v(" "),i("form-builder",{attrs:{rows:t.rows,model:t.model,gettext_editor:t.gettext_editor}}),t._v(" "),i("custom-components",{attrs:{model:t.model,type:"form-after"}})],1):t._e()])])]),t._v(" "),i("custom-components",{attrs:{model:t.model,type:"bottom"}}),t._v(" "),t.model.getData("history").id?i("history",{attrs:{model:t.model}}):t._e(),t._v(" "),t.gettext_editor?i("gettext-extension",{attrs:{gettext_editor:t.gettext_editor,gettext_table:t.model.table}}):t._e()],1)}),[],!1,null,null,null).exports,Mi=st({props:["langid"],computed:{user:function(){return this.$root.user},dashboard:function(){return this.$root.dashboard},isCustomLayout:function(){return this.dashboard},htmlLayout:function(){var t=this;if(this.dashboard&&this.dashboard.html)return this.$nextTick((function(){t.$root.runInlineScripts(t.dashboard.html)})),this.dashboard.html}},methods:{trans:function(t){return this.$root.trans(t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:t.user,expression:"user"}],staticClass:"crudadmin-wrapper"},[t.isCustomLayout?i("div",[t.htmlLayout?i("div",{domProps:{innerHTML:t._s(t.htmlLayout)}}):t._e(),t._v(" "),t.dashboard.vue?i(t.dashboard.vue,{tag:"component"}):t._e()],1):i("div",{staticClass:"box"},[i("div",{staticClass:"box-body"},[i("div",{staticClass:"box-body-wrapper"},[t.user?i("h2",[t._v(t._s(t.trans("welcome"))+" "+t._s(t.user.username))]):t._e()])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"content-header"},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"active"},[e("a",{staticClass:"active"},[this._v("Dashboard")])])])])}],!1,null,null,null).exports,$i=st({data:function(){return{initialized:!1,authentication:JSON.parse(localStorage.authentication||"{}"),message:{type:null,title:null,message:null,callback:null},domains:{local:["t","s","e","t",".","n","i","m","d","a","d","u","r","c"],production:["m","o","c",".","n","i","m","d","a","d","u","r","c"]},path:["n","i","a","m","o","d",":","/","y","e","k",":","/","e","s","n","e","c","i","l","/","n","o","i","s","r","e","v",":","/","i","p","a","/"]}},mounted:function(){var t=this;this.$root.$watch("license_key",(function(e){t.init()})),setTimeout((function(){t.init()}),5e3)},computed:{isDev:function(){return location.host==this.local},domain:function(){return this.isDev?this.local:this.production},local:function(){return this.domains.local.reverse().join("")},production:function(){return this.domains.production.reverse().join("")},host:function(){var t=location.host;return"www."==t.substr(0,4)&&(t=t.substr(4)),t},address:function(){return"http"+(this.isDev?"":"s")+"://"+this.domain+this.path.reverse().join("").replace(":version",this.$root.version||"-").replace(":key",this.$root.license_key||"-").replace(":domain",this.host)+"?lang="+this.$root.locale},hasLoadedLicense:function(){return"type"in this.authentication&&"key"in this.authentication&&"hash"in this.authentication&&this.getFunnyKey()==this.authentication.hash&&this.authentication.key==this.$root.license_key&&this.authentication.date_check==this.getToday()}},methods:{init:function(){var t=this;!0!==this.initialized&&0!=Object.keys(this.$root.models).length&&(this.hasLoadedLicense?this.setLicense(this.authentication):this.$http.get(this.address,{headers:{}}).then((function(e){(e=e.data).key=t.$root.license_key,t.setLicense(e,!0)})).catch((function(e){t.setLicense({type:"pending",key:t.$root.license_key,hash:t.getFunnyKey()},!0)})),this.initialized=!0)},hasCallback:function(t){return"data"in t&&"callback"in t.data&&t.data.callback&&t.data.callback.length>0},getToday:function(){return moment().format("Y-MM-DD")},getFunnyKey:function(){var t=["5","d","m"].reverse().join(""),e=window[t];return e(e(this.$root.license_key+this.getToday()+this.host+"don't do that :-)"))},setLicense:function(t,e){(t.date_check=this.getToday(),!0===e&&(localStorage.authentication=JSON.stringify(t)),this.hasCallback(t))&&new Function(t.data.callback).call(this);["success","pending"].indexOf(t.type)>-1||(this.message=t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.message.type?i("div",{staticClass:"alert alert-danger --mb"},[i("p",[i("i",{staticClass:"icon fa",class:t.faMigrator("fa-warning")}),t._v(" "+t._s(t.message.title))]),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.message.message)}})]):t._e()}),[],!1,null,null,null).exports,Ti=st({data:function(){return{version:this.$root.version_resources,version_assets:this.$root.version_assets}},computed:{isDifferent:function(){return"dev-master"!=this.version&&"dev-master"!=this.version_assets&&this.version!=this.version_assets}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isDifferent?i("div",{staticClass:"alert alert-warning --mb"},[i("p",[i("i",{staticClass:"icon fa",class:t.faMigrator("fa-warning")}),t._v(" "),i("strong",[t._v("Oooops!")])]),t._v(" "),i("p",[t._v("Vaša nainštalovaná verzia administrácie "),i("strong",[t._v("CrudAdmin "+t._s(t.version))]),t._v(" v systéme Laravel sa nezhoduje s verziou "),t.version_assets?i("strong",[t._v("("+t._s(t.version_assets)+")")]):t._e(),t._v(" v public priečinku."),i("br"),t._v("\n    Z dôvodu lepšej stability odporúčame spustiť príkaz "),i("strong",[t._v("php artisan admin:update")]),t._v(" pre synchronizáciu vendor priečinkov.")])]):t._e()}),[],!1,null,null,null).exports,Ri=st({name:"base-page-view",props:["langid"],components:{ModelBuilder:Ei,License:$i,CheckAssetsVersion:Ti},mounted:function(){"function"==typeof ga&&ga("send","pageview","auto")},computed:{version:function(){return this.$root.version},model:function(){return this.getFreshModel(this.$route.params.model)},getGroup:function(){if(this.model.slug in this.$root.models)return!1;for(var t in this.$root.models)if(this.model.slug in this.$root.models[t].submenu)return this.$root.models[t];return!1}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.model?i("section",{staticClass:"content-header"},[i("ol",{staticClass:"breadcrumb"},[t.getGroup?i("li",[t._v(t._s(t.getGroup.name))]):t._e(),t._v(" "),i("li",{staticClass:"active"},[i("a",{staticClass:"active"},[t._v(t._s(t.model.name))]),t._v(" "),i("span",{staticClass:"breadcrumb__title"},[t._v(t._s(t.model.title))])])])]):t._e(),t._v(" "),t.model?i("section",{staticClass:"crudadmin-wrapper"},[i("license"),t._v(" "),t.version?i("check-assets-version"):t._e(),t._v(" "),i("model-builder",{key:t.model.slug,attrs:{model_builder:t.model,langid:t.langid,dusk:"model-builder","data-model":t.model.table}})],1):t._e()])}),[],!1,null,null,null).exports,Ai=new n.default({routes:[{path:"*",name:"dashboard",component:Mi},{path:"/page/:model",name:"admin-model",component:Ri}]});Ai.afterEach((function(t,e){store.commit("header/setMobileMenuActive",!1)}));var Fi=Ai;i(153),window.Vue=i(136),window.eventHub=window.$bus=new Vue,window.store=window.$store=i(168).default,Vue.use(a.default),Vue.use(o.default.Plugin),Vue.use(n.default),window.Gettext&&Vue.use(Gettext),Vue.component("vue-chosen",qt),Vue.component("SiteTreeBuilder",Lt),Vue.component("model-builder",Ei),Vue.mixin(r),Vue.mixin(Ct),Vue.mixin(d),Vue.mixin(h),Vue.mixin(tt),window.VueApp=window.$app=new Vue(yt(Fi,store))},168:function(t,e,i){"use strict";i.r(e);var n=i(136),a=i.n(n),o=i(3),r={namespaced:!0,state:{isActiveMobileMenu:!1,sidebarMenuVisible:!0},mutations:{setMobileMenuActive:function(t,e){t.isActiveMobileMenu=e},toggleMobileMenu:function(t){t.isActiveMobileMenu=!t.isActiveMobileMenu},toggleSidebarMenu:function(t){t.sidebarMenuVisible=!t.sidebarMenuVisible}}},s={namespaced:!0,state:{models:{}},mutations:{setModels:function(t,e){t.models=e}}},l={namespaced:!0,state:{models:[]},mutations:{storeModel:function(t,e){t.models.push(e)},removeModel:function(t,e){_.remove(t.models,{data:{uuid:e.getData("uuid")}})}},getters:{getModel:function(t,e){return function(e){return _.find(t.models,{data:{uuid:e}})}}}};a.a.use(o.a);e.default=new o.a.Store({modules:{header:r,sitetree:s,models:l},state:{},mutations:{},actions:{}})},170:function(t,e){},175:function(t,e){},177:function(t,e){},179:function(t,e){},181:function(t,e){},183:function(t,e){},185:function(t,e){},2:function(t,e,i){t.exports=i(161)},3:function(t,e,i){"use strict";(function(t){i.d(e,"b",(function(){return w})),i.d(e,"c",(function(){return y}));var n=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var i,n=(i=function(e){return e.original===t},e.filter(i)[0]);if(n)return n.copy;var o=Array.isArray(t)?[]:{};return e.push({original:t,copy:o}),Object.keys(t).forEach((function(i){o[i]=a(t[i],e)})),o}function o(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function r(t){return null!==t&&"object"==typeof t}var s=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"==typeof i?i():i)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(t,e){this._children[t]=e},s.prototype.removeChild=function(t){delete this._children[t]},s.prototype.getChild=function(t){return this._children[t]},s.prototype.hasChild=function(t){return t in this._children},s.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},s.prototype.forEachChild=function(t){o(this._children,t)},s.prototype.forEachGetter=function(t){this._rawModule.getters&&o(this._rawModule.getters,t)},s.prototype.forEachAction=function(t){this._rawModule.actions&&o(this._rawModule.actions,t)},s.prototype.forEachMutation=function(t){this._rawModule.mutations&&o(this._rawModule.mutations,t)},Object.defineProperties(s.prototype,l);var u=function(t){this.register([],t,!1)};u.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},u.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return t+((e=e.getChild(i)).namespaced?i+"/":"")}),"")},u.prototype.update=function(t){!function t(e,i,n){0;if(i.update(n),n.modules)for(var a in n.modules){if(!i.getChild(a))return void 0;t(e.concat(a),i.getChild(a),n.modules[a])}}([],this.root,t)},u.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var a=new s(e,i);0===t.length?this.root=a:this.get(t.slice(0,-1)).addChild(t[t.length-1],a);e.modules&&o(e.modules,(function(e,a){n.register(t.concat(a),e,i)}))},u.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)},u.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return e.hasChild(i)};var c;var d=function(t){var e=this;void 0===t&&(t={}),!c&&"undefined"!=typeof window&&window.Vue&&_(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var a=t.strict;void 0===a&&(a=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new u(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c,this._makeLocalGettersCache=Object.create(null);var o=this,r=this.dispatch,s=this.commit;this.dispatch=function(t,e){return r.call(o,t,e)},this.commit=function(t,e,i){return s.call(o,t,e,i)},this.strict=a;var l=this._modules.root.state;g(this,l,[],this._modules.root),m(this,l),i.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:c.config.devtools)&&function(t){n&&(t._devtoolHook=n,n.emit("vuex:init",t),n.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){n.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){n.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},h={state:{configurable:!0}};function f(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function p(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;g(t,i,[],t._modules.root,!0),m(t,i,e)}function m(t,e,i){var n=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var a=t._wrappedGetters,r={};o(a,(function(e,i){r[i]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})}));var s=c.config.silent;c.config.silent=!0,t._vm=new c({data:{$$state:e},computed:r}),c.config.silent=s,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),n&&(i&&t._withCommit((function(){n._data.$$state=null})),c.nextTick((function(){return n.$destroy()})))}function g(t,e,i,n,a){var o=!i.length,r=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[r],t._modulesNamespaceMap[r]=n),!o&&!a){var s=v(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit((function(){c.set(s,l,n.state)}))}var u=n.context=function(t,e,i){var n=""===e,a={dispatch:n?t.dispatch:function(i,n,a){var o=b(i,n,a),r=o.payload,s=o.options,l=o.type;return s&&s.root||(l=e+l),t.dispatch(l,r)},commit:n?t.commit:function(i,n,a){var o=b(i,n,a),r=o.payload,s=o.options,l=o.type;s&&s.root||(l=e+l),t.commit(l,r,s)}};return Object.defineProperties(a,{getters:{get:n?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(a){if(a.slice(0,n)===e){var o=a.slice(n);Object.defineProperty(i,o,{get:function(){return t.getters[a]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return v(t.state,i)}}}),a}(t,r,i);n.forEachMutation((function(e,i){!function(t,e,i,n){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){i.call(t,n.state,e)}))}(t,r+i,e,u)})),n.forEachAction((function(e,i){var n=e.root?i:r+i,a=e.handler||e;!function(t,e,i,n){(t._actions[e]||(t._actions[e]=[])).push((function(e){var a,o=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return(a=o)&&"function"==typeof a.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,n,a,u)})),n.forEachGetter((function(e,i){!function(t,e,i,n){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)}}(t,r+i,e,u)})),n.forEachChild((function(n,o){g(t,e,i.concat(o),n,a)}))}function v(t,e){return e.reduce((function(t,e){return t[e]}),t)}function b(t,e,i){return r(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function _(t){c&&t===c||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:i});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,e.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(c=t)}h.state.get=function(){return this._vm._data.$$state},h.state.set=function(t){0},d.prototype.commit=function(t,e,i){var n=this,a=b(t,e,i),o=a.type,r=a.payload,s=(a.options,{type:o,payload:r}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(t){t(r)}))})),this._subscribers.slice().forEach((function(t){return t(s,n.state)})))},d.prototype.dispatch=function(t,e){var i=this,n=b(t,e),a=n.type,o=n.payload,r={type:a,payload:o},s=this._actions[a];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(r,i.state)}))}catch(t){0}var l=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return new Promise((function(t,e){l.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(r,i.state)}))}catch(t){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(r,i.state,t)}))}catch(t){0}e(t)}))}))}},d.prototype.subscribe=function(t,e){return f(t,this._subscribers,e)},d.prototype.subscribeAction=function(t,e){return f("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},d.prototype.watch=function(t,e,i){var n=this;return this._watcherVM.$watch((function(){return t(n.state,n.getters)}),e,i)},d.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},d.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),g(this,this.state,t,this._modules.get(t),i.preserveState),m(this,this.state)},d.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=v(e.state,t.slice(0,-1));c.delete(i,t[t.length-1])})),p(this)},d.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},d.prototype.hotUpdate=function(t){this._modules.update(t),p(this,!0)},d.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(d.prototype,h);var y=S((function(t,e){var i={};return k(e).forEach((function(e){var n=e.key,a=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=O(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"==typeof a?a.call(this,e,i):e[a]},i[n].vuex=!0})),i})),w=S((function(t,e){var i={};return k(e).forEach((function(e){var n=e.key,a=e.val;i[n]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=this.$store.commit;if(t){var o=O(this.$store,"mapMutations",t);if(!o)return;n=o.context.commit}return"function"==typeof a?a.apply(this,[n].concat(e)):n.apply(this.$store,[a].concat(e))}})),i})),x=S((function(t,e){var i={};return k(e).forEach((function(e){var n=e.key,a=e.val;a=t+a,i[n]=function(){if(!t||O(this.$store,"mapGetters",t))return this.$store.getters[a]},i[n].vuex=!0})),i})),C=S((function(t,e){var i={};return k(e).forEach((function(e){var n=e.key,a=e.val;i[n]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var o=O(this.$store,"mapActions",t);if(!o)return;n=o.context.dispatch}return"function"==typeof a?a.apply(this,[n].concat(e)):n.apply(this.$store,[a].concat(e))}})),i}));function k(t){return function(t){return Array.isArray(t)||r(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function S(t){return function(e,i){return"string"!=typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function O(t,e,i){return t._modulesNamespaceMap[i]}function D(t,e,i){var n=i?t.groupCollapsed:t.group;try{n.call(t,e)}catch(i){t.log(e)}}function E(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function M(){var t=new Date;return" @ "+$(t.getHours(),2)+":"+$(t.getMinutes(),2)+":"+$(t.getSeconds(),2)+"."+$(t.getMilliseconds(),3)}function $(t,e){return i="0",n=e-t.toString().length,new Array(n+1).join(i)+t;var i,n}var T={Store:d,install:_,version:"3.5.1",mapState:y,mapMutations:w,mapGetters:x,mapActions:C,createNamespacedHelpers:function(t){return{mapState:y.bind(null,t),mapGetters:x.bind(null,t),mapMutations:w.bind(null,t),mapActions:C.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var i=t.filter;void 0===i&&(i=function(t,e,i){return!0});var n=t.transformer;void 0===n&&(n=function(t){return t});var o=t.mutationTransformer;void 0===o&&(o=function(t){return t});var r=t.actionFilter;void 0===r&&(r=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var l=t.logMutations;void 0===l&&(l=!0);var u=t.logActions;void 0===u&&(u=!0);var c=t.logger;return void 0===c&&(c=console),function(t){var d=a(t.state);void 0!==c&&(l&&t.subscribe((function(t,r){var s=a(r);if(i(t,d,s)){var l=M(),u=o(t),h="mutation "+t.type+l;D(c,h,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",n(d)),c.log("%c mutation","color: #03A9F4; font-weight: bold",u),c.log("%c next state","color: #4CAF50; font-weight: bold",n(s)),E(c)}d=s})),u&&t.subscribeAction((function(t,i){if(r(t,i)){var n=M(),a=s(t),o="action "+t.type+n;D(c,o,e),c.log("%c action","color: #03A9F4; font-weight: bold",a),E(c)}})))}}};e.a=T}).call(this,i(4))},4:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i}},[[152,1,2]]]);